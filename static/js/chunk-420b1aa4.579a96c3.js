(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-420b1aa4"],{1:function(e,t){},2:function(e,t){},"23ba":function(e,t,a){"use strict";a.d(t,"h",(function(){return o})),a.d(t,"l",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"g",(function(){return s})),a.d(t,"j",(function(){return p})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"i",(function(){return d})),a.d(t,"k",(function(){return f})),a.d(t,"b",(function(){return y}));var n=a("b775");a("ba0f");function o(e){return Object(n["a"])({url:"/business/client/queryClientGroupList",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/business/client/saveOrUpdateClientGroup",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/business/client/queryClientCompanySelectList",method:"post",params:e})}function i(e){return Object(n["a"])({url:"/business/client/queryClientCompanyRelationListByGroupId",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/business/client/checkReClientGroupName",method:"post",params:e})}function s(e){return Object(n["a"])({url:"/business/client/queryClientGroupInfo",method:"post",params:e})}function p(e){return Object(n["a"])({url:"/business/client/removeClientGroup",method:"post",params:e})}function u(e){return Object(n["a"])({url:"/business/client/queryClientCompanyWorkplaceInfo",method:"post",params:e})}function m(e){return Object(n["a"])({url:"/business/client/queryClientCompanyWorkplaceList",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/business/client/removeClientCompanyWorkplace",method:"post",params:e})}function f(e){return Object(n["a"])({url:"/business/client/saveOrUpdateClientCompanyWorkplace",method:"post",data:e})}function y(e){return Object(n["a"])({url:"/business/client/queryAllClientCompanySelectList",method:"post",data:e})}},3:function(e,t){},4:function(e,t){},5:function(e,t){},"8a07":function(e,t,a){"use strict";a("9192")},9192:function(e,t,a){},"91ae":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryWorkplaceListData},on:{close:e.closeRest}},[a("el-form-item",{attrs:{label:"客户简称",prop:"clientCompanyName"}},[a("el-input",{attrs:{clearable:"",placeholder:"客户简称"},model:{value:e.queryWorkplaceListData.clientCompanyName,callback:function(t){e.$set(e.queryWorkplaceListData,"clientCompanyName",t)},expression:"queryWorkplaceListData.clientCompanyName"}})],1),a("el-form-item",{attrs:{label:"职场名称",prop:"workplaceName"}},[a("el-input",{attrs:{clearable:"",placeholder:"职场名称"},model:{value:e.queryWorkplaceListData.workplaceName,callback:function(t){e.$set(e.queryWorkplaceListData,"workplaceName",t)},expression:"queryWorkplaceListData.workplaceName"}})],1),a("el-form-item",{attrs:{label:"所属集团"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:""},model:{value:e.queryWorkplaceListData.clientGroupId,callback:function(t){e.$set(e.queryWorkplaceListData,"clientGroupId",t)},expression:"queryWorkplaceListData.clientGroupId"}},e._l(e.roleList,(function(e){return a("el-option",{key:e.clientGroupId,attrs:{label:e.clientGroupName,value:e.clientGroupId}})})),1)],1),a("el-form-item",{attrs:{label:"运营城市"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:""},model:{value:e.queryWorkplaceListData.city,callback:function(t){e.$set(e.queryWorkplaceListData,"city",t)},expression:"queryWorkplaceListData.city"}},e._l(e.cityListData,(function(e){return a("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionName}})})),1)],1),a("div",{staticClass:"right-btn"},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"client.company.workplace.add",expression:"'client.company.workplace.add'"}],staticClass:"but-91",on:{click:e.newlyAdded}},[e._v("新增")]),a("el-button",{staticClass:"but-91",on:{click:e.emptyBtn}},[e._v("重置")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"client.company.workplace.list",expression:"'client.company.workplace.list'"}],staticClass:"but-91",on:{click:e.queryList}},[e._v("查询")])],1)],1),a("div",{staticClass:"tableContent"},[a("el-table",{ref:"tableRef",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.listData,size:"medium","header-cell-style":{background:"#fff",textAlign:"center",color:"#333"}},on:{"sort-change":e.onSortChange}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"客户简称",align:"left",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("zm-tooltip",{attrs:{content:e.row.clientSimpleName,refName:"supplierName"}})]}}])}),a("el-table-column",{attrs:{label:"所属集团",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.clientGroupName||"--"))])]}}])}),a("el-table-column",{attrs:{label:"运营城市",prop:"clientCompanyWorkplace.workplaceArea",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.strSubString(t.row.clientCompanyArea)))])]}}])}),a("el-table-column",{attrs:{label:"职场名称",align:"left"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("zm-tooltip",{staticClass:"wid190",attrs:{content:e.row.clientCompanyWorkplace.workplaceName,refName:"supplierName"}})]}}])}),a("el-table-column",{attrs:{label:"交付负责人",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(t.row.delivery)+" ")])]}}])}),a("el-table-column",{attrs:{label:"职场地址",align:"left",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("zm-tooltip",{attrs:{content:e.reversedMessageName(t.row.clientCompanyWorkplace.workplaceArea,t.row.clientCompanyWorkplace.address),refName:"supplierName"}})]}}])}),a("el-table-column",{attrs:{label:"邮政编码",prop:"clientCompanyWorkplace.emsCode",align:"center"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"has",rawName:"v-has",value:"client.company.workplace.info",expression:"'client.company.workplace.info'"}],staticClass:"customBtn",attrs:{size:"medium"},on:{click:function(a){return e.workplaceDetails(t.row)}}},[e._v("详情")]),a("el-dropdown",{attrs:{vhas:"'client.company.workplace.edit,client.company.workplace.delete'"},on:{command:e.handleCommand}},[a("span",{directives:[{name:"has",rawName:"v-has",value:"client.company.workplace.edit,client.company.workplace.delete",expression:"'client.company.workplace.edit,client.company.workplace.delete'"}],staticClass:"customBtn",staticStyle:{"margin-left":"10px"},attrs:{size:"medium",type:"primary"}},[e._v(" 更多 "),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"has",rawName:"v-has",value:"client.company.workplace.edit",expression:"'client.company.workplace.edit'"}],attrs:{command:e.beforeHandleCommand(t.row,"a")}},[e._v("编辑")]),a("el-dropdown-item",{directives:[{name:"has",rawName:"v-has",value:"client.company.workplace.delete",expression:"'client.company.workplace.delete'"}],attrs:{command:e.beforeHandleCommand(t.row,"b")}},[e._v("删除")])],1)],1)]}}])})],1),a("el-dialog",{staticStyle:{"margin-top":"100px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,width:"40%",visible:e.dialogFormVisible},on:{close:e.dialogTipsClose,"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"formData",attrs:{rules:e.rulesDialog,model:e.formData,"label-width":"104px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"客户名称",prop:"clientCompanyWorkplace.clientCompanyId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","remote-method":e.remoteMethod,remote:"",clearable:""},on:{change:e.onSimpleName},model:{value:e.formData.clientCompanyWorkplace.clientCompanyId,callback:function(t){e.$set(e.formData.clientCompanyWorkplace,"clientCompanyId",t)},expression:"formData.clientCompanyWorkplace.clientCompanyId"}},e._l(e.customerNameList,(function(e){return a("el-option",{key:e.clientCompanyId,attrs:{label:e.clientCompanyName,value:e.clientCompanyId}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"客户简称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.clientSimpleName,callback:function(t){e.clientSimpleName=t},expression:"clientSimpleName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"职场名称",prop:"clientCompanyWorkplace.workplaceName"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"50",clearable:""},model:{value:e.formData.clientCompanyWorkplace.workplaceName,callback:function(t){e.$set(e.formData.clientCompanyWorkplace,"workplaceName",t)},expression:"formData.clientCompanyWorkplace.workplaceName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮政编码",prop:"clientCompanyWorkplace.emsCode"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"6",clearable:""},model:{value:e.formData.clientCompanyWorkplace.emsCode,callback:function(t){e.$set(e.formData.clientCompanyWorkplace,"emsCode",t)},expression:"formData.clientCompanyWorkplace.emsCode"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"职场地址",prop:"clientCompanyWorkplace.workplaceArea"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{clearable:"",options:e.regionOptions,props:{expandTrigger:"hover"}},model:{value:e.formData.clientCompanyWorkplace.workplaceArea,callback:function(t){e.$set(e.formData.clientCompanyWorkplace,"workplaceArea",t)},expression:"formData.clientCompanyWorkplace.workplaceArea"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"widthAddress",staticStyle:{"margin-left":"-142px"},attrs:{prop:"clientCompanyWorkplace.address"}},[a("el-input",{attrs:{placeholder:"请输入详细地址",maxlength:"50",clearable:""},model:{value:e.formData.clientCompanyWorkplace.address,callback:function(t){e.$set(e.formData.clientCompanyWorkplace,"address",t)},expression:"formData.clientCompanyWorkplace.address"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"交付负责人",prop:"clientCompanyImportant.workplaceUserId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"remote-method":e.remoteMethodUserId,remote:"",filterable:"",clearable:"",placeholder:"请选择"},on:{change:e.onWorkplaceUserName},model:{value:e.formData.clientCompanyImportant.workplaceUserId,callback:function(t){e.$set(e.formData.clientCompanyImportant,"workplaceUserId",t)},expression:"formData.clientCompanyImportant.workplaceUserId"}},e._l(e.workplaceUserNameArr,(function(e){return a("el-option",{key:e.employId,attrs:{label:"["+e.employNo+"] "+e.employName,value:e.employId}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"交付手机号",prop:"clientCompanyImportant.workplaceUserPhone"}},[a("el-input",{attrs:{clearable:"",disabled:""},model:{value:e.formData.clientCompanyImportant.workplaceUserPhone,callback:function(t){e.$set(e.formData.clientCompanyImportant,"workplaceUserPhone",t)},expression:"formData.clientCompanyImportant.workplaceUserPhone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户联系人"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.formData.clientCompanyWorkplaceAdminList.workplaceUserName,callback:function(t){e.$set(e.formData.clientCompanyWorkplaceAdminList,"workplaceUserName",t)},expression:"\n                  formData.clientCompanyWorkplaceAdminList.workplaceUserName\n                "}})],1)],1),a("el-col",{staticStyle:{position:"relative"},attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户手机号"}},[a("el-input",{attrs:{clearable:"",oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入",maxlength:"11"},model:{value:e.formData.clientCompanyWorkplaceAdminList.workplaceUserPhone,callback:function(t){e.$set(e.formData.clientCompanyWorkplaceAdminList,"workplaceUserPhone",t)},expression:"\n                  formData.clientCompanyWorkplaceAdminList.workplaceUserPhone\n                "}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("Debounce",{attrs:{time:5100}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.preserveBtn("formData")}}},[e._v("确 定")])],1)],1)],1),a("el-dialog",{staticStyle:{"margin-top":"100px"},attrs:{title:"职场详情","close-on-click-modal":!1,width:"40%",visible:e.dialogDetailsVisible},on:{"update:visible":function(t){e.dialogDetailsVisible=t}}},[e.currentClientObj.clientCompanyName?a("div",{staticClass:"dialog-details"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"dialog-content"},[e._v(" 客户名称："),a("span",[e._v(e._s(e.currentClientObj.clientCompanyName))])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"dialog-content"},[e._v(" 客户简称: "),a("span",[e._v(e._s(e.currentClientObj.clientSimpleName))])])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"dialog-content"},[e._v(" 职场名称: "),a("span",[e._v(e._s(e.currentClientObj.clientCompanyWorkplace.workplaceName))])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"dialog-content"},[e._v(" 邮政编码: "),a("span",[e._v(e._s(e.currentClientObj.clientCompanyWorkplace.emsCode))])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"dialog-content"},[e._v(" 职场地址: "),a("span",[e._v(e._s(e.currentClientObj.clientCompanyWorkplace.workplaceArea)+e._s(e.currentClientObj.clientCompanyWorkplace.address))])])])],1),e._l(e.currentClientObj.clientCompanyWorkplaceAdminList,(function(t,n){return a("el-row",{key:n},[0==t.workplaceAdminType?a("el-col",{attrs:{span:12}},[a("div",{staticClass:"dialog-content"},[e._v(" 交付负责人: "),a("span",[e._v(e._s(t.workplaceUserName||t.userName))])])]):a("el-col",{attrs:{span:12}},[a("div",{staticClass:"dialog-content"},[e._v(" 客户联系人: "),a("span",[e._v(e._s(t.workplaceUserName))])])]),0==t.workplaceAdminType?a("el-col",{attrs:{span:12}},[a("div",{staticClass:"dialog-content"},[e._v(" 交付手机号: "),a("span",[e._v(e._s(t.workplaceUserPhone))])])]):a("el-col",{attrs:{span:12}},[a("div",{staticClass:"dialog-content"},[e._v(" 客户手机号: "),a("span",[e._v(e._s(t.workplaceUserPhone))])])])],1)})),a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogDetailsVisible=!1}}},[e._v("关 闭")])],1)],2):e._e()])],1),a("div",{staticClass:"pagination-min"},[a("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[15,30,50],"page-size":e.pageSize,layout:"total,sizes, prev, pager, next, jumper",total:e.paginationData.rowCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.pageIndex=t},"update:current-page":function(t){e.pageIndex=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],1)],1)},o=[],r=a("1da1"),l=a("b85c"),i=(a("96cf"),a("159b"),a("a15b"),a("d3b7"),a("4de4"),a("ac1f"),a("1276"),a("d81d"),a("a434"),a("a417")),c=a("23ba"),s=a("ed08"),p=a("61f7"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",e._b({staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","remote-method":e.remoteMethod},on:{clear:e.clear,change:e.getSelectValue},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},"el-select",e.$attrs,!1),e._l(e.optionSelectList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.userInfo.userName,value:e.userInfo.userId}})})),1)},m=[],d={name:"selectVmClientUsers",props:{selectValueAsync:{handler:function(e,t){this.selectValue=e}}},data:function(){return{selectValue:"",optionSelectList:[]}},mounted:function(){this.emptySelectValue(),this.getOptionSelectList(),console.log()},watch:{selectValueAsync:{handler:function(e,t){this.selectValue=e}}},methods:{emptySelectValue:function(){this.selectValue=""},getSelectValue:function(e){var t="";this.optionSelectList.forEach((function(a){a.userInfo.userId==e&&(t=a.userInfo.userPhone)})),console.log("selectValue",e),this.$emit("getSelectValue",e,t)},getOptionSelectList:function(e){var t=this,a={input:{}};a.input.keyword=e||"",Object(i["K"])(a).then((function(e){var a=e.result;t.optionSelectList=a,console.log("this.optionSelectList",t.optionSelectList)}))},remoteMethod:function(e){this.getOptionSelectList(e)},clear:function(){this.getOptionSelectList()},focus:function(){this.getOptionSelectList()}}},f=d,y=a("2877"),h=Object(y["a"])(f,u,m,!1,null,null,null),b=h.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",e._b({staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","remote-method":e.remoteMethod},on:{clear:e.clear,change:e.getSelectValue},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},"el-select",e.$attrs,!1),e._l(e.optionSelectList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.clientCompanyName,value:e.clientCompanyId}})})),1)},g=[],C={name:"selectVmClientUsers",props:{selectValueAsync:{type:String}},data:function(){return{selectValue:"",optionSelectList:[]}},mounted:function(){this.emptySelectValue(),this.getOptionSelectList(),console.log()},watch:{selectValueAsync:{handler:function(e,t){console.log("newVal",e),this.selectValue=e}}},methods:{emptySelectValue:function(){this.selectValue=""},getSelectValue:function(e){var t="";this.optionSelectList.forEach((function(a){a.clientCompanyId==e&&(console.log("item",a),t=a.clientSimpleName)})),this.$emit("getSelectValue",e,t)},getOptionSelectList:function(e){var t=this,a={clientType:"IT_CLTP_001"};a.clientCompanyName=e||"",Object(c["b"])(a).then((function(e){var a=e;t.optionSelectList=a}))},editGetSelectTextById:function(){var e=this;if(console.log("this.selectValue",this.selectValue),console.log("this.optionSelectList",this.optionSelectList),""!=this.selectValue){this.optionSelectList.forEach((function(t){t.value!=e.selectValue&&!1}))}},remoteMethod:function(e){this.getOptionSelectList(e)},clear:function(){console.log(1),this.getOptionSelectList()},focus:function(){this.getOptionSelectList()},blur:function(){console.log("this.selectValue",this.selectValue)}}},v=C,w=Object(y["a"])(v,k,g,!1,null,null,null),O=w.exports,L=a("8952"),I=(a("5f98"),a("dc27")),j={name:"CustomerWorkplace",components:{zmSelectUserlist:b,zmSelectAccslist:O,zmTooltip:L["a"]},data:function(){return{regionOptions:[],rulesDialog:{"clientCompanyWorkplace.clientCompanyId":[{required:!0,message:"请选择客户名称",trigger:"change"}],"clientCompanyWorkplace.workplaceName":[{required:!0,message:"请输入职场名称",trigger:"change"}],"clientCompanyWorkplace.emsCode":[{required:!1,trigger:"change",validator:p["c"]}],"clientCompanyWorkplace.workplaceArea":[{required:!0,message:"请输入职场地址",trigger:"change"}],"clientCompanyWorkplace.address":[{required:!0,message:"请输入详细地址",trigger:"change"}],"clientCompanyImportant.workplaceUserId":[{required:!0,message:"请输入交付人",trigger:"change"}],"clientCompanyImportant.workplaceUserPhone":[{required:!0,message:"请输入交付人手机号",trigger:"change"}]},dialogTitle:"新建职场",listData:[],roleList:[],sortData:[],cityListData:[],queryWorkplaceListData:{clientCompanyName:"",workplaceName:"",city:"",displays:[],clientGroupId:""},finalWorkplaceArea:"",queryLoading:!1,cityQueryLoading:!1,dialogFormVisible:!1,dialogDetailsVisible:!1,formData:{clientCompanyWorkplace:{address:"",area:"",city:"",clientCompanyId:"",province:"",workplaceId:"",workplaceName:"",emsCode:"",workplaceArea:""},clientCompanyImportant:{workplaceAdminId:"",workplaceAdminType:"0",workplaceId:"",workplaceUserId:"",workplaceUserName:"",workplaceUserPhone:""},clientCompanyWorkplaceAdminList:{workplaceAdminId:"",workplaceAdminType:"1",workplaceId:"",workplaceUserId:"",workplaceUserName:"",workplaceUserPhone:""}},currentClientObj:{},clientSimpleName:"",customerNameList:[],currentTbCompanyName:"",paginationData:{},currentPage:1,pageSize:15,pageIndex:1,principalList:[],workplaceUserNameArr:[],initLength:0,initCustomerNameList:[],initWorkplaceUserNameList:[],rowClientWorkplaceObj:{},debounceFlag:!0}},activated:function(){var e=this;this.$nextTick((function(){console.log("重新渲染"),e.$refs.tableRef.doLayout()}))},created:function(){this.regionOptions=Object(s["i"])("cityTree"),this.baseList(this.pageIndex),this.queryUserList()},filters:{relationClass:function(e,t){var a,n=Object(l["a"])(t);try{for(n.s();!(a=n.n()).done;){var o=a.value;if(o.clientCompanyId==e&&o.clientSimpleName)return o.clientSimpleName}}catch(r){n.e(r)}finally{n.f()}}},methods:{reversedMessageName:function(e,t){return e+t},indexMethod:function(e){return this.pageSize*this.paginationData.pageIndex+e-this.pageSize+1},queryUserList:function(){var e=this;Object(I["R"])({keyWord:""}).then((function(t){console.log(t,"员工"),e.workplaceUserNameArr=t,e.initWorkplaceUserNameList=t}))},closeRest:function(){void 0!==this.$refs["formData"]&&this.$refs["formData"].resetFields()},baseList:function(e){var t=this;Object(i["t"])({keyword:""}).then((function(e){t.roleList=e})),Object(i["B"])({regionLevel:"2"}).then((function(e){t.cityListData=e})),Object(c["b"])({clientType:"IT_CLTP_001"}).then((function(e){t.customerNameList=e,t.initCustomerNameList=e,t.initLength=t.customerNameList.length,console.log("customerNameList",t.customerNameList)})),Object(c["f"])({input:this.queryWorkplaceListData,nextToken:"",pageEnd:0,pageIndex:e,pageSize:this.pageSize,pageStart:0}).then((function(e){t.paginationData=e,t.listData=e.result,t.listData&&t.listData.forEach((function(e){if(e.clientCompanyWorkplaceAdminList&&e.clientCompanyWorkplaceAdminList.length){var t=[];e.clientCompanyWorkplaceAdminList.forEach((function(e){"0"==e.workplaceAdminType&&e.workplaceUserName&&t.push(e.workplaceUserName)})),t.length?e.delivery=t.join(","):e.delivery="--"}}))}))},emptyBtn:function(){this.pageIndex=1,this.queryWorkplaceListData={city:"",displays:[],clientGroupId:"",keyword:""},this.baseList(this.pageIndex)},queryList:function(){this.baseList(this.pageIndex)},preserveBtn:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;if(t.debounceFlag){t.debounceFlag=!1;var a=JSON.parse(JSON.stringify(t.formData)),n=Object(s["i"])("cityTree"),o=[];a.clientCompanyWorkplace.workplaceArea.forEach((function(e){o.push(Object(s["b"])(n,e))}));var r=o.toString();a.clientCompanyWorkplace.workplaceArea=r;var l=a.clientCompanyImportant,i=a.clientCompanyWorkplaceAdminList;delete a.clientCompanyImportant,a.clientCompanyWorkplaceAdminList=[],a.clientCompanyWorkplaceAdminList.push(l),a.clientCompanyWorkplaceAdminList.push(i),console.log("编辑或新增",a),Object(c["k"])(a).then((function(e){t.dialogFormVisible=!1,t.baseList(t.pageIndex),"新建职场"==t.dialogTitle?t.$message({message:"新增成功！",type:"success"}):t.$message({message:"编辑成功！",type:"success"})}))}}))},onSimpleName:function(e){void 0!=e&&""!=e&&(console.log(this.getName(e,this.customerNameList)),this.clientSimpleName=this.getName(e,this.customerNameList).clientSimpleName)},getName:function(e,t){return t.filter((function(t){return t.clientCompanyId==e}))[0]},setLabelAddress:function(e){var t=Object(s["i"])("cityTree"),a=[];e.forEach((function(e){a.push(Object(s["b"])(t,e))})),this.finalWorkplaceArea=a.toString()},beforeHandleCommand:function(e,t){return{item:e,command:t}},handleCommand:function(e){var t=this;if(this.debounceFlag=!0,console.log("command",e),"a"==e.command){this.rowClientWorkplaceObj=e.item.clientCompanyWorkplace,this.dialogTitle="编辑职场",this.dialogFormVisible=!0;var a=JSON.parse(JSON.stringify(e.item)),n=a.clientCompanyWorkplaceAdminList;delete a.clientCompanyWorkplaceAdminList;var o=Object(s["i"])("cityTree"),r=[];a.clientCompanyWorkplace.workplaceArea&&(r=a.clientCompanyWorkplace.workplaceArea.split(","));var i,p=Object(s["g"])(o,r),u=p.map((function(e){return e.value})),m=Object(l["a"])(n);try{for(m.s();!(i=m.n()).done;){var d=i.value;0==d.workplaceAdminType?this.formData.clientCompanyImportant=d:this.formData.clientCompanyWorkplaceAdminList=d}}catch(C){m.e(C)}finally{m.f()}this.clientSimpleName=a.clientSimpleName,a.clientCompanyWorkplace.workplaceArea=u,this.formData.clientCompanyWorkplace=a.clientCompanyWorkplace;var f="",y=JSON.parse(JSON.stringify(this.initCustomerNameList)),h=JSON.parse(JSON.stringify(this.initWorkplaceUserNameList));this.formData.clientCompanyWorkplace&&this.formData.clientCompanyWorkplace.clientCompanyId&&(f=this.formData.clientCompanyWorkplace.clientCompanyId);var b=y.some((function(e){return e.clientCompanyId==f}));console.log("hasClientCompanyId",b),0==b?Object(c["b"])({clientCompanyId:f,clientType:"IT_CLTP_001"}).then((function(e){var a=e;y.push(a[0]),t.customerNameList=y})):this.customerNameList=y;var k="";this.formData.clientCompanyImportant&&this.formData.clientCompanyImportant.workplaceUserId&&(k=this.formData.clientCompanyImportant.workplaceUserId);var g=h.some((function(e){return e.employId==k}));console.log("hasUserId",g),!1===g?Object(I["R"])({keyWord:"",employId:k}).then((function(e){e&&e.length&&(h.unshift(e[0]),t.workplaceUserNameArr=h)})):this.workplaceUserNameArr=h,console.log("this.formData.clientCompanyWorkplace.workplaceArea",this.formData.clientCompanyWorkplace.workplaceArea)}else"b"==e.command&&this.$confirm("此操作将永久删除该数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["i"])({workplaceId:e.item.clientCompanyWorkplace.workplaceId}).then((function(e){t.baseList(t.pageIndex),t.$message({type:"success",message:"删除成功!"})}))})).catch((function(e){}))},newlyAdded:function(){this.debounceFlag=!0,this.dialogTitle="新建职场",this.dialogFormVisible=!0,this.clientSimpleName="",this.formData={clientCompanyWorkplace:{address:"",area:"",city:"",clientCompanyId:"",province:"",workplaceId:"",workplaceName:"",emsCode:"",workplaceArea:""},clientCompanyImportant:{workplaceAdminId:"",workplaceAdminType:"0",workplaceId:"",workplaceUserId:"",workplaceUserName:"",workplaceUserPhone:""},clientCompanyWorkplaceAdminList:{workplaceAdminId:"",workplaceAdminType:"1",workplaceId:"",workplaceUserId:"",workplaceUserName:"",workplaceUserPhone:""}},this.responsiblObj={workplaceAdminId:"",workplaceAdminType:"",workplaceId:"",workplaceUserId:"",workplaceUserName:"",workplaceUserPhone:""},this.contactObj=[{workplaceAdminId:"",workplaceAdminType:"",workplaceId:"",workplaceUserId:"",workplaceUserName:"",workplaceUserPhone:""}],this.closeRest()},onWorkplaceUserName:function(e){var t,a=Object(l["a"])(this.workplaceUserNameArr);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.employId==e&&(this.formData.clientCompanyImportant.workplaceUserPhone=n.employPhone)}}catch(o){a.e(o)}finally{a.f()}},workplaceDetails:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogDetailsVisible=!0,a.next=3,Object(c["e"])({workplaceId:e.clientCompanyWorkplace.workplaceId});case 3:n=a.sent,t.currentClientObj=n;case 5:case"end":return a.stop()}}),a)})))()},strSubString:function(e){var t="",a=[];if(e&&(a=e.split(",")),null!=a&&a.length>0){var n,o=Object(l["a"])(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(-1!=r.indexOf("市")){t=r;break}}}catch(i){o.e(i)}finally{o.f()}}return t},remoteMethod:function(e){var t=this,a={clientType:"IT_CLTP_001"};a.clientCompanyName=e,Object(c["b"])(a).then((function(e){t.customerNameList=e}))},remoteMethodUserId:function(e){var t=this;Object(I["R"])({keyWord:e||""}).then((function(e){var a=e;t.workplaceUserNameArr=a}))},onSortChange:function(e){var t=this;this.sortData=[];var a="";a="ascending"===e.order?"asc":"desc";var n={display:a,field:e.prop};0===this.sortData.length?this.sortData.push(n):this.sortData.forEach((function(e,a){if(e.field===n.field){if(e.display===n.display)return void t.sortData.splice(a,1);t.sortData.splice(a,1),t.sortData.push(n)}else t.sortData.push(n)})),this.queryWorkplaceListData.displays=this.sortData,this.baseList(this.pageIndex)},dialogTipsClose:function(){this.$refs.formData.resetFields()},handleSizeChange:function(){this.baseList()},handleCurrentChange:function(e){this.baseList(e)},getSelectValueUserlist:function(e,t){console.log(e),this.formData.clientCompanyImportant.workplaceUserId=e,this.formData.clientCompanyImportant.workplaceUserPhone=t},getSelectValueAccslist:function(e,t){console.log(e),console.log(t),this.formData.clientCompanyWorkplace.clientCompanyId=e,this.clientSimpleName=t}}},N=j,S=(a("8a07"),Object(y["a"])(N,n,o,!1,null,"1659c700",null));t["default"]=S.exports},dc27:function(e,t,a){"use strict";a.d(t,"t",(function(){return o})),a.d(t,"R",(function(){return r})),a.d(t,"db",(function(){return l})),a.d(t,"E",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"x",(function(){return s})),a.d(t,"J",(function(){return p})),a.d(t,"K",(function(){return u})),a.d(t,"G",(function(){return m})),a.d(t,"cb",(function(){return d})),a.d(t,"P",(function(){return f})),a.d(t,"bb",(function(){return y})),a.d(t,"N",(function(){return h})),a.d(t,"eb",(function(){return b})),a.d(t,"hb",(function(){return k})),a.d(t,"ab",(function(){return g})),a.d(t,"gb",(function(){return C})),a.d(t,"H",(function(){return v})),a.d(t,"I",(function(){return w})),a.d(t,"F",(function(){return O})),a.d(t,"L",(function(){return L})),a.d(t,"O",(function(){return I})),a.d(t,"fb",(function(){return j})),a.d(t,"jb",(function(){return N})),a.d(t,"w",(function(){return S})),a.d(t,"C",(function(){return D})),a.d(t,"s",(function(){return W})),a.d(t,"U",(function(){return A})),a.d(t,"V",(function(){return x})),a.d(t,"M",(function(){return _})),a.d(t,"v",(function(){return U})),a.d(t,"ib",(function(){return q})),a.d(t,"p",(function(){return E})),a.d(t,"h",(function(){return V})),a.d(t,"W",(function(){return T})),a.d(t,"g",(function(){return F})),a.d(t,"n",(function(){return P})),a.d(t,"X",(function(){return $})),a.d(t,"B",(function(){return z})),a.d(t,"Q",(function(){return R})),a.d(t,"D",(function(){return B})),a.d(t,"l",(function(){return G})),a.d(t,"i",(function(){return M})),a.d(t,"m",(function(){return J})),a.d(t,"y",(function(){return H})),a.d(t,"A",(function(){return K})),a.d(t,"z",(function(){return Q})),a.d(t,"S",(function(){return Z})),a.d(t,"c",(function(){return X})),a.d(t,"e",(function(){return Y})),a.d(t,"b",(function(){return ee})),a.d(t,"d",(function(){return te})),a.d(t,"j",(function(){return ae})),a.d(t,"f",(function(){return ne})),a.d(t,"Z",(function(){return oe})),a.d(t,"T",(function(){return re})),a.d(t,"q",(function(){return le})),a.d(t,"Y",(function(){return ie})),a.d(t,"r",(function(){return ce})),a.d(t,"o",(function(){return se})),a.d(t,"u",(function(){return pe})),a.d(t,"k",(function(){return ue}));var n=a("b775");function o(e){return Object(n["a"])({url:"/employ/attr/queryEmployAttrList",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/employ/archives/queryEmployList",method:"post",params:e})}function l(e){return Object(n["a"])({url:"/employ/attr/saveOrUpdateEmployAttr",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/employ/attr/queryEmployAttr",method:"post",params:e})}function c(e){return Object(n["a"])({url:"/employ/attr/addOrCancelAttr",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/employ/attr/queryEmployAttrHistory",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/employ/free/queryEmployFreeList",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/employ/free/queryEmployFreePoolList",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/employ/free/queryEmployFree",method:"post",params:e})}function d(e){return Object(n["a"])({url:"/employ/archives/saveOrUpdateEmploy",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/employ/archives/queryEmployInfoList",method:"post",data:e})}function y(e){return Object(n["a"])({url:"/employ/archives/removeEmployInfo",method:"post",params:e})}function h(e){return Object(n["a"])({url:"/employ/archives/queryEmployInfoDetail",method:"post",params:e})}function b(e){return Object(n["a"])({url:"/employ/free/saveOrUpdateEmployFree",method:"post",data:e})}function k(e){return Object(n["a"])({url:"/employ/free/updateEmployFreeEntry",method:"post",data:e})}function g(e){return Object(n["a"])({url:"/employ/free/removeEmployFree",method:"post",params:e})}function C(e){return Object(n["a"])({url:"/employ/free/updateCancelEmployFree",method:"post",data:e})}function v(e){return Object(n["a"])({url:"/employ/free/queryEmployFreeDetail",method:"post",params:e})}function w(e){return Object(n["a"])({url:"/employ/free/queryEmployFreeHistory",method:"post",data:e})}function O(e){return Object(n["a"])({url:"/employ/archives/queryEmployFormalList",method:"post",data:e})}function L(e){return Object(n["a"])({url:"/employ/archives/queryEmployHistoryList",method:"post",params:e})}function I(e){return Object(n["a"])({url:"/employ/archives/queryEmployInfo",method:"post",params:e})}function j(e){return Object(n["a"])({url:"/employ/archives/updateBatchFormal",method:"post",data:e})}function N(e){return Object(n["a"])({url:"/employ/archives/updateFormalDelay",method:"post",data:e})}function S(){return Object(n["a"])({url:"/employ/archives/queryAppointCount",method:"post"})}function D(e){return Object(n["a"])({url:"/employ/archives/queryEmployBaseDetail?employId=".concat(e.employId),method:"post"})}function W(e){return Object(n["a"])({url:"/employ/archives/getEmployBaseDetail",method:"post",params:e})}function A(e){return Object(n["a"])({url:"/employ/archives/queryEmployWorkCount",method:"post",params:e})}function x(e){return Object(n["a"])({url:"/employ/archives/queryLastEmployChangeRecord",method:"post",params:e})}function _(e){return Object(n["a"])({url:"/employ/archives/queryEmployInfoContractPage",method:"post",data:e})}function U(e){return Object(n["a"])({url:"/employ/archives/operateEmployInfoContract",method:"post",data:e})}function q(e){return Object(n["a"])({url:"/employ/archives/updateEmployInfoContract",method:"post",data:e})}function E(e){return Object(n["a"])({url:"/employ/archives/exportEmployInfoContract",method:"post",data:e})}function V(e){return Object(n["a"])({url:"/employ/archives/checkSpecialDate",method:"post",data:e})}function T(e){return Object(n["a"])({url:"/employ/free/queryNewEmployFreeDetail",method:"post",params:e})}function F(e){return Object(n["a"])({url:"/employ/archives/checkFlow",method:"post",params:e})}function P(e){return Object(n["a"])({url:"/employ/archives/exportEmploy",method:"post",data:e})}function $(e){return Object(n["a"])({url:"/system/org/queryOrgMoney?employType=".concat(e.employType),method:"post"})}function z(e){return Object(n["a"])({url:"/employ/activity/getNewEmployList",method:"post",data:e})}function R(e){return Object(n["a"])({url:"/employ/activity/getReductionEmployList",method:"post",data:e})}function B(e){return Object(n["a"])({url:"/employ/activity/getPositiveEmployList",method:"post",data:e})}function G(e){return Object(n["a"])({url:"/employ/activity/exportPositiveEmployExcel",method:"post",data:e})}function M(e){return Object(n["a"])({url:"/employ/activity/exportNewEmployExcel",method:"post",data:e})}function J(e){return Object(n["a"])({url:"/employ/activity/exportReductionEmployExcel",method:"post",data:e})}function H(e){return Object(n["a"])({url:"/business/client/queryClientCompanySelectListByLike",method:"post",params:e})}function K(e){return Object(n["a"])({url:"/business/contract/queryContractSelectByOrgIdANDClientCompanyIdOnEmploy",method:"post",params:e})}function Q(e){return Object(n["a"])({url:"/business/client/queryClientCompanyWorkplaceListByLike",method:"post",params:e})}function Z(e){return Object(n["a"])({url:"/employ/activity/getaddOrLeaveEmployList",method:"post",data:e})}function X(e){return Object(n["a"])({url:"/employ/two/updChangeLeave",method:"post",data:e})}function Y(e){return Object(n["a"])({url:"/employ/two/updChangeEmployType",method:"post",data:e})}function ee(e){return Object(n["a"])({url:"/employ/two/updChangeZhuanOrg",method:"post",data:e})}function te(e){return Object(n["a"])({url:"/employ/two/updChangeTiaoGang",method:"post",data:e})}function ae(e){return Object(n["a"])({url:"/employ/two/exportUnFormalEmployChangeFinanceList",method:"post",data:e})}function ne(e){return Object(n["a"])({url:"/employ/two/getTwoDetail",method:"get",params:e})}function oe(e){return Object(n["a"])({url:"/system/user/queryUserSelectListByCondition",method:"post",params:e})}function re(e){return Object(n["a"])({url:"/employ/archives/queryEmployRosterList",method:"post",data:e})}function le(e){return Object(n["a"])({url:"/employ/archives/exportEmployRoster",method:"post",data:e})}function ie(e){return Object(n["a"])({url:"/employ/archives/queryRosterList",method:"post",data:e})}function ce(e){return Object(n["a"])({url:"/employ/archives/exportRoster",method:"post",data:e})}function se(e){return Object(n["a"])({url:"/employ/free/exportEmployFree",method:"post",data:e})}function pe(e){return Object(n["a"])({url:"/employ/rosterrealtime/getLastContrastInfo",method:"get",data:e})}function ue(e){return Object(n["a"])({url:"/employ/rosterrealtime/exportContrastExcel",method:"get",data:e})}}}]);