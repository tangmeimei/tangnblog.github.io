(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06408d00"],{1971:function(t,e,n){"use strict";n.r(e);var a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toms-container"},[n("div",{staticClass:"toms-list-searchWrap"},[n("zm-Search",{ref:"search",attrs:{inputList:t.inputListConfig,btnConfig:t.btnConfig},on:{search:t.search,addFn:t.addFn,reset:t.resetTable,exportFileFn:t.exportFileFn,customerRemoteMethod:t.customerRemoteMethod}})],1),n("salaryLineAddModal",{attrs:{openAddModal:t.openAddModal},on:{"update:openAddModal":function(e){t.openAddModal=e},"update:open-add-modal":function(e){t.openAddModal=e}}}),n("salaryLineImportModal",{attrs:{openImportModal:t.openImportModal,lineMainId:t.lineMainId},on:{"update:openImportModal":function(e){t.openImportModal=e},"update:open-import-modal":function(e){t.openImportModal=e}}}),n("salaryLineEditModal",{attrs:{openEditModal:t.openEditModal,editDetail:t.editDetail},on:{"update:openEditModal":function(e){t.openEditModal=e},"update:open-edit-modal":function(e){t.openEditModal=e}}}),n("div",{staticClass:"toms-list-tableWrap"},[n("zm-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{tableData:t.tableData,columns:t.columns,height:"542px",currentPage:t.pageData.pageIndex,pageSize:t.pageData.pageSize,total:t.pageData.pageCount,sizeList:t.sizeList,paginationData:t.paginationData},on:{detailFn:t.detailFn,editFn:t.editFn,importFn:t.importFn,UVFn:t.UVFn,deleteFn:t.deleteFn,sortChange:t.sortChange,handleSizeChange:t.handleSizeChange,handleCurrentChange:t.handleCurrentChange}})],1)],1)},r=[],i=n("1da1"),c=(n("96cf"),n("d81d"),n("159b"),n("a434"),n("8cc7")),l=n("a937"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"empowerModal"},[n("el-dialog",{attrs:{title:"薪资线-新增",visible:t.openAddModal,"close-on-press-escape":!1,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.openAddModal=e},close:function(e){return t.close("form")}}},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rulesDialog}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"客户名称",prop:"customerId","label-width":t.formLabelWidth}},[n("el-select",{attrs:{filterable:"",remote:"","remote-method":t.customerRemote,placeholder:"请输入搜索关键字"},on:{change:t.customerChange},model:{value:t.form.customerId,callback:function(e){t.$set(t.form,"customerId",e)},expression:"form.customerId"}},t._l(t.customerOptionList,(function(t){return n("el-option",{key:t.clientCompanyId,attrs:{label:t.clientCompanyName,value:t.clientCompanyId}})})),1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"城市",prop:"cityId","label-width":t.formLabelWidth}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.cityId,callback:function(e){t.$set(t.form,"cityId",e)},expression:"form.cityId"}},t._l(t.baseDataOptionList.IT_CITY,(function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"是否按学历报价",prop:"isEduPriceFlag","label-width":t.formLabelWidth}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.isEduPriceFlag,callback:function(e){t.$set(t.form,"isEduPriceFlag",e)},expression:"form.isEduPriceFlag"}},t._l(t.baseDataOptionList.IT_ISEP,(function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1)],1),n("el-col",{attrs:{span:12}},[t.showEdu?n("el-form-item",{attrs:{label:"学历报价类型",prop:"education","label-width":t.formLabelWidth}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.education,callback:function(e){t.$set(t.form,"education",e)},expression:"form.education"}},t._l(t.baseDataOptionList.IT_EDUX,(function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1):t._e()],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"薪资线设置类型",prop:"salaryLineSetType","label-width":t.formLabelWidth}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.salaryLineSetType,callback:function(e){t.$set(t.form,"salaryLineSetType",e)},expression:"form.salaryLineSetType"}},t._l(t.baseDataOptionList.IT_SLST,(function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1)],1),n("el-col",{attrs:{span:12}},[t.showContract?n("el-form-item",{attrs:{label:"客户合同",prop:"contractId","label-width":t.formLabelWidth}},[n("el-select",{staticClass:"fin-select__tags-text",attrs:{multiple:"",placeholder:"请选择"},model:{value:t.form.contractId,callback:function(e){t.$set(t.form,"contractId",e)},expression:"form.contractId"}},t._l(t.contractOptionList,(function(t){return n("el-option",{key:t.contractId,attrs:{label:t.contractName,value:t.contractId}})})),1)],1):t._e()],1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancelBtnAction}},[t._v("关 闭")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.okBtnAction("form")}}},[t._v("提 交")])],1)],1)],1)},u=[],d=n("5530"),p=(n("ac1f"),n("1276"),n("a15b"),n("2f62")),m=n("ed08"),f=n("f889"),h={data:function(){return{customerOptionList:[],contractOptionList:[],form:{cityId:"",contractId:[],customerId:"",education:"",isEduPriceFlag:"IT_ISEP_002",salaryLineSetType:""},showContract:!0,contractBeginData:"",formLabelWidth:"135px",rulesDialog:{customerId:[{required:!0,message:"请选择",trigger:"change"}],cityId:[{required:!0,message:"请填写",trigger:"change"}],isEduPriceFlag:[{required:!0,message:"请填写",trigger:"change"}],education:[{required:!0,message:"请填写",trigger:"change"}],salaryLineSetType:[{required:!0,message:"请填写",trigger:"change"}],contractId:[{required:!0,message:"请填写",trigger:"change"}]}}},props:{openAddModal:{type:Boolean,default:!1}},inject:["reload"],watch:{"form.salaryLineSetType":{handler:function(t){this.showContract="IT_SLST_002"===t}}},computed:Object(d["a"])(Object(d["a"])({},Object(p["e"])({baseDataOptionList:function(t){return t.baseData.baseDataOptionList}})),{},{showEdu:function(){return"IT_ISEP_001"==this.form.isEduPriceFlag}}),methods:{customerRemote:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("客户名称输入值改变",t),n.next=3,Object(f["e"])({clinetName:t});case 3:a=n.sent,e.customerOptionList=a;case 5:case"end":return n.stop()}}),n)})))()},customerChange:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.form.contractId=[],n.next=3,Object(f["f"])({clientCompanyId:t});case 3:a=n.sent,a.map((function(t){var e="WB"===t.contractId.split("-")[1]?"正式合同":"虚拟合同";t.contractName=t.contractName+"("+e+") "+t.contractId})),e.contractOptionList=a;case 6:case"end":return n.stop()}}),n)})))()},formatDateTimeFn:function(t){return Object(m["d"])(t,"date")},cancelBtnAction:function(){this.$parent.openAddModal=!1},okBtnAction:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("提交失败!!",e.form),!1;console.log("确定，在此进行提交操作",e.form),e.submitFrom(Object(d["a"])(Object(d["a"])({},e.form),{},{contractId:e.form.contractId.join(",")}))}))},submitFrom:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(t),a=t,n.next=4,Object(f["a"])(a);case 4:o=n.sent,console.log(o),"0000"!==o.head.code?e.$confirm(o.head.msg,"提示",{closeOnClickModal:!1,confirmButtonText:"知道了",showCancelButton:!1,type:"warning"}):(e.$message({message:"新增成功!",type:"success"}),e.reload());case 7:case"end":return n.stop()}}),n)})))()},close:function(t){this.$refs[t].resetFields(),this.$parent.openAddModal=!1}}},y=h,b=(n("b306"),n("2877")),g=Object(b["a"])(y,s,u,!1,null,"02ad56f0",null),v=g.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"empowerModal"},[n("el-dialog",{attrs:{title:"薪资线-导入",visible:t.openImportModal,"close-on-press-escape":!1,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.openImportModal=e},close:function(e){return t.close()}}},[n("div",{staticClass:"uploadLeft"},[n("el-upload",{staticClass:"upload",attrs:{accept:".xlsx","show-file-list":!1,drag:"",action:t.fileLoadUrl,"on-success":t.unloadSuccess,"on-error":t.uploadFileError}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[t._v(" 将Excel文件拖到此处，或"),n("em",[t._v("点击上传")]),n("div",[t._v("建议文件大小不要超过5M")])])])],1),n("div",{staticClass:"uploadRight"},[n("p",[t._v("温馨提示：")]),n("p",[t._v(" 1、如果您没有导入的模板，可下载我们提供的模板 "),n("span",{staticClass:"download",on:{click:t.downloadSalary}},[t._v("下载空模板")])]),n("p",[t._v(" 2、导入的Excel文件必须和模板格式一样，表中的地区、客户方全称、合同名称、报价类型、结算方式、即岗位和级别的描述必须和合同报价一致，否则可能会导致导入失败。"),n("br"),t._v("如果您不清楚格式，请下载我们为您提供的合同报价文件。"),n("a",{staticClass:"download"},[t._v("下载合同报价模板")])])]),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancelBtnAction}},[t._v("关 闭")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.okBtnAction("form")}}},[t._v("提 交")])],1)])],1)},O=[],L=n("ade3"),j=(a={data:function(){return{canSubmit:!1,detailList:[],salaryLineSetBaseInfo:{},fileLoadUrl:"https://www.tobowork.com/api/tobosoft-toms/salary/salaryLineSet/excelImport?lineMainId=",downloadFileUrl1:"https://www.tobowork.com//api/tobosoft-toms/salary/salaryLineSet/exportExcel"}},computed:{},props:{openImportModal:{type:Boolean,default:!1},lineMainId:{type:String,default:""}},inject:["reload"],watch:{lineMainId:{handler:function(t){this.fileLoadUrl+=t},immediate:!0}}},Object(L["a"])(a,"computed",{}),Object(L["a"])(a,"methods",{downloadSalary:function(){var t="https://www.tobowork.com//api/tobosoft-toms/salary/salaryLineSet/exportExcel",e=document.createElement("a");e.href=t,document.body.appendChild(e),e.click(),e.remove()},unloadSuccess:function(t){console.log("response",t),"0000"==t.head.code?(this.canSubmit=!0,this.detailList=t.body.detailList,this.salaryLineSetBaseInfo=Object(m["a"])(t.body.salaryLineSetBaseInfo),this.$message.success("文件解析成功！请点击提交按钮。")):(this.canSubmit=!1,this.$message.error(t.head.msg))},uploadFileError:function(t,e){this.canSubmit=!1;var n=JSON.parse(t.message).message;this.$message.error(n)},okBtnAction:function(){this.canSubmit&&this.submitFrom({detailList:this.detailList,salaryLineSetBaseInfo:this.salaryLineSetBaseInfo})},submitFrom:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,Object(f["s"])(t);case 3:a=n.sent,console.log(a),"0000"!==a.head.code?e.$confirm(a.head.msg,"提示",{confirmButtonText:"知道了",showCancelButton:!1,type:"warning"}):(e.$message({message:"新增成功!",type:"success"}),e.reload());case 6:case"end":return n.stop()}}),n)})))()},cancelBtnAction:function(){this.$parent.openImportModal=!1},close:function(){this.$parent.openImportModal=!1}}),a),w=j,x=(n("c1353"),Object(b["a"])(w,I,O,!1,null,"fcd2117a",null)),C=x.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"empowerModal"},[n("el-dialog",{attrs:{title:"薪资线-编辑",visible:t.openEditModal,"close-on-press-escape":!1,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.openEditModal=e},close:function(e){return t.close("form")}}},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rulesDialog}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"客户名称",prop:"customerId","label-width":t.formLabelWidth}},[n("el-select",{attrs:{filterable:"",remote:"","remote-method":t.customerRemote,placeholder:"请输入搜索关键字",disabled:!0},on:{change:t.customerChange},model:{value:t.form.customerId,callback:function(e){t.$set(t.form,"customerId",e)},expression:"form.customerId"}},t._l(t.customerOptionList,(function(t){return n("el-option",{key:t.clientCompanyId,attrs:{label:t.clientCompanyName,value:t.clientCompanyId}})})),1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"城市",prop:"cityId","label-width":t.formLabelWidth}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.cityId,callback:function(e){t.$set(t.form,"cityId",e)},expression:"form.cityId"}},t._l(t.baseDataOptionList.IT_CITY,(function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"是否按学历报价",prop:"isEduPriceFlag","label-width":t.formLabelWidth}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.isEduPriceFlag,callback:function(e){t.$set(t.form,"isEduPriceFlag",e)},expression:"form.isEduPriceFlag"}},t._l(t.baseDataOptionList.IT_ISEP,(function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1)],1),n("el-col",{attrs:{span:12}},[t.showEdu?n("el-form-item",{attrs:{label:"学历报价类型",prop:"education","label-width":t.formLabelWidth}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.education,callback:function(e){t.$set(t.form,"education",e)},expression:"form.education"}},t._l(t.baseDataOptionList.IT_EDUX,(function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1):t._e()],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"薪资线设置类型",prop:"salaryLineSetType","label-width":t.formLabelWidth}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.salaryLineSetType,callback:function(e){t.$set(t.form,"salaryLineSetType",e)},expression:"form.salaryLineSetType"}},t._l(t.baseDataOptionList.IT_SLST,(function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1)],1),n("el-col",{attrs:{span:12}},[t.showContract?n("el-form-item",{attrs:{label:"客户合同",prop:"contractId","label-width":t.formLabelWidth}},[n("el-select",{staticClass:"fin-select__tags-text",attrs:{multiple:"",placeholder:"请选择"},model:{value:t.form.contractId,callback:function(e){t.$set(t.form,"contractId",e)},expression:"form.contractId"}},t._l(t.contractOptionList,(function(t){return n("el-option",{key:t.contractId,attrs:{label:t.contractName,value:t.contractId}})})),1)],1):t._e()],1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancelBtnAction}},[t._v("关 闭")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.okBtnAction("form")}}},[t._v("提 交")])],1)],1)],1)},S=[],M={data:function(){return{customerOptionList:[],contractOptionList:[],form:{cityId:"",contractId:[],customerId:"",education:"",isEduPriceFlag:"",salaryLineSetType:""},showEdu:!0,showContract:!0,contractBeginData:"",formLabelWidth:"135px",rulesDialog:{customerId:[{required:!0,message:"请选择",trigger:"change"}],cityId:[{required:!0,message:"请填写",trigger:"change"}],isEduPriceFlag:[{required:!0,message:"请填写",trigger:"change"}],education:[{required:!0,message:"请填写",trigger:"change"}],salaryLineSetType:[{required:!0,message:"请填写",trigger:"change"}],contractId:[{required:!0,message:"请填写",trigger:"change"}]}}},props:{openEditModal:{type:Boolean,default:!1},editDetail:{type:Object,default:{}}},inject:["reload"],watch:{editDetail:{handler:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.form=Object(m["a"])(t),n.next=3,Object(f["h"])({lineMainId:t.lineMainId});case 3:a=n.sent,console.log(a),"0000"===a.head.code&&(e.form.cityId=a.body.cityId,e.form.customerId=a.body.customerId,e.form.education=a.body.education,e.form.isEduPriceFlag=a.body.isEduPriceFlag,e.form.salaryLineSetType=a.body.salaryLineSetType,e.customerChange(e.form.customerId),e.form.contractId=a.body.contractId.split(","));case 6:case"end":return n.stop()}}),n)})))()},immediate:!0,deep:!0},"form.isEduPriceFlag":{handler:function(t){"IT_ISEP_001"===t?this.showEdu=!0:(this.showEdu=!1,this.form.education="")}},"form.salaryLineSetType":{handler:function(t){"IT_SLST_002"===t?this.showContract=!0:(this.showContract=!1,this.form.contractId=[])}}},computed:Object(d["a"])({},Object(p["e"])({baseDataOptionList:function(t){return t.baseData.baseDataOptionList}})),created:function(){this.customerRemote("")},methods:{customerRemote:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("客户名称输入值改变",t),n.next=3,Object(f["e"])({clinetName:t});case 3:a=n.sent,e.customerOptionList=a;case 5:case"end":return n.stop()}}),n)})))()},customerChange:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("客户名称选择值改变,客户id为:",t),e.form.contractId=[],n.next=4,Object(f["f"])({clientCompanyId:t});case 4:a=n.sent,a.map((function(t){var e="WB"===t.contractId.split("-")[1]?"正式合同":"虚拟合同";t.contractName=t.contractName+"("+e+") "+t.contractId})),e.contractOptionList=a;case 7:case"end":return n.stop()}}),n)})))()},formatDateTimeFn:function(t){return Object(m["d"])(t,"date")},cancelBtnAction:function(){this.$parent.openEditModal=!1},okBtnAction:function(t){var e=this;console.log("确定，在此进行提交操作",this.form),this.$refs[t].validate((function(t){if(!t)return console.log("提交失败!!",e.form),!1;console.log("确定，在此进行提交操作",e.form),e.submitFrom(Object(d["a"])(Object(d["a"])({},e.form),{},{contractId:e.form.contractId.join(",")}))}))},submitFrom:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(t),a=t,n.next=4,Object(f["a"])(a);case 4:o=n.sent,console.log(o),"0000"!==o.head.code?e.$confirm(o.head.msg,"提示",{confirmButtonText:"知道了",showCancelButton:!1,type:"warning"}):(e.$message({message:"新增成功!",type:"success"}),e.reload());case 7:case"end":return n.stop()}}),n)})))()},close:function(t){this.$refs[t].resetFields(),this.$parent.openEditModal=!1}}},F=M,D=(n("c379"),Object(b["a"])(F,E,S,!1,null,"1c94888e",null)),k=D.exports,_=n("5f98"),T=n("4360"),B=T["a"].state.baseData.baseDataOptionList,q=function(t){return[{type:"text-input",bind_key:"priceTopic",label:"主题",labelWidth:60,span:6},{type:"remote-input",bind_key:"customerId",label:"客户名称",remoteMethod:"customerRemoteMethod",optionList:t.customerOptionList,span:6},{type:"select-input",bind_key:"cityId",label:"城市",placeholder:"请选择",optionList:B.IT_CITY,span:6},{type:"select-input",bind_key:"education",label:"学历",optionList:B.IT_EDUX,span:6}]},$={span:24,customList:[Object(L["a"])({role:"salary.setting.add",customBtnText:"新增",changeFn:"addFn"},"role","salary.setting.add")],leftBtnHidden:!Object(_["a"])("salary.setting.list")},R=function(t){return[{label:"序号",type:"index",fixed:"left",width:"50px",kind:"render",render:function(e,n){var a=n.$index+1,o=(t.pageData.pageIndex-1)*t.pageData.pageSize;return e("span",a+o)}},{label:"主题",prop:"priceTopic",minWidth:"200px",headerAlign:"center",align:"left"},{label:"客户名称",prop:"customerId",minWidth:"130px",headerAlign:"center",align:"left"},{label:"城市",prop:"cityId",sortable:"custom"},{label:"合同名称",prop:"contractId",sortable:"custom",minWidth:"250px",headerAlign:"center",align:"left"},{label:"学历",prop:"education",minWidth:"100px"},{label:"版本号",prop:"version",minWidth:"150px",headerAlign:"center",align:"left"},{label:"操作",fixed:"right",kind:"formatBtn",width:"120px",moreBtnRoles:"salary.setting.info,salary.setting.edit,salary.setting.delete",firstBtn:{text:"详情",fn:"detailFn",role:"salary.setting.info"},btnList:[{text:"编辑",fn:"editFn",role:"salary.setting.edit"},{text:"导入",fn:"importFn",role:"salary.setting.import",textFn:function(t){return t.version&&t.version.length>0?"重新导入":"导入"}},{text:"删除",fn:"deleteFn",role:"salary.setting.delete"}]}]},A=(n("a417"),n("dc27"),{name:"SalaryLineSetting",components:{zmTable:c["a"],zmSearch:l["a"],salaryLineAddModal:v,salaryLineImportModal:C,salaryLineEditModal:k},inject:["reload"],data:function(){return{tableLoading:!1,formData:{},btnConfig:$,tableData:[],columns:R(this),pageData:{pageIndex:1,pageSize:15},searchData:{},downloadCondition:{},paginationData:{pageIndex:1},sortData:[],sizeList:[15,30,50],orgList:[],customerOptionList:[],openAddModal:!1,openImportModal:!1,openEditModal:!1,editDetail:{},lineMainId:""}},computed:{inputListConfig:function(){return q(this)}},watch:{$route:function(){this.getSalaryLineList()}},mounted:function(){this.getSalaryLineList()},methods:{customerRemoteMethod:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("【客户名称】模糊搜索:",t),n.next=3,Object(f["e"])({clinetName:t});case 3:a=n.sent,e.customerOptionList=a.map((function(t){return{text:t.clientCompanyName,value:t.clientCompanyId}}));case 5:case"end":return n.stop()}}),n)})))()},getSalaryLineList:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,o,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t||{},o={input:a},e.tableLoading=!0,r=Object.assign({},e.pageData,o),r.input.displays=e.sortData,e.downloadCondition=Object(m["a"])(r),n.next=8,Object(f["k"])(r);case 8:i=n.sent,e.paginationData.pageIndex=i.pageIndex,e.pageData.pageIndex=i.pageIndex,e.pageData.pageCount=i.rowCount,e.pageData.pageSize=i.pageSize,e.tableData=i.result,e.tableLoading=!1;case 15:case"end":return n.stop()}}),n)})))()},search:function(t){var e=JSON.parse(JSON.stringify(t));this.getSalaryLineList(e)},detailFn:function(t){console.log("准备跳转详情模块。。。",t);var e=JSON.stringify(t),n=encodeURIComponent(e);this.$router.push({path:"/salaryModule/salaryLineUV",query:{basicFormData:n}})},editFn:function(t){this.editDetail=Object(m["a"])(t),this.openEditModal=!0},importFn:function(t){var e=this;console.log("准备导入...",t),t.version?this.$confirm("","重新导入提示",{message:"<h3>是否确定重新导入此客户的薪资线数据？</h3>重新导入会覆盖原来的薪资线数据，当前的薪资线的版本为&nbsp;<span style='color:#169bd5'>".concat(t.version,"</span>"),dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.openImportModal=!0,e.lineMainId=t.lineMainId})).catch((function(){e.$message({type:"info",message:"已取消重新导入"})})):(this.openImportModal=!0,this.lineMainId=t.lineMainId)},UVFn:function(t){console.log("准备跳转UV值页面",t);var e=JSON.stringify(t),n=encodeURIComponent(e);this.$router.push({path:"/salaryModule/salaryLineUV",query:{basicFormData:n}})},deleteFn:function(t){var e=this;console.log("准备删除。。。",t),"IT_DTTF_002"===t.dataRelationFlag?this.$confirm("是否确定删除此客户的薪资线数据?","确认提示",{message:"<h3>正在使用的数据不能删除？</h3>正在使用的薪资线设定的数据不允许删除，请勿非法操作，删除将记录此次删除人和操作的信息。",dangerouslyUseHTMLString:!0,showCancelButton:!1,confirmButtonText:"知道了",type:"warning"}):this.$confirm("是否确定删除此客户的薪资线数据?","确认提示",{message:"<h3>是否确定删除此客户的薪资线数据？</h3>删除此客户的薪资线数据后将影响员工的入职定薪和调薪流程的正常运行，且将记录此次删除人和操作和信息，请谨慎操作。",dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log("确认的提示"),Object(f["c"])({lineMainId:t.lineMainId}).then((function(t){e.$message({type:"success",message:"删除成功!"})})),e.reload()})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},exportFileFn:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("准备导出文件",t.downloadCondition);case 1:case"end":return e.stop()}}),e)})))()},addFn:function(){this.openAddModal=!0},resetTable:function(){this.searchData={},this.getSalaryLineList()},handleCurrentChange:function(t){this.pageData.pageIndex=t,this.getSalaryLineList()},handleSizeChange:function(t){this.pageData.pageSize=t,this.getSalaryLineList()},sortChange:function(t){var e=this,n="";n="ascending"===t.order?"asc":"desc";var a={display:n,field:t.prop};0===this.sortData.length?this.sortData.push(a):this.sortData.forEach((function(t,n){if(t.field===a.field){if(t.display===a.display)return void e.sortData.splice(n,1);e.sortData.splice(n,1),e.sortData.push(a)}else e.sortData.push(a)})),this.getSalaryLineList()}}}),P=A,U=Object(b["a"])(P,o,r,!1,null,null,null);e["default"]=U.exports},"94ba":function(t,e,n){},b306:function(t,e,n){"use strict";n("94ba")},c1353:function(t,e,n){"use strict";n("cbb3")},c379:function(t,e,n){"use strict";n("d52c")},cbb3:function(t,e,n){},d52c:function(t,e,n){},dc27:function(t,e,n){"use strict";n.d(e,"t",(function(){return o})),n.d(e,"R",(function(){return r})),n.d(e,"db",(function(){return i})),n.d(e,"E",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"x",(function(){return s})),n.d(e,"J",(function(){return u})),n.d(e,"K",(function(){return d})),n.d(e,"G",(function(){return p})),n.d(e,"cb",(function(){return m})),n.d(e,"P",(function(){return f})),n.d(e,"bb",(function(){return h})),n.d(e,"N",(function(){return y})),n.d(e,"eb",(function(){return b})),n.d(e,"hb",(function(){return g})),n.d(e,"ab",(function(){return v})),n.d(e,"gb",(function(){return I})),n.d(e,"H",(function(){return O})),n.d(e,"I",(function(){return L})),n.d(e,"F",(function(){return j})),n.d(e,"L",(function(){return w})),n.d(e,"O",(function(){return x})),n.d(e,"fb",(function(){return C})),n.d(e,"jb",(function(){return E})),n.d(e,"w",(function(){return S})),n.d(e,"C",(function(){return M})),n.d(e,"s",(function(){return F})),n.d(e,"U",(function(){return D})),n.d(e,"V",(function(){return k})),n.d(e,"M",(function(){return _})),n.d(e,"v",(function(){return T})),n.d(e,"ib",(function(){return B})),n.d(e,"p",(function(){return q})),n.d(e,"h",(function(){return $})),n.d(e,"W",(function(){return R})),n.d(e,"g",(function(){return A})),n.d(e,"n",(function(){return P})),n.d(e,"X",(function(){return U})),n.d(e,"B",(function(){return W})),n.d(e,"Q",(function(){return N})),n.d(e,"D",(function(){return z})),n.d(e,"l",(function(){return V})),n.d(e,"i",(function(){return H})),n.d(e,"m",(function(){return J})),n.d(e,"y",(function(){return X})),n.d(e,"A",(function(){return Y})),n.d(e,"z",(function(){return G})),n.d(e,"S",(function(){return Z})),n.d(e,"c",(function(){return K})),n.d(e,"e",(function(){return Q})),n.d(e,"b",(function(){return tt})),n.d(e,"d",(function(){return et})),n.d(e,"j",(function(){return nt})),n.d(e,"f",(function(){return at})),n.d(e,"Z",(function(){return ot})),n.d(e,"T",(function(){return rt})),n.d(e,"q",(function(){return it})),n.d(e,"Y",(function(){return ct})),n.d(e,"r",(function(){return lt})),n.d(e,"o",(function(){return st})),n.d(e,"u",(function(){return ut})),n.d(e,"k",(function(){return dt}));var a=n("b775");function o(t){return Object(a["a"])({url:"/employ/attr/queryEmployAttrList",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/employ/archives/queryEmployList",method:"post",params:t})}function i(t){return Object(a["a"])({url:"/employ/attr/saveOrUpdateEmployAttr",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/employ/attr/queryEmployAttr",method:"post",params:t})}function l(t){return Object(a["a"])({url:"/employ/attr/addOrCancelAttr",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/employ/attr/queryEmployAttrHistory",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/employ/free/queryEmployFreeList",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/employ/free/queryEmployFreePoolList",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/employ/free/queryEmployFree",method:"post",params:t})}function m(t){return Object(a["a"])({url:"/employ/archives/saveOrUpdateEmploy",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/employ/archives/queryEmployInfoList",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/employ/archives/removeEmployInfo",method:"post",params:t})}function y(t){return Object(a["a"])({url:"/employ/archives/queryEmployInfoDetail",method:"post",params:t})}function b(t){return Object(a["a"])({url:"/employ/free/saveOrUpdateEmployFree",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/employ/free/updateEmployFreeEntry",method:"post",data:t})}function v(t){return Object(a["a"])({url:"/employ/free/removeEmployFree",method:"post",params:t})}function I(t){return Object(a["a"])({url:"/employ/free/updateCancelEmployFree",method:"post",data:t})}function O(t){return Object(a["a"])({url:"/employ/free/queryEmployFreeDetail",method:"post",params:t})}function L(t){return Object(a["a"])({url:"/employ/free/queryEmployFreeHistory",method:"post",data:t})}function j(t){return Object(a["a"])({url:"/employ/archives/queryEmployFormalList",method:"post",data:t})}function w(t){return Object(a["a"])({url:"/employ/archives/queryEmployHistoryList",method:"post",params:t})}function x(t){return Object(a["a"])({url:"/employ/archives/queryEmployInfo",method:"post",params:t})}function C(t){return Object(a["a"])({url:"/employ/archives/updateBatchFormal",method:"post",data:t})}function E(t){return Object(a["a"])({url:"/employ/archives/updateFormalDelay",method:"post",data:t})}function S(){return Object(a["a"])({url:"/employ/archives/queryAppointCount",method:"post"})}function M(t){return Object(a["a"])({url:"/employ/archives/queryEmployBaseDetail?employId=".concat(t.employId),method:"post"})}function F(t){return Object(a["a"])({url:"/employ/archives/getEmployBaseDetail",method:"post",params:t})}function D(t){return Object(a["a"])({url:"/employ/archives/queryEmployWorkCount",method:"post",params:t})}function k(t){return Object(a["a"])({url:"/employ/archives/queryLastEmployChangeRecord",method:"post",params:t})}function _(t){return Object(a["a"])({url:"/employ/archives/queryEmployInfoContractPage",method:"post",data:t})}function T(t){return Object(a["a"])({url:"/employ/archives/operateEmployInfoContract",method:"post",data:t})}function B(t){return Object(a["a"])({url:"/employ/archives/updateEmployInfoContract",method:"post",data:t})}function q(t){return Object(a["a"])({url:"/employ/archives/exportEmployInfoContract",method:"post",data:t})}function $(t){return Object(a["a"])({url:"/employ/archives/checkSpecialDate",method:"post",data:t})}function R(t){return Object(a["a"])({url:"/employ/free/queryNewEmployFreeDetail",method:"post",params:t})}function A(t){return Object(a["a"])({url:"/employ/archives/checkFlow",method:"post",params:t})}function P(t){return Object(a["a"])({url:"/employ/archives/exportEmploy",method:"post",data:t})}function U(t){return Object(a["a"])({url:"/system/org/queryOrgMoney?employType=".concat(t.employType),method:"post"})}function W(t){return Object(a["a"])({url:"/employ/activity/getNewEmployList",method:"post",data:t})}function N(t){return Object(a["a"])({url:"/employ/activity/getReductionEmployList",method:"post",data:t})}function z(t){return Object(a["a"])({url:"/employ/activity/getPositiveEmployList",method:"post",data:t})}function V(t){return Object(a["a"])({url:"/employ/activity/exportPositiveEmployExcel",method:"post",data:t})}function H(t){return Object(a["a"])({url:"/employ/activity/exportNewEmployExcel",method:"post",data:t})}function J(t){return Object(a["a"])({url:"/employ/activity/exportReductionEmployExcel",method:"post",data:t})}function X(t){return Object(a["a"])({url:"/business/client/queryClientCompanySelectListByLike",method:"post",params:t})}function Y(t){return Object(a["a"])({url:"/business/contract/queryContractSelectByOrgIdANDClientCompanyIdOnEmploy",method:"post",params:t})}function G(t){return Object(a["a"])({url:"/business/client/queryClientCompanyWorkplaceListByLike",method:"post",params:t})}function Z(t){return Object(a["a"])({url:"/employ/activity/getaddOrLeaveEmployList",method:"post",data:t})}function K(t){return Object(a["a"])({url:"/employ/two/updChangeLeave",method:"post",data:t})}function Q(t){return Object(a["a"])({url:"/employ/two/updChangeEmployType",method:"post",data:t})}function tt(t){return Object(a["a"])({url:"/employ/two/updChangeZhuanOrg",method:"post",data:t})}function et(t){return Object(a["a"])({url:"/employ/two/updChangeTiaoGang",method:"post",data:t})}function nt(t){return Object(a["a"])({url:"/employ/two/exportUnFormalEmployChangeFinanceList",method:"post",data:t})}function at(t){return Object(a["a"])({url:"/employ/two/getTwoDetail",method:"get",params:t})}function ot(t){return Object(a["a"])({url:"/system/user/queryUserSelectListByCondition",method:"post",params:t})}function rt(t){return Object(a["a"])({url:"/employ/archives/queryEmployRosterList",method:"post",data:t})}function it(t){return Object(a["a"])({url:"/employ/archives/exportEmployRoster",method:"post",data:t})}function ct(t){return Object(a["a"])({url:"/employ/archives/queryRosterList",method:"post",data:t})}function lt(t){return Object(a["a"])({url:"/employ/archives/exportRoster",method:"post",data:t})}function st(t){return Object(a["a"])({url:"/employ/free/exportEmployFree",method:"post",data:t})}function ut(t){return Object(a["a"])({url:"/employ/rosterrealtime/getLastContrastInfo",method:"get",data:t})}function dt(t){return Object(a["a"])({url:"/employ/rosterrealtime/exportContrastExcel",method:"get",data:t})}},f889:function(t,e,n){"use strict";n.d(e,"k",(function(){return o})),n.d(e,"s",(function(){return r})),n.d(e,"t",(function(){return i})),n.d(e,"i",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"h",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"p",(function(){return f})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return y})),n.d(e,"o",(function(){return b})),n.d(e,"j",(function(){return g})),n.d(e,"q",(function(){return v})),n.d(e,"b",(function(){return I})),n.d(e,"u",(function(){return O})),n.d(e,"l",(function(){return L})),n.d(e,"r",(function(){return j})),n.d(e,"d",(function(){return w}));n("99af");var a=n("b775");function o(t){return Object(a["a"])({url:"/salary/salaryLineSet/querySalaryLineList",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/salary/salaryLineSet/saveCommitData",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/salary/salaryLineSet/queryForDetail?salaryLineMainId=".concat(t.salaryLineMainId),method:"post"})}function c(t){return Object(a["a"])({url:"/salary/salaryLineSet/queryForVersion?lineMainId=".concat(t.lineMainId),method:"post"})}function l(t){return Object(a["a"])({url:"/salary/salaryLineSet/queryByLineMainIdAndVersion?lineMainId=".concat(t.lineMainId,"&version=").concat(t.version),method:"post"})}function s(t){return Object(a["a"])({url:"/business/client/queryClientCompayByName?clinetName=".concat(t.clinetName),method:"post"})}function u(t){return Object(a["a"])({url:"/business/contract/queryContractByClientCompanyId?clientCompanyId=".concat(t.clientCompanyId),method:"post"})}function d(t){return Object(a["a"])({url:"/salary/salaryLineSet/addOrUpdateSalaryLineInfo",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/salary/salaryLineSet/queryForEdit?lineMainId=".concat(t.lineMainId),method:"post"})}function m(t){return Object(a["a"])({url:"/salary/salaryLineSet/deleteById?lineMainId=".concat(t.lineMainId),method:"post"})}function f(t){return Object(a["a"])({url:"/salary/salaryLineSet/queryUvCvByContract",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/salary/salaryLineSet/queryByLineMainIdAndVersion?lineMainId=".concat(t.lineMainId,"&version=").concat(t.version),method:"post"})}function y(t){return Object(a["a"])({url:"/salary/salaryLineSet/queryByStation?lineMainId=".concat(t.lineMainId,"&station=").concat(t.station,"&version=").concat(t.version),method:"post"})}function b(t){return Object(a["a"])({url:"/salary/salaryLineSet/queryUvCv",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/salary/queryForObject",method:"post",data:t})}function v(t){return Object(a["a"])({url:"/salary/salaryInfoAdd",method:"post",data:t})}function I(t){return Object(a["a"])({url:"/salary/deleteById?salaryId=".concat(t.salaryId),method:"post"})}function O(t){return Object(a["a"])({url:"/salary/exprotExcel",method:"post",data:t})}function L(t){return Object(a["a"])({url:"/salary/queryDetail?salaryId=".concat(t.salaryId),method:"post"})}function j(t){return Object(a["a"])({url:"/salary/updateSalaryInfo",method:"post",data:t})}function w(t){return Object(a["a"])({headers:{"Content-Type":"multipart/form-data"},url:"/salary/importExcel",method:"post",data:t})}}}]);