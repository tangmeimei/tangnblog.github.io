(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9382c82"],{"2e31":function(t,a,e){},"35ad":function(t,a,e){"use strict";e.d(a,"f",(function(){return s})),e.d(a,"k",(function(){return n})),e.d(a,"b",(function(){return r})),e.d(a,"y",(function(){return c})),e.d(a,"A",(function(){return l})),e.d(a,"d",(function(){return o})),e.d(a,"j",(function(){return u})),e.d(a,"l",(function(){return d})),e.d(a,"c",(function(){return v})),e.d(a,"p",(function(){return p})),e.d(a,"z",(function(){return b})),e.d(a,"x",(function(){return m})),e.d(a,"e",(function(){return C})),e.d(a,"h",(function(){return _})),e.d(a,"w",(function(){return f})),e.d(a,"a",(function(){return y})),e.d(a,"v",(function(){return h})),e.d(a,"B",(function(){return g})),e.d(a,"r",(function(){return D})),e.d(a,"q",(function(){return O})),e.d(a,"s",(function(){return T})),e.d(a,"i",(function(){return S})),e.d(a,"u",(function(){return x})),e.d(a,"o",(function(){return w})),e.d(a,"n",(function(){return k})),e.d(a,"t",(function(){return P})),e.d(a,"g",(function(){return R})),e.d(a,"m",(function(){return L}));var i=e("b775");function s(t){return Object(i["a"])({url:"/business/contract/queryContractList",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/business/client/queryClientCompanyInfos",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/business/contract/deleteContract",method:"post",params:t})}function c(t){return Object(i["a"])({url:"/business/contract/saveOrUpdate",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/business/contract/saveOrUpdateRelation",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/business/contract/queryContractInfo",method:"post",params:t})}function u(t){return Object(i["a"])({url:"/business/contract/queryContractSelectList",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/commons/basedata/queryCompanyList",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/business/client/queryAllClientCompanySelectList",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/business/client/queryClientCompanyListNoScope",method:"post",data:t})}function b(t){return Object(i["a"])({url:"/business/contract/saveContractPrice",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/business/contract/addContractAndVirtualRelation",method:"post",data:t})}function C(t){return Object(i["a"])({url:"/business/contract/queryContractFileList",method:"post",params:t})}function _(t){return Object(i["a"])({url:"/business/contract/queryContractPrice",method:"post",params:t})}function f(t){return Object(i["a"])({url:"/business/contract/queryTMContractPrice",method:"post",params:t})}function y(t){return Object(i["a"])({url:"/business/contract/checkContractInfo",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/business/contract/queryStagingList",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/business/contract/saveOrupdateStaging",method:"post",data:t})}function D(t){return Object(i["a"])({url:"/business/contract/queryContractPriceDimension",method:"post",params:t})}function O(t){return Object(i["a"])({url:"/business/contract/queryContractSelectListByLike",method:"post",params:t})}function T(t){return Object(i["a"])({url:"/business/contract/queryContractPriceResult",method:"post",params:t})}function S(t){return Object(i["a"])({url:"/salary/salaryLineSet/queryForStation",method:"post",data:t})}function x(t){return Object(i["a"])({url:"/salary/salaryLineSet/queryForLevel",method:"post",data:t})}function w(t){return Object(i["a"])({url:"/salary/salaryLineSet/querForPirce",method:"post",data:t})}function k(t){return Object(i["a"])({url:"/salary/salaryLineSet/querForDetail",method:"post",data:t})}function P(t){return Object(i["a"])({url:"/business/contract/queryContractSelectByOrgIdANDClientCompanyId",method:"post",params:t})}function R(t){return Object(i["a"])({url:"/business/contract/getContractPrice",method:"post",params:t})}function L(t){return Object(i["a"])({url:"/business/contract/queryContractPriceVersionList/".concat(t),method:"post"})}},"4c27":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"addCustomer-container"},[e("div",{staticClass:"navBar"},t._l(t.navList,(function(a,i){return e("div",{key:a,class:{current:t.navFlag===i},on:{click:function(a){return t.navChange(i)}}},[t._v(" "+t._s(a)+" ")])})),0),e("div",{staticClass:"form-wrap"},[t.isOnlyContractPrice?t._e():e("div",{staticClass:"basicInfo"},[t._m(0),e("div",{staticClass:"basicForm"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("合同编号")]),e("div",{staticClass:"value"},[t._v(t._s(t.basicData.contractId||"--"))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("客户合同编号")]),e("div",{staticClass:"value"},[t._v(t._s(t.basicData.clientContractId||"--"))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("合同名称")]),e("div",{staticClass:"value"},[t._v(t._s(t.basicData.contractName||"--"))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("客户名称")]),e("div",{staticClass:"value"},[t._v(t._s(t.basicData.clientCompanyName||"--"))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("合同类型")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.getTargetLabel("contractType",t.basicData.contractContentType)||"-- ")+" ")])]),t.isOpenContract?t._e():e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("项目名称")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.projectName||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("合同开始日期")]),e("div",{staticClass:"value"},[t._v(" "+t._s((t.basicData.startDate||"").split("T")[0]||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("合同结束日期")]),e("div",{staticClass:"value"},[t._v(" "+t._s((t.basicData.endDate||"").split("T")[0]||"--")+" ")])]),t.isOpenContract?t._e():e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("合同金额")]),e("div",{staticClass:"value"},[t._v(" "+t._s((t.basicData.contractPrice||"")+t.getTargetLabel("contractCurrency",t.basicData.contractPriceCurrency)||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("履约保证金")]),e("div",{staticClass:"value"},[t._v(" "+t._s(null!=t.basicData.contractDeposit?t.basicData.contractDeposit+t.getTargetLabel("contractCurrency",t.basicData.contractDepositCurrency):"--")+" ")])])])]),t.isOnlyContractPrice?t._e():e("div",{staticClass:"formOneLine"},[e("div",{staticClass:"label"},[t._v("是否为续期")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.isRenewal?"已续期":"未续期")+" ")])]),t.isOnlyContractPrice?t._e():e("div",{staticClass:"customerLevelInfo",staticStyle:{"margin-top":"30px"},attrs:{id:"customerLevelInfo"}},[t._m(1),e("div",{staticClass:"basicForm"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("公司名称")]),e("div",{staticClass:"value"},[t._v(t._s(t.basicData.clientCompanyName))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("联系人")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.clientCompanyContactName||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("联系电话")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.clientCompanyContactPhone||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("联系邮箱")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.clientCompanyContactEmail||"--")+" ")])])]),e("div",{staticClass:"formOneLine"},[e("div",{staticClass:"label"},[t._v("公司注册地址")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.clientCompanyRegisterArea+t.basicData.clientCompanyRegisterAddress||"--")+" ")])]),e("div",{staticClass:"formOneLine"},[e("div",{staticClass:"label"},[t._v("联系地址")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.clientCompanyContactArea+t.basicData.clientCompanyContactAddress||"--")+" ")])])]),t.isOnlyContractPrice?t._e():e("div",{staticClass:"customerLevelInfo",staticStyle:{"margin-top":"30px"},attrs:{id:"customerLevelInfo"}},[t._m(2),e("div",{staticClass:"basicForm"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("公司名称")]),e("div",{staticClass:"value"},[t._v(t._s(t.tbCompany.tbCompanyName||"--"))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("联系人")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.contactName||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("联系电话")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.contactPhone||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("联系邮箱")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.contactEmail||"--")+" ")])])]),e("div",{staticClass:"formOneLine"},[e("div",{staticClass:"label"},[t._v("公司注册地址")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.tbCompany.registerAreaCode+t.tbCompany.registerAddress||"--")+" ")])]),e("div",{staticClass:"formOneLine"},[e("div",{staticClass:"label"},[t._v("联系地址")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.tbCompany.contactArea+t.tbCompany.contactAddress||"--")+" ")])])]),t.isOnlyContractPrice?t._e():e("div",{staticClass:"customerLevelInfo",staticStyle:{"margin-top":"30px"},attrs:{id:"customerLevelInfo"}},[t._m(3),e("div",{staticClass:"basicForm"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("业务员")]),e("div",{staticClass:"value"},[t._v(t._s(t.basicData.signingUserName||"--"))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("签单日期")]),e("div",{staticClass:"value"},[t._v(" "+t._s((t.basicData.signingDate||"").split("T")[0]||"--")+" ")])])]),e("div",{staticClass:"formOneLine"},[e("div",{staticClass:"label"},[t._v("签订地址")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.signingAddress||"--")+" ")])])]),t.isOnlyContractPrice?t._e():e("div",{staticClass:"customerLevelInfo",staticStyle:{"margin-top":"30px"},attrs:{id:"customerLevelInfo"}},[t._m(4),e("div",{staticClass:"basicForm"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("合同状态")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.getTargetLabel("contractStatus",t.basicData.contractStatus)||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("合同结束状态")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.getTargetLabel("contractOverStatus",t.basicData.contractOverStatus)||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("合同协议结束日期")]),e("div",{staticClass:"value"},[t._v(" "+t._s((t.basicData.contractOverDate||"").split("T")[0]||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("合同终止原因")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.basicData.contractOverRemark||"--")+" ")])])])]),t.isOnlyContractPrice?t._e():e("div",{staticClass:"workplace",staticStyle:{"margin-top":"30px"}},[t._m(5),e("zm-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{tableData:t.companyTableData,columns:t.companyColumns,border:"",isShowPagenation:!1}})],1),t.isOnlyContractPrice?t._e():e("div",{staticClass:"workplace",staticStyle:{"margin-top":"30px"}},[t._m(6),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.termTableData,border:"","header-cell-style":{color:"#333"}}},[e("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"180"}}),e("el-table-column",{attrs:{prop:"title",align:"center",label:"条款名称",width:"180"}}),e("el-table-column",{attrs:{prop:"content",label:"条款内容"}})],1)],1),t.isOnlyContractPrice?t._e():e("div",{staticClass:"workplace",staticStyle:{"margin-top":"30px"}},[t._m(7),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.riskTableData,border:"","header-cell-style":{color:"#333"}}},[e("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"180"}}),e("el-table-column",{attrs:{prop:"title",align:"center",label:"风险名称",width:"180"}}),e("el-table-column",{attrs:{prop:"content",label:"风险内容"}})],1)],1),t.isOnlyContractPrice?t._e():e("div",{staticClass:"workplace",staticStyle:{"margin-top":"30px"}},[t._m(8),e("div",{staticClass:"headerI",staticStyle:{"margin-top":"10px","font-size":"14px"}},[e("span",[t._v(" 主合同： "),e("span",{staticStyle:{color:"red"}},[t._v(t._s(t.mainContract))]),t._v("份 ")]),e("span",{staticStyle:{"margin-left":"10px"}},[t._v(" 附加合同 "),e("span",{staticStyle:{color:"red"}},[t._v(t._s(t.additionalContract))]),t._v("份 ")])]),e("zm-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{tableData:t.contractTableData,columns:t.contractColumns,border:"",isShowPagenation:!1}})],1),t.isTmContract?e("div",{staticClass:"customerLevelInfo",staticStyle:{"margin-top":"30px"},attrs:{id:"customerLevelInfo"}},[t._m(9),e("div",{staticClass:"basicForm"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("月含天数")]),e("div",{staticClass:"value"},[t._v(t._s(t.quoteRule.ruleDays||"--"))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("天含小时数")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.quoteRule.ruleHours||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("报价单位")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.quoteRule.ruleUnit||"--")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("付款周期")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.quoteRule.payCycle||"--")+" ")])]),"月"===t.quoteRule.payCycle||"双月"===t.quoteRule.payCycle?e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("月")]),e("div",{staticClass:"value"},[t._v(" "+t._s((t.quoteRule.monthodPay||"--")+"%")+" ")])]):t._e(),"月"===t.quoteRule.payCycle||"双月"===t.quoteRule.payCycle?e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("季")]),e("div",{staticClass:"value"},[t._v(" "+t._s((t.quoteRule.quarterPay||"--")+"%")+" ")])]):t._e(),"月"===t.quoteRule.payCycle||"双月"===t.quoteRule.payCycle?e("div",{staticClass:"item",staticStyle:{"border-right":"1px solid #e5e8ee",width:"100%"}},[e("div",{staticClass:"label"},[t._v("年付")]),e("div",{staticClass:"value"},[t._v(" "+t._s((t.quoteRule.yearPay||"--")+"%")+" ")])]):t._e()])]):t._e(),t.isTmContract?e("div",{staticClass:"customerLevelInfo",staticStyle:{"margin-top":"30px"},attrs:{id:"customerLevelInfo"}},[t._m(10),e("div",{staticClass:"basicForm",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"item",staticStyle:{width:"25%"}},[e("div",{staticClass:"label"},[t._v("日常加班")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.extraWorkData.dailyOvertimePrice||"--")+" ")])]),e("div",{staticClass:"item",staticStyle:{width:"25%"}},[e("div",{staticClass:"label",staticStyle:{"border-right":"none"}},[t._v("加班兑换方式")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.extraWorkData.dailyOvertimeExchange||"--")+" ")])]),e("div",{staticClass:"item",staticStyle:{width:"50%","border-right":"1px solid #e5e8ee"}},[e("div",{staticClass:"label"},[t._v("备注说明")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.extraWorkData.overTimeDayRemark||"--")+" ")])])]),e("div",{staticClass:"basicForm",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"item",staticStyle:{width:"25%"}},[e("div",{staticClass:"label",staticStyle:{"border-top":"none"}},[t._v("周末加班")]),e("div",{staticClass:"value",staticStyle:{"border-top":"none"}},[t._v(" "+t._s(t.extraWorkData.weekOvertimePrice||"--")+" ")])]),e("div",{staticClass:"item",staticStyle:{width:"25%"}},[e("div",{staticClass:"label",staticStyle:{"border-top":"none","border-right":"none"}},[t._v(" 加班兑换方式 ")]),e("div",{staticClass:"value",staticStyle:{"border-top":"none"}},[t._v(" "+t._s(t.extraWorkData.weekOvertimeExchange||"--")+" ")])]),e("div",{staticClass:"item",staticStyle:{width:"50%","border-right":"1px solid #e5e8ee"}},[e("div",{staticClass:"label",staticStyle:{"border-top":"none"}},[t._v("备注说明")]),e("div",{staticClass:"value",staticStyle:{"border-top":"none"}},[t._v(" "+t._s(t.extraWorkData.overTimeWeekRemark||"--")+" ")])])]),e("div",{staticClass:"basicForm",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"item",staticStyle:{width:"25%"}},[e("div",{staticClass:"label",staticStyle:{"border-top":"none"}},[t._v("法定节假日加班")]),e("div",{staticClass:"value",staticStyle:{"border-top":"none"}},[t._v(" "+t._s(t.extraWorkData.festivalOvertimePrice||"--")+" ")])]),e("div",{staticClass:"item",staticStyle:{width:"25%"}},[e("div",{staticClass:"label",staticStyle:{"border-top":"none","border-right":"none"}},[t._v(" 加班兑换方式 ")]),e("div",{staticClass:"value",staticStyle:{"border-top":"none"}},[t._v(" "+t._s(t.extraWorkData.festivalOvertimeExchange||"--")+" ")])]),e("div",{staticClass:"item",staticStyle:{width:"50%","border-right":"1px solid #e5e8ee"}},[e("div",{staticClass:"label",staticStyle:{"border-top":"none"}},[t._v("备注说明")]),e("div",{staticClass:"value",staticStyle:{"border-top":"none"}},[t._v(" "+t._s(t.extraWorkData.overTimeHoliDayRemark||"--")+" ")])])])]):t._e(),e("div",{staticClass:"workplace",staticStyle:{"margin-top":"30px"}},[t._m(11),e("div",{staticClass:"headerI",staticStyle:{"margin-top":"10px","font-size":"14px"}},[e("span",[t._v(" 报价类型： "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.quoteRateData.priceType))])]),e("span",{staticStyle:{"margin-left":"10px"}},[t._v(" 报价方式： "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.quoteRateData.priceMode))])]),e("span",{staticStyle:{"margin-left":"10px"}},[t._v(" 税率： "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.quoteRateData.priceRate))])]),t.isShowQuotePriceContractMoeny||t.isOrderContract||t.isFpContract?e("span",{staticStyle:{"margin-left":"10px"}},[t._v(" 合同金额： "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s((t.basicData.contractPrice||"")+(t.getTargetLabel("contractCurrency",t.basicData.contractPriceCurrency)||"")||"--"))])]):t._e()]),t._l(t.tempQuoteTable,(function(a,i){return t.isTmContract?e("div",{key:i,staticStyle:{"padding-top":"30px"}},[e("div",{staticClass:"citySelect",staticStyle:{"margin-bottom":"10px","font-size":"14px"}},[e("span",{staticStyle:{"margin-right":"10px",color:"#333333","font-weight":"bold"}},[t._v("城市：")]),e("span",[t._v(t._s((a.cityVal||[]).join("/")||"--"))])]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,border:"","show-summary":"","summary-method":t.dimensionTableSummaryMethods}},[e("el-table-column",{attrs:{type:"index",width:"50px",label:"序号",fixed:"left"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(" "+t._s((a.pageData.pageIndex-1)*a.pageData.pageSize+(i.$index+1))+" ")])]}}],null,!0)}),t._l(a.columnList,(function(t,a){return[e("el-table-column",{key:t.prop,attrs:{label:t.label,prop:t.prop}})]})),t.isOnePrice||t.isPayOffer?e("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"姓名",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.employName||"--")+" ")]}}],null,!0)}):t._e(),t.isOnePrice||t.isPayOffer?e("el-table-column",{attrs:{label:"结算岗位",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.IT_DMST_003||"--")+" ")]}}],null,!0)}):t._e(),t.isOnePrice||t.isPayOffer?e("el-table-column",{attrs:{label:"结算职级",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.IT_DMST_004||"--")+" ")]}}],null,!0)}):t._e(),t.isOnePrice?t._e():e("el-table-column",{attrs:{label:"结算单位",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t.quoteRule.ruleUnit||"--")+" ")]}}],null,!0)}),e("el-table-column",{attrs:{label:"付款含税报价",width:"300px",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[t.isRankQuotation||t.isOnePrice||t.isPayOffer?e("div",[t._v(" "+t._s(a.row.taxQuotation)+" ")]):t._e(),t.isIntervalQuotation?e("div",[t._v(" "+t._s(a.row.taxQuotationLeft+" - "+a.row.taxQuotationRight)+" ")]):t._e()]}}],null,!0)}),e("el-table-column",{attrs:{label:"付款不含税报价",width:"300px",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[t.isRankQuotation||t.isOnePrice||t.isPayOffer?e("div",[t._v(" "+t._s(a.row.noTaxQuotation)+" ")]):t._e(),t.isIntervalQuotation?e("div",[t._v(" "+t._s(a.row.noTaxQuotationLeft+" - "+a.row.noTaxQuotationRight)+" ")]):t._e()]}}],null,!0)}),t.isOnePrice||t.isPayOffer?e("el-table-column",{attrs:{label:"员工状态",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.employState||"--")+" ")]}}],null,!0)}):t._e(),t.isOnePrice||t.isPayOffer?e("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"备注","min-width":"200px"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.remark||"--")+" ")]}}],null,!0)}):t._e(),t.isPayOffer?e("el-table-column",{attrs:{label:"薪酬倍数"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.salaryTimes||"--")+" ")]}}],null,!0)}):t._e()],2),e("div",{staticStyle:{"margin-top":"10px","text-align":"right"}},[e("el-pagination",{staticClass:"jr-normal-pagination",attrs:{layout:"total, sizes, prev, pager, next, jumper","current-page":a.pageData.pageIndex,"page-sizes":a.pageData.sizeList,"page-size":a.pageData.pageSize,total:a.pageData.pageCount},on:{"size-change":function(a){return t.handleSizeChange(a,i)},"current-change":function(a){return t.handleCurrentChange(a,i)}}})],1)],1):t._e()})),t.isOrderContract?e("div",{staticClass:"fpContract",staticStyle:{"margin-top":"30px"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderQuoteTable,border:""}},[e("el-table-column",{attrs:{type:"index",label:"序号","min-width":"100px"}}),e("el-table-column",{attrs:{label:"任务名称",prop:"taskName","min-width":"300px"}}),e("el-table-column",{attrs:{label:"工时(人/日)",prop:"workHours","min-width":"200px"}}),e("el-table-column",{attrs:{label:"付款含税报价",prop:"taxQuotation"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.taxQuotation)+" ")]}}],null,!1,2359711506)}),e("el-table-column",{attrs:{label:"付款不含税报价",prop:"noTaxQuotation"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.noTaxQuotation)+" ")]}}],null,!1,3018933651)})],1)],1):t._e(),t.isFpContract?e("div",{staticClass:"fpContract",staticStyle:{"margin-top":"30px"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.fpQuoteTable,border:""}},[e("el-table-column",{attrs:{type:"index",label:"序号","min-width":"100px"}}),e("el-table-column",{attrs:{label:"付款条件",prop:"paymentTerm","min-width":"300px"}}),e("el-table-column",{attrs:{label:"付款比例",prop:"paymentRate"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.paymentRate+"%")+" ")]}}],null,!1,2397822539)}),e("el-table-column",{attrs:{label:"付款含税报价",prop:"noTaxQuotation"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.taxQuotation)+" ")]}}],null,!1,2359711506)}),e("el-table-column",{attrs:{label:"付款不含税报价",prop:"noTaxQuotation"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.noTaxQuotation)+" ")]}}],null,!1,3018933651)})],1)],1):t._e(),t.isTmContract?e("div",{staticClass:"customerLevelInfo",staticStyle:{"margin-top":"30px"},attrs:{id:"customerLevelInfo"}},[t._m(12),e("div",{staticClass:"basicForm",staticStyle:{border:"none"}},[e("div",{staticClass:"item",staticStyle:{width:"100%",border:"none"}},[e("div",{staticClass:"value",staticStyle:{"border-top":"none"}},[e("el-input",{attrs:{disabled:"",type:"textarea",rows:6},model:{value:t.quoteRateData.priceContent,callback:function(a){t.$set(t.quoteRateData,"priceContent",a)},expression:"quoteRateData.priceContent"}})],1)])])]):t._e()],2)]),e("div",{staticClass:"submitForm"},[e("div",{staticClass:"close",on:{click:t.closePage}},[t._v("关闭")])]),e("zm-modal",{attrs:{title:"财务系统开发合同附件",openModal:t.contractModal}},[t._v("dfasdf")])],1)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav0"}},[e("span",[t._v("基本信息")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav1"}},[e("span",[t._v("甲方信息")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav2"}},[e("span",[t._v("乙方信息")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav3"}},[e("span",[t._v("签订信息")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav4"}},[e("span",[t._v("合同状态")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav5"}},[e("span",[t._v("适用公司")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav6"}},[e("span",[t._v("约束条款")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav7"}},[e("span",[t._v("风险提示")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav8"}},[e("span",[t._v("合同附件")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav9"}},[e("span",[t._v("报价规则")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav10"}},[e("span",[t._v("加班规则")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav11"}},[e("span",[t._v("合同报价费率")]),e("div",{staticClass:"line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-item",attrs:{id:"nav12"}},[e("span",[t._v("合同报价说明")]),e("div",{staticClass:"line"})])}],n=e("1da1"),r=e("5530"),c=(e("96cf"),e("159b"),e("d81d"),e("a9e3"),e("b680"),e("b64b"),e("ac1f"),e("1276"),e("a15b"),e("caad"),e("2532"),e("a434"),e("fb6a"),e("8cc7")),l=e("bf3e"),o=e("2909"),u=e("ed08"),d=e("4360"),v=d["a"].state.baseData.baseDataOptionList.IT_CPSC,p=d["a"].state.baseData.baseDataOptionList.IT_RISK,b=d["a"].state.baseData.baseDataOptionList.IT_FNLV,m=d["a"].state.baseData.baseDataOptionList.IT_COPT,C=d["a"].state.baseData.baseDataOptionList.IT_IDST,_=d["a"].state.baseData.baseDataOptionList.IT_IDSB,f=d["a"].state.baseData.baseDataOptionList.IT_CTCT,y=d["a"].state.baseData.baseDataOptionList.IT_CTST,h=d["a"].state.baseData.baseDataOptionList.IT_CTOV,g=d["a"].state.baseData.baseDataOptionList.IT_CURR,D=d["a"].state.baseData.baseDataOptionList.IT_CTFT,O=function(t){return[{label:"序号",type:"index",width:"120px"},{label:"风险名称",prop:"title",width:"220px"},{label:"风险内容",prop:"content",sortable:!0}]},T=function(t){return[{label:"序号",type:"index",width:"120px"},{label:"条款标题",prop:"title",width:"220px"},{label:"条款内容",prop:"content"}]},S=function(t){return[{label:"序号",type:"index",width:"120px"},{label:"公司名称",prop:"companyName",sortable:!0},{label:"建档状态",prop:"documentStatus",width:"120px"}]},x=function(t){return[{label:"合同附件类型",prop:"contractFileType",kind:"render",render:function(t,a){var e=Object(u["k"])(D,a.row.contractFileType);return t("span",e)}},{label:"适用公司",prop:"relationNames"},{label:"文件名",prop:"fileName"},{label:"大小",prop:"fileSize",width:"120px",kind:"render",render:function(t,a){return t("div",a.row.fileSize)}},{label:"上传时间",prop:"uploadTime",kind:"render",render:function(t,a){return t("div",(a.row.uploadTime||"").split("T")[0])}},{label:"上传人",prop:"createorName",width:"120px"},{label:"操作",kind:"render",render:function(a,e){return a("div",[a("span",{style:{color:"blue",cursor:"pointer",marginRight:"10px"},on:{click:function(){t.previewContract(e)}}},"预览"),a("span",{style:{color:"blue",cursor:"pointer"},on:{click:function(){t.downloadContract(e)}}},"下载")])}}]},w=[{companyScale:Object(o["a"])(v)},{riskType:Object(o["a"])(p)},{financeType:Object(o["a"])(b)},{cooperationMode:Object(o["a"])(m)},{industryType:Object(o["a"])(C)},{industrySubType:Object(o["a"])(_)},{contractType:Object(o["a"])(f)},{contractStatus:Object(o["a"])(y)},{contractOverStatus:Object(o["a"])(h)},{contractCurrency:Object(o["a"])(g)}],k=e("35ad"),P=(e("a417"),e("2f62")),R={name:"detailContractVC",components:{zmTable:c["a"],zmModal:l["a"]},data:function(){var t=O(this),a=T(this),e=S(this),i=x(this);return{basicData:{},navList:["基本信息","甲方信息","乙方信息","签订信息","合同状态","适用公司","约束条款","风险提示","合同附件","报价规则","加班规则","合同报价费率","合同报价说明"],tbCompany:{},riskTableData:[],riskColumns:t,termTableData:[],termColumns:a,companyTableData:[],companyColumns:e,contractTableData:[],contractColumns:i,navFlag:0,signRadio:"",suitbleRadio:"",contractModal:!1,allSelectList:w,groupLabel:"",additionalContract:0,mainContract:0,quoteRule:{},contractType:"",quoteRateData:{priceMode:"",priceRate:"",priceType:""},quoteTable:[],fpQuoteTable:[],orderQuoteTable:[],isRankQuotation:!1,isIntervalQuotation:!1,isPayOffer:!1,isOnePrice:!1,isOpenContract:!1,extraWorkData:{},isOnlyContractPrice:!1}},beforeRouteEnter:function(t,a,e){e((function(t){t.isReloadVcDetail&&(t.getCompanyDetailData(),t.CHANGE_VC_DETAIL_STATUS(!1),console.log("虚拟合同页面刷新"))}))},mounted:function(){this.getCompanyDetailData()},methods:Object(r["a"])(Object(r["a"])({},Object(P["d"])("listCacheFlag",["CHANGE_VC_DETAIL_STATUS"])),{},{dimensionTableSummaryMethods:function(t){var a=t.columns,e=t.data,i=[];return a.forEach((function(t,a){if(0!==a)if("付款含税报价"===t.label||"付款不含税报价"===t.label){var s="付款含税报价"===t.label?"taxQuotation":"noTaxQuotation",n=e.map((function(t){return t[s]}));n.every((function(t){return isNaN(t)}))||(i[a]=n.reduce((function(t,a){var e=Number(a);return isNaN(e)?Number(t):Number(t)+Number(a)}),0),i[a]=i[a].toFixed(2),i[a]+=" 元")}else i[a]="";else i[a]="合计"})),i},getCompanyDetailData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var e,i,s,n,c,l,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.$route.query.id||"",a.next=3,Object(k["d"])({contractId:e});case 3:if(i=a.sent,i.contractPriceScope&&Object.keys(i.contractPriceScope).length>0&&i.contractPriceScope.scope&&(t.isOnlyContractPrice=!0),t.basicData=i&&i.contract,t.companyTableData=i.contractCompanyRelationList||[],t.termTableData=i.agreeProvisionList||[],t.riskTableData=i.riskTipsList||[],t.tbCompany=i.tbcompany||{},t.tbCompany.contactArea=i.contract.contactArea,t.tbCompany.contactAddress=i.contract.contactAddress,t.contractTableData=i.contractFileList&&i.contractFileList.map((function(t){return Object(r["a"])({},t.contractFile)})),t.contractTableData.forEach((function(a){"IT_CTFT_001"===a.contractFileType?t.mainContract++:t.additionalContract++;var e=(a.relationIds||"").split(",");Object(k["k"])(e).then((function(e){var i=e||[],s=[];i.forEach((function(t){t.clientCompany&&s.push(t.clientCompany.clientSimpleName)})),t.$set(a,"relationCompanyNames",s.join(","))}))})),t.quoteRule=i.contractRule||{},1==t.quoteRule.ruleDays&&(t.quoteRule.ruleDays="按实际出勤天数"),s=t.$store.state.baseData.baseDataOptionList.IT_RUIT,t.quoteRule.ruleUnit=Object(u["k"])(s,t.quoteRule.ruleUnit),t.quoteRule.payCycle=Object(u["k"])(t.$store.state.baseData.baseDataOptionList.IT_PYCC,t.quoteRule.payCycle||""),t.contractType=t.getTargetLabel("contractType",t.basicData.contractContentType),i.contractPrice){a.next=22;break}return a.abrupt("return");case 22:t.quoteRateData.priceMode=Object(u["k"])(t.$store.state.baseData.baseDataOptionList.IT_PRMD,i.contractPrice.priceMode||""),t.quoteRateData.priceRate=Object(u["k"])(t.$store.state.baseData.baseDataOptionList.IT_PRRT,String(i.contractPrice.priceRate)||""),t.quoteRateData.priceType=Object(u["k"])(t.$store.state.baseData.baseDataOptionList.IT_QTTP,i.contractPrice.priceType||""),t.isRankQuotation=t.quoteRateData.priceType.indexOf("职级")>-1,t.isIntervalQuotation=t.quoteRateData.priceType.indexOf("区间")>-1,t.isPayOffer=t.quoteRateData.priceType.indexOf("薪酬")>-1,t.isOnePrice=t.quoteRateData.priceType.indexOf("人")>-1,t.isTmContract&&(n=JSON.parse(i.contractPrice.priceContent)||[],c=[],t.isOnlyContractPrice&&(l=i.contractPriceScope.citys&&i.contractPriceScope.citys.split(",")||[],o=Object(u["a"])(n),o.forEach((function(t,a){var e=!0;console.log(l,"城市啊"),console.log(t.cityVal,"循环没有执行吗");for(var i=0;i<l.length;i++)if(t.cityVal.includes(l[i])){console.log("给flag 设置了false吗"),e=!1,l.splice(i,1);break}e||c.push(t)}))),t.quoteTable=t.isOnlyContractPrice?c:n,console.log(t.quoteTable,"quoteTable嘿嘿")),t.isOrderContract&&(t.orderQuoteTable=JSON.parse(i.contractPrice.priceContent)||[],t.quoteRateData.priceType="工单/订单"),t.isFpContract&&(t.fpQuoteTable=JSON.parse(i.contractPrice.priceContent)||[],t.quoteRateData.priceType="FP合同"),Array.isArray(i.contractOvertime)&&i.contractOvertime.forEach((function(a){"daily"===a.overtimeType?(t.$set(t.extraWorkData,"dailyOvertimePrice",a.overtimePrice),t.$set(t.extraWorkData,"dailyOvertimeExchange",a.overtimeExchange),t.$set(t.extraWorkData,"overTimeDayRemark",a.remark)):"week"===a.overtimeType?(t.$set(t.extraWorkData,"weekOvertimePrice",a.overtimePrice),t.$set(t.extraWorkData,"weekOvertimeExchange",a.overtimeExchange),t.$set(t.extraWorkData,"overTimeWeekRemark",a.remark)):"festival"===a.overtimeType&&(t.$set(t.extraWorkData,"festivalOvertimePrice",a.overtimePrice),t.$set(t.extraWorkData,"festivalOvertimeExchange",a.overtimeExchange),t.$set(t.extraWorkData,"overTimeHoliDayRemark",a.remark))})),t.quoteRateData.priceContent=i.contractPrice.remark||"--";case 34:case"end":return a.stop()}}),a)})))()},closePage:function(){var t=this,a=this.$route;this.$confirm("此操作将关闭页面, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.dispatch("tagsView/delView",a).then((function(a){a.visitedViews;t.$router.push("/contract/formalContract")}))}))},navChange:function(t){this.navFlag=t;var a=document.querySelector("#nav".concat(t));a&&a.scrollIntoView()},getTargetLabel:function(t,a){var e=[];this.allSelectList.forEach((function(a){Object.prototype.hasOwnProperty.call(a,t)&&(e=a[t])}));var i="";return e.forEach((function(t){t.value===String(a)&&(i=t.text)})),i},previewContract:function(t){return Object(n["a"])(regeneratorRuntime.mark((function a(){var e,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=t.row.fileId,i="https://www.tobowork.com//api/tobosoft-toms/cos/file/view/"+e,window.open(i);case 3:case"end":return a.stop()}}),a)})))()},downloadContract:function(t){return Object(n["a"])(regeneratorRuntime.mark((function a(){var e,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=t.row.fileId,i="https://www.tobowork.com//api/tobosoft-toms/cos/file/download/"+e,s=document.createElement("a"),s.setAttribute("download",t.row.fileName),s.href=i,document.body.appendChild(s),s.click(),s.remove();case 8:case"end":return a.stop()}}),a)})))()},handleSizeChange:function(t,a){this.$set(this.quoteTable[a].pageData,"pageSize",t)},handleCurrentChange:function(t,a){this.$set(this.quoteTable[a].pageData,"pageIndex",t)},initQuoteTablePageData:function(){var t=this;Array.isArray(this.quoteTable)&&this.quoteTable.length>0&&!this.quoteTable[0].pageData&&this.quoteTable.forEach((function(a,e){var i={sizeList:[15,30,50],pageIndex:1,pageSize:15,pageCount:a.tableData.length||0};t.$set(t.quoteTable[e],"pageData",i)}))}}),computed:Object(r["a"])(Object(r["a"])({},Object(P["e"])("listCacheFlag",["isReloadVcDetail"])),{},{tempQuoteTable:function(){this.quoteTable.length>0&&!this.quoteTable[0].pageData&&(console.log("这里执行了吗？"),this.initQuoteTablePageData());var t=Object(u["a"])(this.quoteTable);return t.forEach((function(t,a){var e=t.pageData,i=e.pageIndex,s=e.pageSize,n=(i-1)*s,r=n+s;t.pageData.pageCount=t.tableData.length||0,t.tableData=t.tableData.slice(n,r)})),t},isTmContract:function(){return this.contractType.indexOf("TM")>-1&&(this.contractType.indexOf("开口")>-1?this.isOpenContract=!0:this.isOpenContract=!1,!0)},isFpContract:function(){return this.contractType.indexOf("FP")>-1},isOrderContract:function(){return this.contractType.indexOf("工单/订单")>-1},isShowQuotePriceContractMoeny:function(){return this.contractType.includes("闭口TM")||this.contractType.includes("项目TM")}}),watch:{isOnlyContractPrice:{handler:function(t){if(t)for(var a=0;a<9;a++)this.navList.shift()}}}},L=R,q=(e("e606"),e("2877")),j=Object(q["a"])(L,i,s,!1,null,"e6982546",null);a["default"]=j.exports},e606:function(t,a,e){"use strict";e("2e31")}}]);