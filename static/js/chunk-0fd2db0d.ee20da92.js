(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fd2db0d"],{"1fc2":function(e,t,a){},"2a37":function(e,t,a){"use strict";a("1fc2")},"2b6d":function(e,t,a){"use strict";a.d(t,"l",(function(){return i})),a.d(t,"k",(function(){return n})),a.d(t,"o",(function(){return l})),a.d(t,"p",(function(){return r})),a.d(t,"q",(function(){return o})),a.d(t,"r",(function(){return c})),a.d(t,"m",(function(){return m})),a.d(t,"a",(function(){return p})),a.d(t,"t",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"c",(function(){return C})),a.d(t,"b",(function(){return v})),a.d(t,"n",(function(){return b})),a.d(t,"d",(function(){return y})),a.d(t,"e",(function(){return h})),a.d(t,"f",(function(){return g})),a.d(t,"s",(function(){return f})),a.d(t,"j",(function(){return x})),a.d(t,"g",(function(){return w})),a.d(t,"h",(function(){return _}));a("99af");var s=a("b775");function i(e){return Object(s["a"])({url:"/business/vmclient/queryVmClientList",method:"post",data:e})}function n(e){return Object(s["a"])({url:"/business/vmclient/queryVmClientInfo",method:"post",params:e})}function l(e){return Object(s["a"])({url:"/business/vmclient/removeVmClientCompany",method:"post",params:e})}function r(e){return Object(s["a"])({url:"/business/vmclient/removeVmClientTail",method:"post",params:e})}function o(e){return Object(s["a"])({url:"/business/vmclient/saveOrUpdateVmClient",method:"post",data:e})}function c(e){return Object(s["a"])({url:"/business/vmclient/saveOrUpdateVmClientTail",method:"post",data:e})}function m(e){return Object(s["a"])({url:"/business/vmclient/queryVmClientTailList",method:"post",data:e})}function p(e){return Object(s["a"])({url:"/business/vmclient/clientFlow",method:"post",params:e})}function d(e){return Object(s["a"])({url:"/business/vmclient/updateNewsStatus",method:"post",params:e})}function u(e){return Object(s["a"])({url:"/business/vmclient/newsFlow",method:"post",params:e})}function C(e){return Object(s["a"])({url:"/business/vmclient/exportVmClientList",method:"post",data:e})}function v(e){return Object(s["a"])({url:"/commons/exportfile/download",method:"get",params:e})}function b(e){return Object(s["a"])({url:"/business/vmclient/queryVmClientUsers",method:"post",data:e})}function y(e){return Object(s["a"])({url:"/commons/tianyancha/getBaseInfoV2",method:"post",data:e})}function h(e){return Object(s["a"])({url:"/commons/tianyancha/getCompanyLawSuit",method:"post",data:e})}function g(e){return Object(s["a"])({url:"/commons/tianyancha/getCompanyProfile",method:"post",data:e})}function f(e){return Object(s["a"])({url:"/commons/tianyancha/searchCompany",method:"post",data:e})}function x(e){return Object(s["a"])({url:"/business/client/queryClientCompanySelectListByOrgId",method:"post",data:e})}function w(e){return Object(s["a"])({url:"/business/contract/getContractPrice?cityCn=".concat(e.cityCn,"&contractId=").concat(e.contractId,"&jobCn=").concat(e.jobCn,"&jobLevel=").concat(e.jobLevel),method:"post"})}function _(e){return Object(s["a"])({url:"/business/contract/queryContractPriceDimension?contractId=".concat(e.contractId),method:"post"})}},"9e77":function(e,t,a){"use strict";a.d(t,"d",(function(){return y})),a.d(t,"e",(function(){return h})),a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return f})),a.d(t,"a",(function(){return x}));var s=a("2909"),i=(a("ac1f"),a("1276"),a("ed08")),n=a("4360"),l=n["a"].state.baseData.baseDataOptionList.IT_CPSC,r=n["a"].state.baseData.baseDataOptionList.IT_RISK,o=n["a"].state.baseData.baseDataOptionList.IT_FNLV,c=n["a"].state.baseData.baseDataOptionList.IT_COPT,m=n["a"].state.baseData.baseDataOptionList.IT_IDST,p=n["a"].state.baseData.baseDataOptionList.IT_IDSB,d=n["a"].state.baseData.baseDataOptionList.IT_CTCT,u=n["a"].state.baseData.baseDataOptionList.IT_CTST,C=n["a"].state.baseData.baseDataOptionList.IT_CTOV,v=n["a"].state.baseData.baseDataOptionList.IT_CURR,b=n["a"].state.baseData.baseDataOptionList.IT_CTFT,y=function(e){return[{label:"序号",type:"index",width:"120px"},{label:"风险名称",prop:"title",width:"220px"},{label:"风险内容",prop:"content",sortable:!0}]},h=function(e){return[{label:"序号",type:"index",width:"120px"},{label:"条款标题",prop:"title",width:"220px"},{label:"条款内容",prop:"content"}]},g=function(e){return[{label:"序号",type:"index",width:"120px"},{label:"公司名称",prop:"companyName",sortable:!0},{label:"建档状态",prop:"documentStatus",width:"120px"}]},f=function(e){return[{label:"合同附件类型",prop:"contractFileType",kind:"render",render:function(e,t){var a=Object(i["k"])(b,t.row.contractFileType);return e("span",a)}},{label:"适用公司",prop:"relationNames"},{label:"文件名",prop:"fileName"},{label:"大小",prop:"fileSize",width:"120px",kind:"render",render:function(e,t){return e("div",t.row.fileSize)}},{label:"上传时间",prop:"uploadTime",kind:"render",render:function(e,t){return e("div",(t.row.uploadTime||"").split("T")[0])}},{label:"上传人",prop:"createorName",width:"120px"},{label:"操作",kind:"render",render:function(t,a){return t("div",[t("span",{style:{color:"blue",cursor:"pointer",marginRight:"10px"},on:{click:function(){e.previewContract(a)}}},"预览"),t("span",{style:{color:"blue",cursor:"pointer"},on:{click:function(){e.downloadContract(a)}}},"下载")])}}]},x=[{companyScale:Object(s["a"])(l)},{riskType:Object(s["a"])(r)},{financeType:Object(s["a"])(o)},{cooperationMode:Object(s["a"])(c)},{industryType:Object(s["a"])(m)},{industrySubType:Object(s["a"])(p)},{contractType:Object(s["a"])(d)},{contractStatus:Object(s["a"])(u)},{contractOverStatus:Object(s["a"])(C)},{contractCurrency:Object(s["a"])(v)}]},a0ee:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"table-min"},[e._m(0),a("el-dialog",{attrs:{title:"公司信息",visible:e.dialogTableVisible,width:"75%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{ref:"Table",attrs:{data:e.tianyanListArr,height:"500px","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{width:"55",type:"selection"}}),a("el-table-column",{attrs:{prop:"companyType",label:"公司类型",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("ellipsis")(t.row.companyType)))])]}}])}),a("el-table-column",{attrs:{prop:"creditCode",label:"统一信用编码",width:"200","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"base",label:"省份",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"legalPersonName",label:"注册人",width:"100",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"estiblishTime",label:"成立日期",width:"200",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"注册资本",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"公司名称",width:"240","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"regCapital",label:"注册资金",width:"150",align:"center"}}),a("el-table-column",{attrs:{prop:"regStatus",label:"公司状态",width:"150",align:"center"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.selectmessage}},[e._v("确 定")])],1)],1),a("el-form",{ref:"vmClientCompany",attrs:{rules:e.rulesVmClientCompany,model:e.vmClientCompany,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"准客户全称",prop:"clientCompanyName"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"50",clearable:""},model:{value:e.vmClientCompany.clientCompanyName,callback:function(t){e.$set(e.vmClientCompany,"clientCompanyName",t)},expression:"vmClientCompany.clientCompanyName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search",tabindex:"-1"},on:{click:e.tianyanSee},slot:"append"})],1)],1)],1),a("el-col",{staticStyle:{position:"relative"},attrs:{span:12}},[a("el-form-item",{attrs:{label:"统一信用编码",prop:"creditCode"}},[a("el-input",{attrs:{maxlength:"18",placeholder:"请输入",clearable:""},model:{value:e.vmClientCompany.creditCode,callback:function(t){e.$set(e.vmClientCompany,"creditCode",t)},expression:"vmClientCompany.creditCode"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"注册资金（万元）",prop:"registerMoney"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"8",clearable:""},model:{value:e.vmClientCompany.registerMoney,callback:function(t){e.$set(e.vmClientCompany,"registerMoney",t)},expression:"vmClientCompany.registerMoney"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成立日期",prop:"registerDate"}},[a("el-date-picker",{style:e.maxWidth,attrs:{type:"date","picker-options":e.pickerOptions,placeholder:"选择日期"},model:{value:e.vmClientCompany.registerDate,callback:function(t){e.$set(e.vmClientCompany,"registerDate",t)},expression:"vmClientCompany.registerDate"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所属集团名称"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"50",clearable:""},model:{value:e.vmClientCompany.clientGroupName,callback:function(t){e.$set(e.vmClientCompany,"clientGroupName",t)},expression:"vmClientCompany.clientGroupName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"企业网址"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"50",clearable:""},model:{value:e.vmClientCompany.companySiteUrl,callback:function(t){e.$set(e.vmClientCompany,"companySiteUrl",t)},expression:"vmClientCompany.companySiteUrl"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"企业类型",prop:"companyNature"}},[a("el-select",{style:e.maxWidth,attrs:{placeholder:"请选择",clearable:""},model:{value:e.vmClientCompany.companyNature,callback:function(t){e.$set(e.vmClientCompany,"companyNature",t)},expression:"vmClientCompany.companyNature"}},e._l(e.companyNatureTypeList,(function(e){return a("el-option",{key:e.dataId,attrs:{label:e.text,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所属行业",prop:"searchParams"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.industryTreeArr,props:{expandTrigger:"hover"}},model:{value:e.vmClientCompany.searchParams,callback:function(t){e.$set(e.vmClientCompany,"searchParams",t)},expression:"vmClientCompany.searchParams"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"企业所在地",prop:"registerAddress"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-cascader",{style:e.maxWidth,attrs:{clearable:"",filterable:"",options:e.regionOptions,props:{expandTrigger:"hover"}},model:{value:e.vmClientCompany.registerAddress,callback:function(t){e.$set(e.vmClientCompany,"registerAddress",t)},expression:"vmClientCompany.registerAddress"}})],1),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"text",maxlength:"50",clearable:"",placeholder:"请输入详细地址",rows:6,resize:"none"},model:{value:e.vmClientCompany.registerAddressDetail,callback:function(t){e.$set(e.vmClientCompany,"registerAddressDetail",t)},expression:"vmClientCompany.registerAddressDetail"}})],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否属于风险类客户",prop:"isRisk"}},[a("el-radio-group",{on:{change:e.changeIsRiskRadio},model:{value:e.isRiskRadio,callback:function(t){e.isRiskRadio=t},expression:"isRiskRadio"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1),e.isRiskRadio?a("el-select",{staticStyle:{"margin-left":"20px"},model:{value:e.vmClientCompany.isRisk,callback:function(t){e.$set(e.vmClientCompany,"isRisk",t)},expression:"vmClientCompany.isRisk"}},e._l(e.isRiskTypeList,(function(e){return a("el-option",{key:e.dataId,attrs:{label:e.text,clearable:"",value:e.value}})})),1):e._e()],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{ref:"clientCompanyRemark",attrs:{label:"客户简介",prop:"clientCompanyRemark"}},[a("div",{staticClass:"text-surfacee"},[a("quill-editor",{style:e.editorHeight,attrs:{options:e.editorOption},on:{change:e.onEditorChange1},model:{value:e.vmClientCompany.clientCompanyRemark,callback:function(t){e.$set(e.vmClientCompany,"clientCompanyRemark",t)},expression:"vmClientCompany.clientCompanyRemark"}})],1)])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"业务范围",prop:"businessScope"}},[a("div",{staticClass:"text-surfacee"},[a("el-input",{attrs:{type:"textarea",rows:6,resize:"none",placeholder:"请输入","show-word-limit":""},model:{value:e.vmClientCompany.businessScope,callback:function(t){e.$set(e.vmClientCompany,"businessScope",t)},expression:"vmClientCompany.businessScope"}}),a("div",{staticClass:"text-length"},[e._v(" "+e._s(e.vmClientCompany.businessScope.length)+" ")])],1)])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"客户不良诉讼记录"}},[a("div",{staticClass:"text-surfacee"},[a("el-input",{attrs:{type:"textarea",rows:6,resize:"none",placeholder:"请输入","show-word-limit":""},model:{value:e.vmClientCompany.badLawsuitRecord,callback:function(t){e.$set(e.vmClientCompany,"badLawsuitRecord",t)},expression:"vmClientCompany.badLawsuitRecord"}}),a("div",{staticClass:"text-length"},[e._v(" "+e._s(e.vmClientCompany.badLawsuitRecord.length)+" ")])],1)])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"内部反馈不良记录"}},[a("div",{staticClass:"text-surfacee"},[a("el-input",{attrs:{type:"textarea",rows:6,resize:"none",placeholder:"请输入","show-word-limit":"",maxlength:"300"},model:{value:e.vmClientCompany.badFeedbackRecord,callback:function(t){e.$set(e.vmClientCompany,"badFeedbackRecord",t)},expression:"vmClientCompany.badFeedbackRecord"}})],1)])],1)],1)],1),a("el-divider"),e._m(1),a("el-form",{ref:"vmClientCompanyNews",attrs:{rules:e.rulesVmClientCompanyNews,model:e.vmClientCompanyNews,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"商机描述",prop:"newsDetail"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"50",clearable:""},model:{value:e.vmClientCompanyNews.newsDetail,callback:function(t){e.$set(e.vmClientCompanyNews,"newsDetail",t)},expression:"vmClientCompanyNews.newsDetail"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"商机来源",prop:"newsSource"}},[a("el-select",{style:e.maxWidth,attrs:{placeholder:"请选择",clearable:""},model:{value:e.vmClientCompanyNews.newsSource,callback:function(t){e.$set(e.vmClientCompanyNews,"newsSource",t)},expression:"vmClientCompanyNews.newsSource"}},e._l(e.newsSourceTypeList,(function(e){return a("el-option",{key:e.dataId,attrs:{label:e.text,clearable:"",value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"商机赢率%",prop:"newsWinRate"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"4",clearable:""},model:{value:e.vmClientCompanyNews.newsWinRate,callback:function(t){e.$set(e.vmClientCompanyNews,"newsWinRate",t)},expression:"vmClientCompanyNews.newsWinRate"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"客户决策链",prop:"clientDecision"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"50",clearable:""},model:{value:e.vmClientCompanyNews.clientDecision,callback:function(t){e.$set(e.vmClientCompanyNews,"clientDecision",t)},expression:"vmClientCompanyNews.clientDecision"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预计可合作人数",prop:"cooperateCount"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"11",clearable:""},model:{value:e.vmClientCompanyNews.cooperateCount,callback:function(t){e.$set(e.vmClientCompanyNews,"cooperateCount",t)},expression:"vmClientCompanyNews.cooperateCount"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预计可合作金额（万元）",prop:"cooperatePrice"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"8",clearable:""},model:{value:e.vmClientCompanyNews.cooperatePrice,callback:function(t){e.$set(e.vmClientCompanyNews,"cooperatePrice",t)},expression:"vmClientCompanyNews.cooperatePrice"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"年度采购节点",prop:"purchaseNode"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"50",clearable:""},model:{value:e.vmClientCompanyNews.purchaseNode,callback:function(t){e.$set(e.vmClientCompanyNews,"purchaseNode",t)},expression:"vmClientCompanyNews.purchaseNode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下次采购时间",prop:"nextPurchaseTime"}},[a("el-date-picker",{style:e.maxWidth,attrs:{type:"month",placeholder:"选择日期"},model:{value:e.vmClientCompanyNews.nextPurchaseTime,callback:function(t){e.$set(e.vmClientCompanyNews,"nextPurchaseTime",t)},expression:"vmClientCompanyNews.nextPurchaseTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合作模式",prop:"cooperateMode"}},[a("el-checkbox-group",{model:{value:e.vmClientCompanyNews.cooperateMode,callback:function(t){e.$set(e.vmClientCompanyNews,"cooperateMode",t)},expression:"vmClientCompanyNews.cooperateMode"}},e._l(e.cooperateModeTypeList,(function(e){return a("el-checkbox",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"服务需求地域",prop:"demandAddress"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"50",clearable:""},model:{value:e.vmClientCompanyNews.demandAddress,callback:function(t){e.$set(e.vmClientCompanyNews,"demandAddress",t)},expression:"vmClientCompanyNews.demandAddress"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{ref:"clientAnalysis",attrs:{label:"客户情况分析",prop:"clientAnalysis"}},[a("div",{staticClass:"text-surfacee"},[a("quill-editor",{style:e.editorHeight,attrs:{options:e.editorOption},on:{change:function(t){return e.onEditorChange2(t)}},model:{value:e.vmClientCompanyNews.clientAnalysis,callback:function(t){e.$set(e.vmClientCompanyNews,"clientAnalysis",t)},expression:"vmClientCompanyNews.clientAnalysis"}}),a("div",{staticClass:"text-length"},[e._v(e._s(e.currentTextLength1)+"/500")])],1)])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{ref:"newsAnalysis",attrs:{label:"商机分析",prop:"newsAnalysis"}},[a("div",{staticClass:"text-surfacee"},[a("quill-editor",{style:e.editorHeight,attrs:{options:e.editorOption},on:{change:function(t){return e.onEditorChange3(t)}},model:{value:e.vmClientCompanyNews.newsAnalysis,callback:function(t){e.$set(e.vmClientCompanyNews,"newsAnalysis",t)},expression:"vmClientCompanyNews.newsAnalysis"}}),a("div",{staticClass:"text-length"},[e._v(e._s(e.currentTextLength2)+"/500")])],1)])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{ref:"enemyAnalysis",attrs:{label:"竞争对手分析",prop:"enemyAnalysis"}},[a("div",{staticClass:"text-surfacee"},[a("quill-editor",{style:e.editorHeight,attrs:{options:e.editorOption},on:{change:function(t){return e.onEditorChange4(t)}},model:{value:e.vmClientCompanyNews.enemyAnalysis,callback:function(t){e.$set(e.vmClientCompanyNews,"enemyAnalysis",t)},expression:"vmClientCompanyNews.enemyAnalysis"}}),a("div",{staticClass:"text-length"},[e._v(e._s(e.currentTextLength3)+"/500")])],1)])],1)],1)],1),a("el-divider"),e._m(2),e._l(e.contactsListData.vmClientCompanyContactList,(function(t,s){return a("el-form",{key:s,ref:"contactForm_"+s,refInFor:!0,attrs:{rules:e.rulesContactList,model:t,"label-width":"180px"}},[a("div",{staticClass:"contactsInner"},[a("div",{staticClass:"titles"},[e._v("联系人"+e._s(s+1))]),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名",prop:"contactName"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"50",clearable:""},model:{value:t.contactName,callback:function(a){e.$set(t,"contactName",a)},expression:"item.contactName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所属部门/岗位",prop:"contactOrg"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"50",clearable:""},model:{value:t.contactOrg,callback:function(a){e.$set(t,"contactOrg",a)},expression:"item.contactOrg"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"办公电话",prop:"contactTel"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"13",clearable:""},model:{value:t.contactTel,callback:function(a){e.$set(t,"contactTel",a)},expression:"item.contactTel"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码",prop:"contactPhone"}},[a("el-input",{attrs:{type:"text",clearable:"",maxlength:"11",placeholder:"请输入"},model:{value:t.contactPhone,callback:function(a){e.$set(t,"contactPhone",a)},expression:"item.contactPhone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信号"}},[a("el-input",{attrs:{maxlength:"50",placeholder:"请输入",clearable:""},model:{value:t.contactWeixin,callback:function(a){e.$set(t,"contactWeixin",a)},expression:"item.contactWeixin"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"contactEmail"}},[a("el-input",{attrs:{maxlength:"50",placeholder:"请输入",clearable:""},model:{value:t.contactEmail,callback:function(a){e.$set(t,"contactEmail",a)},expression:"item.contactEmail"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"联系人特征",prop:"contactRemark"}},[a("el-input",{attrs:{maxlength:"50",placeholder:"请输入",clearable:""},model:{value:t.contactRemark,callback:function(a){e.$set(t,"contactRemark",a)},expression:"item.contactRemark"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"关系描述",prop:"contactRelationRemark"}},[a("el-input",{attrs:{maxlength:"50",placeholder:"请输入",clearable:""},model:{value:t.contactRelationRemark,callback:function(a){e.$set(t,"contactRelationRemark",a)},expression:"item.contactRelationRemark"}})],1)],1)],1),s>0?a("div",{staticClass:"handleDeleteBtn",on:{click:function(a){return e.handleDelete(t,s)}}},[a("el-button",{attrs:{type:"danger"}},[e._v("删除")])],1):e._e()],1)])})),a("div",{staticClass:"addBtn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("+添加")])],1),e._m(3),a("el-form",{ref:"formData4",attrs:{model:e.vmClientCompany,"label-width":"160px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"申请人"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:""},on:{change:e.applicantMethod},model:{value:e.vmClientCompany.applicantName,callback:function(t){e.$set(e.vmClientCompany,"applicantName",t)},expression:"vmClientCompany.applicantName"}},e._l(e.roleList,(function(e){return a("el-option",{key:e.userInfo.userId,attrs:{label:e.userInfo.userName,value:e.userInfo.userId}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否为团队客户"}},[a("el-radio-group",{model:{value:e.vmClientCompany.applicantIsTeam,callback:function(t){e.$set(e.vmClientCompany,"applicantIsTeam",t)},expression:"vmClientCompany.applicantIsTeam"}},e._l(e.applicantIsTeamTypeList,(function(t,s){return a("el-radio",{key:s,attrs:{label:t.value}},[e._v(e._s(t.text))])})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所属部门"}},[a("el-input",{attrs:{disabled:"",maxlength:"50",clearable:""},model:{value:e.vmClientCompany.applicantOrg,callback:function(t){e.$set(e.vmClientCompany,"applicantOrg",t)},expression:"vmClientCompany.applicantOrg"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"申请时间"}},[a("el-date-picker",{style:e.maxWidth,attrs:{type:"date",placeholder:"选择日期",readonly:!0},model:{value:e.vmClientCompany.applicantTime,callback:function(t){e.$set(e.vmClientCompany,"applicantTime",t)},expression:"vmClientCompany.applicantTime"}})],1)],1)],1)],1)],2),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"90%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"table-min"},[a("div",{staticClass:"item-section"},[a("div",{staticClass:"item-title"},[a("span",[e._v("准客户信息")]),a("div",{staticClass:"line"})]),a("div",{staticClass:"item-table"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("准客户全称：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompany.clientCompanyName)+" ")])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("统一信用编码：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompany.creditCode)+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("注册资金（万元）：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompany.registerMoney)+" ")])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("成立日期：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompany.registerDate?e.formateDate(e.vmClientCompany.registerDate):"--")+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("所属集团名称：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompany.clientGroupName||"--")+" ")])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("企业网址：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompany.companySiteUrl||"--")+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("企业类型：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.getqueryLabelById(e.companyNatureTypeList,e.vmClientCompany.companyNature))+" ")])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("所属行业：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.getqueryLabelById(e.industryTypeList,e.vmClientCompany.searchParams[0])+"-"+e.getqueryLabelById(e.industrySubTypeList,e.vmClientCompany.searchParams[1]))+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("企业所在地：")]),a("div",{staticClass:"item-box-txt"},[e._v(e._s(e.previewAddress1))])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("是否属于风险类客户：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(""==e.vmClientCompany.isRisk?"否":e.getqueryLabelById(e.isRiskTypeList,e.vmClientCompany.isRisk))+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box item-textarea"},[a("div",{staticClass:"label"},[e._v("客户简介：")]),a("div",{staticClass:"item-box-txt"},[a("div",{domProps:{innerHTML:e._s(e.vmClientCompany.clientCompanyRemark)}})])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box item-textarea"},[a("div",{staticClass:"label"},[e._v("业务范围：")]),a("div",{staticClass:"item-box-txt"},[a("p",[e._v(e._s(e.vmClientCompany.businessScope))])])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("客户不良诉讼记录：")]),a("div",{staticClass:"item-box-txt"},[a("p",[e._v(e._s(e.vmClientCompany.badLawsuitRecord))])])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("内部反馈不良记录：")]),a("div",{staticClass:"item-box-txt"},[a("p",[e._v(e._s(e.vmClientCompany.badFeedbackRecord))])])])])],1)],1)]),a("div",{staticClass:"item-section"},[a("div",{staticClass:"item-title"},[a("span",[e._v("商机信息")]),a("div",{staticClass:"line"})]),a("div",{staticClass:"item-table"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("商机描述：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompanyNews.newsDetail)+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("商机来源：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.getqueryLabelById(e.newsSourceTypeList,e.vmClientCompanyNews.newsSource))+" ")])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("商机赢率%：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompanyNews.newsWinRate)+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("客户决策链：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompanyNews.clientDecision)+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("预计可合作人数：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompanyNews.cooperateCount)+" ")])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("预计可合作金额（万元）：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompanyNews.cooperatePrice)+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("年度采购节点：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompanyNews.purchaseNode)+" ")])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("下次采购时间：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompanyNews.nextPurchaseTime?e.formateDate(e.vmClientCompanyNews.nextPurchaseTime):"--")+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("服务需求地域：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompanyNews.demandAddress)+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box item-textarea"},[a("div",{staticClass:"label"},[e._v("客户情况分析：")]),a("div",{staticClass:"item-box-txt"},[a("div",{domProps:{innerHTML:e._s(e.vmClientCompanyNews.clientAnalysis)}})])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box item-textarea"},[a("div",{staticClass:"label"},[e._v("商机分析：")]),a("div",{staticClass:"item-box-txt"},[a("div",{domProps:{innerHTML:e._s(e.vmClientCompanyNews.newsAnalysis)}})])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box item-textarea"},[a("div",{staticClass:"label"},[e._v("竞争对手分析：")]),a("div",{staticClass:"item-box-txt"},[a("div",{domProps:{innerHTML:e._s(e.vmClientCompanyNews.enemyAnalysis)}})])])])],1)],1)]),a("div",{staticClass:"item-section"},[a("div",{staticClass:"item-title"},[a("span",[e._v("联系人")]),a("div",{staticClass:"line"})]),e._l(e.contactsListData.vmClientCompanyContactList,(function(t,s){return a("div",{key:s,staticClass:"item-table"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("姓名：")]),a("div",{staticClass:"item-box-txt"},[e._v(e._s(t.contactName))])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("所属部门/岗位：")]),a("div",{staticClass:"item-box-txt"},[e._v(e._s(t.contactOrg))])])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("办公电话：")]),a("div",{staticClass:"item-box-txt"},[e._v(e._s(t.contactTel||"--"))])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("手机号码：")]),a("div",{staticClass:"item-box-txt"},[e._v(e._s(t.contactPhone))])])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("微信号：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(t.contactWeixin||"--")+" ")])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("邮箱：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(t.contactEmail||"--")+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("联系人特征：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(t.contactRemark||"--")+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("关系描述：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(t.contactRelationRemark||"--")+" ")])])])],1)],1)}))],2),a("div",{staticClass:"item-section"},[a("div",{staticClass:"item-title"},[a("span",[e._v("申请人信息")]),a("div",{staticClass:"line"})]),a("div",{staticClass:"item-table"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("申请人：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.getqueryLabelapplicantName(e.roleList,e.vmClientCompany.applicantName))+" ")])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("是否为团队客户：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(1==e.vmClientCompany.applicantIsTeam?"否":"是")+" ")])])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("所属部门：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompany.applicantOrg||"--")+" ")])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"label"},[e._v("申请时间：")]),a("div",{staticClass:"item-box-txt"},[e._v(" "+e._s(e.vmClientCompany.applicantTime?e.formateDate(e.vmClientCompany.applicantTime):"--")+" ")])])])],1)],1)])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)]),a("div",{staticClass:"submitForm"},[a("div",{staticClass:"close",on:{click:e.closePage}},[e._v("关闭")]),a("div",{staticClass:"preview",on:{click:e.previewPage}},[e._v("预览")]),a("div",{staticClass:"submit",on:{click:function(t){return e.submitForm()}}},[e._v("提交")])])],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("h4",[e._v("准客户信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("h4",[e._v("商机信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("h4",[e._v("联系人")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("h4",[e._v("申请人信息")])])}],n=a("b85c"),l=a("1da1"),r=(a("96cf"),a("b0c0"),a("fb6a"),a("159b"),a("99af"),a("ac1f"),a("1276"),a("d81d"),a("d3b7"),a("a434"),a("25f0"),a("2b6d")),o=a("a417"),c=a("c24f"),m=a("953d"),p=a("ed08"),d=a("61f7"),u=(a("a753"),a("8096"),a("14e1"),a("9e77"),{name:"NewlyAdded",components:{quillEditor:m["quillEditor"]},filters:{ellipsis:function(e){if(!e)return"无";switch(e){case 1:return"公司";case 2:return"香港公司";case 3:return"社会组织";case 4:return"律所";case 5:return"事业单位";case 6:return"基金会"}return"未知"}},data:function(){return{customerBasic:{},customerLigation:{},customerIntroduction:[],showMessage:{},tianyanListArr:[],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e4}},rulesVmClientCompany:{clientCompanyName:[{required:!0,message:"请输入准客户全称",trigger:"change"}],creditCode:[{required:!0,message:"请输入正确的统一社会信用代码",trigger:"change",validator:d["z"]}],registerMoney:[{required:!0,message:"请输入注册资金",trigger:"change",validator:d["n"]}],registerDate:[{required:!0,message:"请输入成立日期",trigger:"change"}],companyNature:[{required:!0,message:"请选择企业类型",trigger:"change"}],searchParams:[{required:!0,message:"请选择所属行业",trigger:"change"}],registerAddress:[{type:"array",required:!0,message:"请输入企业所在地",trigger:"change"}],registerAddressDetail:[{required:!0,message:"请输入企业所详细地址",trigger:"change"}],isRisk:[{required:!0,message:"请选择是否属于风险类客户",trigger:"change"}],clientCompanyRemark:[{required:!0,message:"请输入客户简介",trigger:"change"}],businessScope:[{required:!0,message:"请输入业务范围",trigger:"change"}]},rulesVmClientCompanyNews:{newsDetail:[{required:!0,message:"请输入商机描述",trigger:"change"}],newsSource:[{required:!0,message:"请选择所商机来源",trigger:"change"}],newsWinRate:[{required:!0,message:"请输入商机赢率",trigger:"change",validator:d["u"]}],clientDecision:[{required:!0,message:"请输客户决策链",trigger:"change"}],cooperateCount:[{required:!0,message:"请输入预计可合作人数",trigger:"change",validator:d["t"]}],cooperatePrice:[{required:!0,message:"请输入预计可合作金额",trigger:"change",validator:d["n"]}],purchaseNode:[{required:!0,message:"请输入年度采购节点",trigger:"change"}],nextPurchaseTime:[{required:!0,message:"请输入下次采购时间",trigger:"change"}],cooperateMode:[{required:!0,message:"请至少选择一个合作模式",trigger:"change"}],demandAddress:[{required:!0,message:"请选择服务需求地域",trigger:"change"}],clientAnalysis:[{required:!0,message:"请输入客户情况分析",trigger:"change"}],newsAnalysis:[{required:!0,message:"请输入商机分析",trigger:"change"}],enemyAnalysis:[{required:!0,message:"请输入竞争对手分析",trigger:"change"}]},rulesContactList:{contactName:[{required:!0,message:"请输入姓名",trigger:"change"}],contactOrg:[{required:!0,message:"请输入所属部门/岗位",trigger:"change"}],contactPhone:[{required:!0,message:"请输手机号码",trigger:"change",validator:d["r"]}],contactRemark:[{required:!0,message:"请输入联系人特征",trigger:"change"}],contactRelationRemark:[{required:!0,message:"请输入关系描述",trigger:"change"}],contactTel:[{required:!1,message:"请输入正确的电话号码",trigger:"change",validator:d["w"]}],contactEmail:[{required:!1,message:"请输入正确的邮箱",trigger:"change",validator:d["h"]}]},dialogTableVisible:!1,maxWidth:"width:100%;",vmClientCompany:{applicantName:"",applicantOrg:"",applicantIsTeam:"1",searchParams:[],clientCompanyName:"",creditCode:"",registerMoney:"",registerDate:"",clientGroupName:"",companySiteUrl:"",companyNature:"",industryType:"",industrySubType:"",registerAddress:[],registerAddressDetail:"",isRisk:"",clientCompanyRemark:"",businessScope:"",badLawsuitRecord:"",badFeedbackRecord:"",applicantTime:""},vmClientCompanyNews:{newsDetail:"",newsSource:"",newsWinRate:"",clientDecision:"",cooperateCount:"",cooperatePrice:"",purchaseNode:"",nextPurchaseTime:"",cooperateMode:[],demandAddress:"",clientAnalysis:"",newsAnalysis:"",enemyAnalysis:""},contactsListData:{vmClientCompanyContactList:[{clientCompanyId:"",contactEmail:"",contactId:"",contactName:"",contactOrg:"",contactPhone:"",contactRelationRemark:"",contactRemark:"",contactTel:"",contactWeixin:""}]},isedit:"",industryTreeArr:[],currentRow:null,roleList:[],dialogVisible:!1,tianYanDialogVisible:!1,isRiskRadio:"",currentTextLength1:0,currentTextLength2:0,currentTextLength3:0,queryDutyLoading:!1,editorHeight:"height:160px; margin-bottom:50px;",previewAddress1:"",editorOption:{placeholder:"请输入",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}]]}}}},computed:{companyNatureTypeList:function(){return this.$store.state.baseData.baseDataOptionList.IT_CPNT},industryTypeList:function(){return this.$store.state.baseData.baseDataOptionList.IT_IDST},industrySubTypeList:function(){return this.$store.state.baseData.baseDataOptionList.IT_IDSB},isRiskTypeList:function(){return this.$store.state.baseData.baseDataOptionList.IT_FXKH},vmClientStatus:function(){return this.$store.state.baseData.baseDataOptionList.IT_VCAS},newsSourceTypeList:function(){return this.$store.state.baseData.baseDataOptionList.IT_NSOC},cooperateModeTypeList:function(){return this.$store.state.baseData.baseDataOptionList.IT_COPM},applicantIsTeamTypeList:function(){return this.$store.state.baseData.baseDataOptionList.IS_TEAM}},created:function(){var e=this;this.regionOptions=Object(p["i"])("cityTree"),Object(o["u"])().then((function(t){e.industryTreeArr=t})),Object(o["K"])({input:{}}).then((function(t){e.roleList=t.result})),this.getQueryData()},methods:{outSelect:function(){},selectmessage:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,s,i,n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(null!=e.showMessage&&e.showMessage.length>0)){t.next=25;break}return t.next=3,Object(r["d"])({keyword:e.showMessage[0].creditCode});case 3:return a=t.sent,t.next=6,Object(r["e"])({keyword:e.showMessage[0].creditCode,pageNum:1,pageSize:20});case 6:return s=t.sent,t.next=9,Object(r["f"])({keyword:e.showMessage[0].creditCode});case 9:i=t.sent,e.vmClientCompany.clientCompanyName=a.result.name,e.vmClientCompany.creditCode=a.result.creditCode,a.result.regCapital&&(e.vmClientCompany.registerMoney=a.result.regCapital.slice(0,-4)),a.result.estiblishTime&&(e.vmClientCompany.registerDate=e.dateFormat(a.result.estiblishTime)),e.vmClientCompany.companySiteUrl=a.result.websiteList,e.vmClientCompany.registerAddress="",e.vmClientCompany.registerAddressDetail=a.result.regLocation,e.vmClientCompany.clientCompanyRemark=i.result,e.vmClientCompany.businessScope=a.result.businessScope,n="法律诉讼共计".concat(s.result?s.result.total:"--","条：\n"),l=[],s.result&&s.result.items.length>0&&(l=s.result.items.slice(0,19)),l&&l.length>0&&l.forEach((function(e){n+="".concat(e.casereason?e.casereason:"--","  ").concat(e.lawsuitUrl?e.lawsuitUrl:"--","\n")})),e.vmClientCompany.badLawsuitRecord=n,e.dialogTableVisible=!1;case 25:case"end":return t.stop()}}),t)})))()},dateFormat:function(e){var t=new Date(e),a=t.getFullYear(),s=t.getMonth()+1;s=s<10?"0"+s:s;var i=t.getDate();i=i<10?"0"+i:i;var n=a+"-"+s+"-"+i;return n},getqueryLabelById:function(e,t){return Object(p["k"])(e,t)},getQueryData:function(){var e=this;this.isedit=this.$route.query.id||"",this.isedit?Object(r["k"])({clientCompanyId:this.isedit}).then((function(t){e.vmClientCompany=t.vmClientCompany,e.vmClientCompanyNews=t.vmClientCompanyNews,e.contactsListData.vmClientCompanyContactList=t.vmClientCompanyContactList,e.vmClientCompany.searchParams=[],e.vmClientCompany.searchParams.push(e.vmClientCompany.industryType),e.vmClientCompany.searchParams.push(e.vmClientCompany.industrySubType);var a=Object(p["i"])("cityTree"),s=[];e.vmClientCompany.registerAddress&&(s=e.vmClientCompany.registerAddress.split(","));var i=Object(p["g"])(a,s),n=i.map((function(e){return e.value}));e.vmClientCompany.registerAddress=n,0==e.vmClientCompany.isRisk||""==e.vmClientCompany.isRisk?e.isRiskRadio=0:e.isRiskRadio=1;var l=e.vmClientCompanyNews.cooperateMode.split(",");e.vmClientCompanyNews.cooperateMode=l,e.vmClientCompany.applicantName=e.vmClientCompany.applicantName,e.vmClientCompany.applicantOrg=e.vmClientCompany.applicantOrg})):Object(c["a"])().then((function(t){e.vmClientCompany.applicantName=t.userInfo.userId,e.vmClientCompany.applicantOrg=t.orgName;var a=new Date,s=a.getFullYear()+"-"+e.zeroize(a.getMonth()+1)+"-"+e.zeroize(a.getDate());e.vmClientCompany.applicantTime=s}))},zeroize:function(e){return e<10?"0"+e:e},getqueryLabelapplicantName:function(e,t){if(""==t)return"--";var a,s=Object(n["a"])(e);try{for(s.s();!(a=s.n()).done;){var i=a.value;if(i.userInfo.userId==t)return i.userInfo.userName}}catch(l){s.e(l)}finally{s.f()}},onEditorChange1:function(e){""!=e.text&&this.$refs.clientCompanyRemark.clearValidate()},onEditorChange2:function(e){""!=e.text&&this.$refs.clientAnalysis.clearValidate(),e.quill.deleteText(500,1),""===this.content?this.currentTextLength1=0:this.currentTextLength1=e.quill.getLength()-1},onEditorChange3:function(e){""!=e.text&&this.$refs.newsAnalysis.clearValidate(),e.quill.deleteText(500,1),""===this.content?this.currentTextLength2=0:this.currentTextLength2=e.quill.getLength()-1},onEditorChange4:function(e){""!=e.text&&this.$refs.enemyAnalysis.clearValidate(),e.quill.deleteText(500,1),""===this.content?this.currentTextLength3=0:this.currentTextLength3=e.quill.getLength()-1},changeIsRiskRadio:function(e){0==e?(this.vmClientCompany.isRisk=e,this.$refs.vmClientCompany.clearValidate("isRisk")):this.vmClientCompany.isRisk=""},tianyanSee:function(){var e=this;""!=this.vmClientCompany.clientCompanyName&&Object(r["s"])({word:this.vmClientCompany.clientCompanyName}).then((function(t){null==t.result?e.$message({message:t.reason,type:"warning"}):e.eyes=t.result.items,e.tianyanListArr=t.result.items,e.dialogTableVisible=!0}))},handleSelectionChange:function(e){e.length>1?(this.$refs.Table.clearSelection(),this.$refs.Table.toggleRowSelection(e.pop())):this.showMessage=e},closePage:function(){var e=this;this.$route;this.$confirm("内容未保存，是否直接关闭?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.$route,a=e.$route.query.from;e.$store.dispatch("tagsView/delView",t).then((function(t){t.visitedViews;"profile"==a?e.$router.push("/business/customerProfile"):"resource"==a&&e.$router.push("/business/customerResources")}))}))},previewPage:function(){this.dialogVisible=!0;var e=Object(p["i"])("cityTree"),t=[];this.vmClientCompany.registerAddress.forEach((function(a){t.push(Object(p["b"])(e,a))}));var a=t.toString();this.previewAddress1=a},handleAdd:function(){this.contactsListData.vmClientCompanyContactList.push({clientCompanyId:"",contactEmail:"",contactId:"",contactName:"",contactOrg:"",contactPhone:"",contactRelationRemark:"",contactRemark:"",contactTel:"",contactWeixin:""})},handleDelete:function(e,t){this.contactsListData.vmClientCompanyContactList.splice(t,1)},submitForm:function(){var e=this,t=this.validateForm();if(!t)return this.$message.warning("请填写必填项"),void this.$nextTick((function(){var e=document.getElementsByClassName("is-error");e&&e[0].scrollIntoView({block:"center",behavior:"smooth"})}));var a=JSON.parse(JSON.stringify(this.vmClientCompany)),s=JSON.parse(JSON.stringify(this.vmClientCompanyNews)),i=Object(p["i"])("cityTree"),n=[];a.registerAddress.forEach((function(e){n.push(Object(p["b"])(i,e))}));var l=n.toString();a.registerAddress=l;var o=s.cooperateMode.toString();s.cooperateMode=o,a.industryType=a.searchParams[0],a.industrySubType=a.searchParams[1],delete a.searchParams;var c={};c.vmClientCompany=a,c.vmClientCompanyNews=s,c.vmClientCompanyContactList=this.contactsListData.vmClientCompanyContactList,Object(r["q"])(c).then((function(t){e.isedit?e.$message({message:"编辑成功！",type:"success"}):e.$message({message:"新增成功！",type:"success"});var a=e.$route,s=e.$route.query.from;e.$store.dispatch("tagsView/delView",a).then((function(t){t.visitedViews;"profile"==s?e.$router.push("/business/customerProfile"):"resource"==s&&e.$router.push("/business/customerResources")}))}))},formateDate:function(e){function t(e){return e<10?"0"+e:e}var a=new Date(e),s=a.getFullYear()+"-"+t(a.getMonth()+1)+"-"+t(a.getDate());return s},applicantMethod:function(e){var t,a=Object(n["a"])(this.roleList);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.userInfo.userId==e&&(this.vmClientCompany.applicantOrg=s.orgName)}}catch(i){a.e(i)}finally{a.f()}},validateForm:function(){var e="",t="",a="";this.$refs["vmClientCompany"].validate((function(e){t=!!e})),this.$refs["vmClientCompanyNews"].validate((function(e){a=!!e}));var s=!0;for(var i in this.$refs)if(0==i.indexOf("contactForm_")){var n=this.$refs[i][0];n.validate((function(e){s=s&&e}))}return e=t&&a&&s,e}}}),C=u,v=(a("2a37"),a("2877")),b=Object(v["a"])(C,s,i,!1,null,"6ba32b28",null);t["default"]=b.exports},c24f:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a("b775");function i(){return Object(s["a"])({url:"/system/user/me",method:"post"})}}}]);