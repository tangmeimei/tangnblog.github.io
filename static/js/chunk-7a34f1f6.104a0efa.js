(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a34f1f6"],{"61f8":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toms-container"},[a("div",{staticClass:"toms-add-navBar"},[e._l(e.navList,(function(t){return[t.hidden?a("div",{key:t.navId,class:{current:e.navFlag===t.navId},on:{click:function(a){return e.navChange(t.navId)}}},[e._v(" "+e._s(t.name)+" ")]):e._e()]}))],2),a("div",{staticClass:"toms-add-contentWrap"},[a("basic-form",{attrs:{basicFormData:e.basicProcessData}}),e.isShowDismissInfo?a("dismission-form",{ref:"dismissInfo",attrs:{basicFormData:e.dismissionInfo}}):e._e(),e.isShowDlvOppinion?a("delivery-form",{ref:"deliveryInfo",attrs:{basicFormData:e.deliveryOppinion}}):e._e(),"IT_LZZT_001"!=e.dismissionInfo.leaveStatus||"IT_LZFT_001"!=e.dismissionInfo.recruitJoin||"020"!=e.currentNode&&"030"!=e.currentNode&&"035"!=e.currentNode&&"040"!=e.currentNode&&"050"!=e.currentNode&&"060"!=e.currentNode&&"080"!=e.currentNode&&"090"!=e.currentNode?e._e():a("dismission-talk-form",{ref:"dissmissTalk",attrs:{basicFormData:e.dissmissTalk,entryDate:e.dismissionInfo.contractStartTime}}),"IT_LZZT_001"!=e.dismissionInfo.leaveStatus||"030"!=e.currentNode&&"035"!=e.currentNode&&"040"!=e.currentNode&&"050"!=e.currentNode&&"060"!=e.currentNode&&"080"!=e.currentNode&&"090"!=e.currentNode?e._e():a("dismiss-handover-form",{ref:"employDismissApply",attrs:{basicFormData:e.employDismissApply}}),"IT_LZZT_001"!=e.dismissionInfo.leaveStatus||"040"!=e.currentNode&&"050"!=e.currentNode&&"060"!=e.currentNode&&"080"!=e.currentNode&&"090"!=e.currentNode?e._e():a("client-delivery-form",{ref:"clentDelivery",attrs:{basicFormData:e.clentDelivery}}),"IT_LZZT_001"!=e.dismissionInfo.leaveStatus||"040"!=e.currentNode&&"050"!=e.currentNode&&"060"!=e.currentNode&&"080"!=e.currentNode&&"090"!=e.currentNode?e._e():a("director-approval-form",{ref:"directorApproval",attrs:{basicFormData:e.directorApproval}}),"080"===e.currentNode||"090"==e.currentNode?a("ssc-approval-form",{ref:"sscApproval",attrs:{basicFormData:e.sscApproval}}):e._e(),e.isShowDocument?a("dismiss-document-form",{ref:"dismissDocument",attrs:{basicFormData:e.dismissDocument},on:{onUpload:e.onUpload}}):e._e(),e.isShowProcessInfoComputed?a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("process-info",{ref:"approvalForm",attrs:{aprvData:e.aprvData,processInfo:e.currenFlowInfo,moduleName:e.moduleName}})],1)]):e._e(),a("operation-btn",{attrs:{processFormParams:e.processFormParams,processImageSrc:e.entryProcessImage,prepareCommitParams:e.prepareCmtParams,taskFlowConfig:e.taskFlowConfig,taskNodeInstance:e.taskNodeInstance,taskInstance:e.taskInstance,aprvData:e.aprvData,componentRefs:e.componentRefs,moduleName:e.moduleName,currenFlowInfo:e.currenFlowInfo}}),a("preview-modal",{attrs:{navName:"navigation",openModal:e.isOpenModal,navList:e.navListOfDetails,title:"离职流程预览"},on:{"update:openModal":function(t){e.isOpenModal=t},"update:open-modal":function(t){e.isOpenModal=t}}},[a("process-basic-details"),a("dismission-info-details",{attrs:{navName:"navigation"}}),a("delivery-oppinion-details",{attrs:{navName:"navigation"}}),a("dismission-talk-details",{attrs:{navName:"navigation"}}),a("staff-dismiss-handover-details",{attrs:{navName:"navigation"}}),a("clent-handover-info-details",{attrs:{navName:"navigation"}}),a("director-approval-details",{attrs:{navName:"navigation"}}),a("finance-approval-details",{attrs:{navName:"navigation"}}),a("ssc-approval-details",{attrs:{navName:"navigation"}}),a("dismiss-document-details",{attrs:{navName:"navigation"}}),a("div",{staticClass:"detailsContent"},[a("div",{staticClass:"title",attrs:{id:"navigation11"}},[a("span",[e._v("流程信息")]),a("div",{staticClass:"line"})]),a("process-info",{attrs:{isDetails:!0}})],1)],1)],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",staticStyle:{"margin-bottom":"10px"},attrs:{id:"nav11"}},[a("span",[e._v("流程信息")])])}],l=a("1da1"),i=a("ade3"),n=a("5530"),r=(a("96cf"),a("caad"),a("2532"),a("fb6a"),a("99af"),a("ff16")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("div",{staticClass:"process-basic-info"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"basic-info-left"},[e._v("工作主题")]),a("span",{staticClass:"basic-info-right"},[e._v(" "+e._s(e.basicFormData.taskName)+" ")])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"basic-info-left"},[e._v("流程名称")]),a("span",{staticClass:"basic-info-right"},[e._v(e._s(e.basicFormData.flowName))])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"basic-info-left"},[e._v("发起人")]),a("span",{staticClass:"basic-info-right"},[e._v(e._s(e.basicFormData.launchPeople))])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"basic-info-left"},[e._v("当前环节")]),a("span",{staticClass:"basic-info-right"},[e._v(e._s(e.basicFormData.nodeName))])])],1)],1)])])])},m=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav0"}},[a("span",[e._v("基本信息")])])}],d={name:"Entry",components:{},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{}},mounted:function(){},methods:{}},p=d,f=a("2877"),u=Object(f["a"])(p,c,m,!1,null,"d5f02854",null),v=u.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("zm-form",{ref:"deliveryInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"},on:{dissmissTypeChange:e.dissmissTypeChange}})],1)])])},y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav2"}},[a("span",[e._v("交付意见")])])}],h=a("c91b"),I=a("ed08"),g=a("3881"),D=a("4360"),O=D["a"].state.baseData.baseDataOptionList,C=function(e){return[{span:12,list:[{type:"select",label:"离职类型",prop:"deliverLeaveType",placeholder:"请选择",optionList:O.IT_QUIT,changeFn:"dissmissTypeChange",hidden:Object(g["b"])("leave.form.employ.deliverLeaveType"),disabled:Object(g["a"])("leave.form.employ.deliverLeaveType")}]},{span:12,list:[{type:"select",label:"离职原因",prop:"deliverLeaveCause",placeholder:"请选择",optionList:"IT_QUIT_001"===e.basicFormData.deliverLeaveType?O.IT_ZDQT:O.IT_TTXZ,hidden:Object(g["b"])("leave.form.employ.deliverLeaveCause"),disabled:Object(g["a"])("leave.form.employ.deliverLeaveCause")}]},{span:12,list:[{type:"radioGroup",label:"加入名单",prop:"deliverAddOrder",optionList:O.IT_ATTR,hidden:Object(g["b"])("leave.form.employ.deliverAddOrder"),disabled:Object(g["a"])("leave.form.employ.deliverAddOrder")}]},{span:12,list:[{type:"text",label:"加入名单原因",prop:"deliverAddOrderDesc",placeholder:"请输入",maxlength:50,hidden:"IT_ATTR_003"===e.basicFormData.deliverAddOrder,disabled:Object(g["a"])("leave.form.employ.deliverAddOrderDesc")}]},{span:24,list:[{type:"textarea",label:"交付意见",prop:"deliverDesc",placeholder:"请输入",resize:"none",showWordLimit:!0,maxlength:300,minRows:4,height:"100px",hidden:Object(g["b"])("leave.form.employ.deliverDesc"),disabled:Object(g["a"])("leave.form.employ.deliverDesc")}]}]},j={deliverLeaveType:{required:!0,trigger:"change",message:"请选择离职类型"},deliverLeaveCause:{required:!0,trigger:"change",message:"请选择离职原因"},deliverAddOrder:{required:!0,trigger:"change",message:"请选择加入名单型"},deliverAddOrderDesc:{required:!0,trigger:"blur",message:"请输入加入名单原因"},deliverDesc:{required:!0,trigger:"blur",message:"请输入交付意见"}},L={name:"DeliveryOppinion",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},formDisabled:{type:Boolean,default:function(){return!1}}},data:function(){return{rules:j}},computed:{formConfig:function(){return C(this)}},mounted:function(){},methods:{dissmissTypeChange:function(e){console.log(e),this.basicFormData.deliverLeaveCause=""}}},w=L,F=Object(f["a"])(w,b,y,!1,null,"0a82664d",null),S=F.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("zm-form",{ref:"dismissInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"},on:{openSelectP:e.openSelectP,openSelectOne:e.openSelectOne,openSelectTwo:e.openSelectTwo,violateMoneyBlur:e.violateMoneyBlur}})],1)]),a("cc-people-modal",{attrs:{isShowCcModal:e.isShowCcModal},on:{"update:isShowCcModal":function(t){e.isShowCcModal=t},"update:is-show-cc-modal":function(t){e.isShowCcModal=t},handleConfirm:e.handleConfirm}}),a("cc-people-modal",{attrs:{isShowCcModal:e.isShowCcModalOne,isQueryUser:!0,isQueryJfOrZp:!0,roleType:e.roleType},on:{"update:isShowCcModal":function(t){e.isShowCcModalOne=t},"update:is-show-cc-modal":function(t){e.isShowCcModalOne=t},handleConfirm:e.handleConfirmOne}}),a("cc-people-modal",{attrs:{isShowCcModal:e.isShowCcModalTwo,isQueryUser:!0},on:{"update:isShowCcModal":function(t){e.isShowCcModalTwo=t},"update:is-show-cc-modal":function(t){e.isShowCcModalTwo=t},handleConfirm:e.handleConfirmTwo}})],1)},T=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav1"}},[a("span",[e._v("离职人信息")])])}],_=a("61f7"),k=D["a"].state.baseData.baseDataOptionList,A=function(e){return[{span:12,list:[{type:"text",prop:"employName",label:"工号/姓名",placeholder:"请输入",searchBtn:{icon:"el-icon-search",changeFn:function(){e.openSelectP()}},focus:"openSelectP",hidden:Object(g["b"])("leave.form.employ.employNo"),disabled:Object(g["a"])("leave.form.employ.employNo")}]},{span:12,list:[{type:"text",prop:"orgCn",label:"所属组织",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.orgId1"),disabled:Object(g["a"])("leave.form.employ.orgId1")}]},{span:12,list:[{type:"text",label:"所属客户",prop:"clientCompanyIdCn",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientCompanyId"),disabled:Object(g["a"])("leave.form.employ.clientCompanyId")}]},{span:12,list:[{type:"text",label:"客户简称",prop:"clientSimpleName",placeholder:"自动带出",hidden:Object(g["b"])("leave.form.employ.clientSimpleName"),disabled:Object(g["a"])("leave.form.employ.clientSimpleName")}]},{span:12,list:[{type:"text",label:"所属客户二级分类",prop:"clientTwoLevelName",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientTwoLevelName")||Object(I["j"])(e.$parent.dismissionInfo.clientTwoLevelName),disabled:Object(g["a"])("leave.form.employ.clientTwoLevelName")}]},{span:12,list:[{type:"text",label:"所属客户合同",prop:"clientContractIdCn",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.contractId"),disabled:Object(g["a"])("leave.form.employ.contractId")}]},{span:12,list:[{type:"text",prop:"clientSaleJob",label:"结算岗位",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientPayJob"),disabled:Object(g["a"])("leave.form.employ.clientPayJob")}]},{span:12,list:[{type:"text",label:"结算职级",prop:"clientSaleLevel",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientPayLevel"),disabled:Object(g["a"])("leave.form.employ.clientPayLevel")}]},{span:12,list:[{type:"text",label:"客户方岗位",prop:"clientPosition",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientJob"),disabled:Object(g["a"])("leave.form.employ.clientJob")}]},{span:12,list:[{type:"date",label:"入职日期",prop:"contractStartTime",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.entryOfDate"),disabled:Object(g["a"])("leave.form.employ.entryOfDate")}]},{span:12,list:[{type:"text",label:"职场名称",prop:"clientEntryName",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientWork"),disabled:Object(g["a"])("leave.form.employ.clientWork")}]},{span:12,list:[{type:"text",label:"职场地址",prop:"clientEntryAddress",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientWorkAddress"),disabled:Object(g["a"])("leave.form.employ.clientWorkAddress")}]},{span:12,list:[{type:"text",label:"证件号码",prop:"employPidNo",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.employPidSno"),disabled:Object(g["a"])("leave.form.employ.employPidSno")}]},{span:12,list:[{type:"select",label:"性别",prop:"employSex",placeholder:"请输入",optionList:k.IT_SEXX,hidden:Object(g["b"])("leave.form.employ.employSex"),disabled:Object(g["a"])("leave.form.employ.employSex")}]},{span:12,list:[{type:"select",label:"员工类型",prop:"employType",placeholder:"请输入",optionList:k.IT_EMTY,hidden:Object(g["b"])("leave.form.employ.employType"),disabled:Object(g["a"])("leave.form.employ.employType")}]},{span:12,list:[{type:"select",label:"员工状态",prop:"employStatus",placeholder:"请选择",optionList:k.IT_EPLY,hidden:Object(g["b"])("leave.form.employ.employStatus"),disabled:Object(g["a"])("leave.form.employ.employStatus")}]},{span:12,list:[{type:"text",prop:"employMobile",maxlength:"11",label:"联系电话",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.employMobile"),disabled:Object(g["a"])("leave.form.employ.employMobile")}]},{span:12,list:[{type:"date",label:"预计离职日期",prop:"employPreLeaveDate",placeholder:"请选择",dateConfig:{disabledDate:function(t){return t.getTime()<new Date(e.basicFormData.contractStartTime).getTime()}},hidden:Object(g["b"])("leave.form.employ.employPreLeaveDate"),disabled:Object(g["a"])("leave.form.employ.employPreLeaveDate")}]},{span:12,list:[{type:"text",prop:"employDeliverUserIdCn",label:"对应交付",searchBtn:{icon:"el-icon-search",changeFn:function(){e.openSelectOne()}},focus:"openSelectOne",hidden:Object(g["b"])("leave.form.employ.employDeliverUserId"),disabled:Object(g["a"])("leave.form.employ.employDeliverUserId")}]},{span:12,list:[{type:"text",prop:"employViolateMoney",label:"违约金",afterTxt:"元",regex:"NUMBER_WITH_POINT",hidden:Object(g["b"])("leave.form.employ.employViolateMoney"),disabled:Object(g["a"])("leave.form.employ.employViolateMoney"),blurFn:"violateMoneyBlur"}]},{span:12,list:[{type:"text",prop:"clientJoinUserCn",label:"客户方交接人",searchBtn:{icon:"el-icon-search",changeFn:function(){e.openSelectTwo()}},focus:"openSelectTwo",hidden:Object(g["b"])("leave.form.employ.clientJoinUser"),disabled:Object(g["a"])("leave.form.employ.clientJoinUser")}]},{span:12,list:[{type:"text",prop:"employClientHandUser",maxlength:"11",label:"交接人电话",placeholder:"请输入",regex:"ONLY_NUMBER",hidden:Object(g["b"])("leave.form.employ.employClientHandUser"),disabled:Object(g["a"])("leave.form.employ.employClientHandUser")}]},{span:12,list:[{type:"explainSelect",label:"员工离职状态",prop:"leaveStatus",placeholder:"请选择",width:"92%",tipContent:"已离职的员工不需要再经过招聘和部门审批",optionList:k.IT_LZZT,hidden:Object(g["b"])("leave.form.employ.leaveStatus"),disabled:Object(g["a"])("leave.form.employ.leaveStatus")}]},{span:12,list:[{type:"select",label:"是否需要招聘访谈",prop:"recruitJoin",placeholder:"请选择",optionList:k.IT_LZFT,hidden:Object(g["b"])("leave.form.employ.recruitJoin"),disabled:Object(g["a"])("leave.form.employ.recruitJoin")}]}]},P={employName:{required:!0,trigger:"input",message:"请选择工号/姓名"},employMobile:[{required:!0,trigger:"blur",message:"请输入联系电话"},{validator:_["r"],trigger:"blur"}],employPreLeaveDate:{required:!0,trigger:"change",message:"请选择预计离职日期"},employDeliverUserIdCn:{required:!0,trigger:"input",message:"请选择对应交付"},employViolateMoney:[{required:!0,trigger:"blur",message:"请输入违约金"},{validator:_["x"],trigger:"blur"}],clientJoinUserCn:{required:!0,trigger:"input",message:"请选择客户方交接人"},employClientHandUser:[{required:!0,trigger:"blur",message:"请输入交接人电话"},{validator:_["r"],trigger:"blur"}],leaveStatus:{required:!0,trigger:"change",message:"请选择员工离职状态"},recruitJoin:{required:!0,trigger:"change",message:"请选择是否需要招聘访谈"}},x=a("470f"),E=a("dc27"),U=a("d14b"),M={name:"DismissionInfo",components:{zmForm:h["a"],ccPeopleModal:x["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},formDisabled:{type:Boolean,default:function(){return!1}}},data:function(){return{rules:P,isShowCcModal:!1,isShowCcModalOne:!1,isShowCcModalTwo:!1,roleType:"交付"}},computed:{formConfig:function(){return A(this)}},mounted:function(){},methods:{openSelectP:function(){this.isShowCcModal=!0},openSelectOne:function(){this.isShowCcModalOne=!0},openSelectTwo:function(){this.isShowCcModalTwo=!0},handleConfirm:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o,s,l,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),o={employId:e.value,flowName:"员工离职流程"},a.next=4,Object(U["n"])(o);case 4:if(s=a.sent,l=s.code,i=s.msg,"200"===l){a.next=10;break}return t.$message.warning(i),a.abrupt("return");case 10:t.basicFormData.employId=e.value,t.basicFormData.employName=e.text,t.basicFormData.clientCompanyIdCn=e.clientCompanyIdCn,t.basicFormData.clientContractIdCn=e.clientContractIdCn,t.basicFormData.clientSimpleName=e.clientSimpleName,t.basicFormData.clientTwoLevelName=e.clientTwoLevelName,t.basicFormData.clientSaleJob=e.clientSaleJob,t.basicFormData.clientSaleLevel=e.clientSaleLevel,t.basicFormData.clientPosition=e.clientPosition,t.basicFormData.contractStartTime=e.contractStartTime,t.basicFormData.clientEntryName=e.clientEntryNameCn,t.basicFormData.clientEntryAddress=e.clientEntryAddress,t.basicFormData.employPidNo=e.employPidNo,t.basicFormData.employSex=e.employSex,t.basicFormData.employType=e.employType,t.basicFormData.employDeliverUserId=e.companyDeliver,t.basicFormData.employDeliverUserIdCn=e.companyDeliverCn,t.basicFormData.employStatus=e.employState,t.basicFormData.employMobile=e.employPhone,t.basicFormData.employSocialCity=e.companyCity,t.basicFormData.orgId=e.orgId,t.basicFormData.orgCn=e.orgCn,t.getEmployInfo(t.basicFormData.employId);case 33:case"end":return a.stop()}}),a)})))()},handleConfirmOne:function(e){this.basicFormData.employDeliverUserId=e.userId,this.basicFormData.employDeliverUserIdCn=e.text},handleConfirmTwo:function(e){console.log("交接人",e),this.basicFormData.clientJoinUser=e.userId,this.basicFormData.clientJoinUserCn=e.text,this.basicFormData.employClientHandUser=e.userPhone},getEmployInfo:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(E["s"])({employId:e});case 2:o=a.sent,t.basicFormData.orgId=o.orgId;case 4:case"end":return a.stop()}}),a)})))()},violateMoneyBlur:function(e){}}},J=M,R=Object(f["a"])(J,N,T,!1,null,"01f58564",null),q=R.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("zm-form",{ref:"dissmissTalk",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"160px"},on:{dissmissTypeChange:e.dissmissTypeChange}})],1)])])},$=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav3"}},[a("span",[e._v("离职访谈信息")])])}],W=D["a"].state.baseData.baseDataOptionList,Z=864e5,B=function(e){return[{span:12,list:[{label:"预计离场日期",type:"date",prop:"talkPreOutsiteDate",placeholder:"请选择",dateConfig:{disabledDate:function(t){return t.getTime()<new Date(e.entryDate).getTime()}},hidden:Object(g["b"])("leave.form.employ.talkPreOutsiteDate"),disabled:Object(g["a"])("leave.form.employ.talkPreOutsiteDate")}]},{span:12,list:[{label:"预计离职日期",type:"date",prop:"talkPreLeaveDate",placeholder:"请选择",dateConfig:{disabledDate:function(t){return t.getTime()<new Date(e.basicFormData.talkPreOutsiteDate).getTime()-Z}},hidden:Object(g["b"])("leave.form.employ.talkPreLeaveDate"),disabled:Object(g["a"])("leave.form.employ.talkPreLeaveDate")}]},{span:12,list:[{type:"select",label:"离职类型",prop:"talkLeaveType",placeholder:"请选择",optionList:W.IT_QUIT,changeFn:"dissmissTypeChange",hidden:Object(g["b"])("leave.form.employ.talkLeaveType"),disabled:Object(g["a"])("leave.form.employ.talkLeaveType")}]},{span:12,list:[{type:"select",label:"离职原因",prop:"talkLeaveCause",placeholder:"请选择",optionList:"IT_QUIT_001"===e.basicFormData.talkLeaveType?W.IT_ZDQT:W.IT_TTXZ,hidden:Object(g["b"])("leave.form.employ.talkLeaveCause"),disabled:Object(g["a"])("leave.form.employ.talkLeaveCause")}]},{span:12,list:[{type:"text",prop:"talkLeaveDesc",label:"离职原因说明",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.talkLeaveDesc"),disabled:Object(g["a"])("leave.form.employ.talkLeaveDesc")}]},{span:5,list:[{type:"radioGroup",label:"是否有其他特殊情况",prop:"isSpecial",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.talkLeaveCause"),disabled:Object(g["a"])("leave.form.employ.talkLeaveCause")}]},{span:7,list:[{type:"text",label:"",labelWidth:"0px",prop:"specialDesc",hidden:"TRUE"!==e.basicFormData.isSpecial,disabled:Object(g["a"])("leave.form.employ.talkLeaveCause")}]},{span:12,list:[{label:"离职获悉日期",type:"dateTip",prop:"talkLeaveDate",width:"95%",placeholder:"请选择",dateConfig:{disabledDate:function(t){return t.getTime()<new Date(e.entryDate).getTime()}},tipContent:"主动离职填写员工申请日期，客户退回填写获悉员工被客户退回日期，自离填写获悉自离情况的日期",hidden:Object(g["b"])("leave.form.employ.talkLeaveDate"),disabled:Object(g["a"])("leave.form.employ.talkLeaveDate")}]},{span:12,list:[{type:"select",label:"访谈结果",prop:"talkResult",placeholder:"请选择",optionList:W.IT_FTJG,hidden:Object(g["b"])("leave.form.employ.talkResult"),disabled:Object(g["a"])("leave.form.employ.talkResult")}]},{span:24,list:[{type:"text",prop:"talkMessage",label:"访谈信息说明",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.talkMessage"),disabled:Object(g["a"])("leave.form.employ.talkMessage")}]}]},z={talkPreOutsiteDate:{required:!0,trigger:"change",message:"请选择预计离场日期"},talkPreLeaveDate:{required:!0,trigger:"change",message:"请选择预计离职日期"},talkLeaveType:{required:!0,trigger:"change",message:"请选择离职类型"},talkLeaveCause:{required:!0,trigger:"change",message:"请选择离职原因"},talkLeaveDesc:{required:!0,trigger:"blur",message:"请输入离职原因说明"},isSpecial:{required:!0,trigger:"change",message:"请选择是否有其他特殊情况"},specialDesc:{required:!0,trigger:"blur",message:"请输入殊情况说明"},talkLeaveDate:{required:!0,trigger:"change",message:"请选择离职获悉日期"},talkResult:{required:!0,trigger:"change",message:"请选择访谈结果"},talkMessage:{required:!0,trigger:"blur",message:"请输入访谈信息说明"}},G={name:"DismissionTalk",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},formDisabled:{type:Boolean,default:function(){return!1}},entryDate:{type:String,default:function(){return""}}},data:function(){return{rules:z}},computed:{formConfig:function(){return B(this)}},mounted:function(){},methods:{dissmissTypeChange:function(e){this.basicFormData.talkLeaveCause=""}}},V=G,Q=Object(f["a"])(V,H,$,!1,null,"9fa0f108",null),X=Q.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("zm-form",{ref:"firstForm",attrs:{formData:e.basicFormData,formConfig:e.dismissFormConfig,labelWidth:"140px"}})],1)]),a("div",{staticClass:"formContent"},[e._m(1),a("div",{staticClass:"formItem"},[a("zm-form",{ref:"secondForm",attrs:{formData:e.basicFormData,formConfig:e.handoverFormConfig,labelWidth:"140px"}})],1)])])},K=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav4"}},[a("span",[e._v("员工离职申请")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav5"}},[a("span",[e._v("员工离职交接")])])}],ee=D["a"].state.baseData.baseDataOptionList,te=function(e){return[{span:12,list:[{type:"text",prop:"employName",label:"申请人",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.reqUser"),disabled:Object(g["a"])("leave.form.employ.reqUser")}]},{span:12,list:[{type:"text",prop:"wapplyNo",label:"申请单号",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wApplyNo"),disabled:Object(g["a"])("leave.form.employ.wApplyNo")}]},{span:12,list:[{type:"text",label:"所属组织",prop:"orgCn",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.orgId2"),disabled:Object(g["a"])("leave.form.employ.orgId2")}]},{span:12,list:[{type:"date",label:"申请日期",prop:"wleaveApplyDate",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wLeaveApplyDate"),disabled:Object(g["a"])("leave.form.employ.wLeaveApplyDate")}]},{span:12,list:[{type:"date",prop:"wentryDate",label:"入职日期",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wEntryDate"),disabled:Object(g["a"])("leave.form.employ.wEntryDate")}]},{span:12,list:[{type:"date",label:"离职日期",prop:"wleaveDate",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wLeaveDate"),disabled:Object(g["a"])("leave.form.employ.wLeaveDate")}]},{span:12,list:[{type:"text",label:"所交接事项",prop:"wjoinItem",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wJoinItem"),disabled:Object(g["a"])("leave.form.employ.wJoinItem")}]},{span:12,list:[{type:"text",label:"所交接资料",prop:"wjoinDoc",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wJoinDoc"),disabled:Object(g["a"])("leave.form.employ.wJoinDoc")}]},{span:12,list:[{type:"select",label:"离职原因",prop:"wleaveCause",placeholder:"请输入",optionList:ee.IT_ZDQT,hidden:Object(g["b"])("leave.form.employ.wLeaveCause"),disabled:Object(g["a"])("leave.form.employ.wLeaveCause")}]},{span:12,list:[{type:"text",label:"离职说明",prop:"wleaveRemark",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wLeaveRemark"),disabled:Object(g["a"])("leave.form.employ.wLeaveRemark")}]},{span:12,list:[{type:"link",label:"附件",prop:"wleaveFile",placeholder:"请输入",style:"color: #333;  cursor: not-allowed",hidden:Object(g["b"])("leave.form.employ.wLeaveFiles"),disabled:Object(g["a"])("leave.form.employ.wLeaveFiles")}]}]},ae=function(e){return[{span:12,list:[{type:"text",prop:"clientJoinUserCn",label:"客户方交接人",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientConnectUser"),disabled:Object(g["a"])("leave.form.employ.clientConnectUser")}]},{span:12,list:[{type:"date",prop:"clientJoinDate",label:"交接日期",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientJoinDate"),disabled:Object(g["a"])("leave.form.employ.clientJoinDate")}]},{span:12,list:[{type:"text",label:"所交接事项",prop:"clientJoinItem",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientJoinItem"),disabled:Object(g["a"])("leave.form.employ.clientJoinItem")}]},{span:12,list:[{type:"text",label:"所交接资料",prop:"clientJoinDoc",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientJoinDoc"),disabled:Object(g["a"])("leave.form.employ.clientJoinDoc")}]},{span:24,list:[{type:"text",prop:"clientJoinRemark",label:"交接说明",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientJoinRemark"),disabled:Object(g["a"])("leave.form.employ.clientJoinRemark")}]}]},oe={name:"DismissionHandover",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{dismissFormConfig:function(){return te(this)},handoverFormConfig:function(){return ae(this)}},mounted:function(){},methods:{}},se=oe,le=Object(f["a"])(se,Y,K,!1,null,"ce0b69de",null),ie=le.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("zm-form",{ref:"clentDelivery",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"170px"},on:{clientIsAssetsChange:e.clientIsAssetsChange}})],1)])])},re=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav6"}},[a("span",[e._v("客户方交接信息")])])}],ce=D["a"].state.baseData.baseDataOptionList,me=function(e){return[{span:12,list:[{label:"客户结算截止日期",type:"date",prop:"clientBalanceDate",placeholder:"请选择",hidden:Object(g["b"])("leave.form.employ.clientBalanceDate"),disabled:Object(g["a"])("leave.form.employ.clientBalanceDate")}]},{span:12,list:[{type:"radioGroup",label:"客户方交接情况",prop:"clientHandDesc",optionList:ce.IT_KHJJ,hidden:Object(g["b"])("leave.form.employ.clientHandDesc"),disabled:Object(g["a"])("leave.form.employ.clientHandDesc")}]},{span:12,list:[{type:"radioGroup",label:"是否有客户方资产归还",prop:"clientIsAssets",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],changeFn:"clientIsAssetsChange",hidden:Object(g["b"])("leave.form.employ.clientIsAssets"),disabled:Object(g["a"])("leave.form.employ.clientIsAssets")}]},{span:12,list:[{type:"text",label:"归还客户方资产名称",prop:"clientAssetsName",placeholder:"请输入",maxlength:150,hidden:"TRUE"!==e.basicFormData.clientIsAssets,disabled:Object(g["a"])("leave.form.employ.clientAssetsName")}]},{span:12,list:[{type:"select",label:"归还资产是否完好",prop:"clientAssetsOk",placeholder:"请选择",optionList:ce.IT_ZCWH,hidden:"TRUE"!==e.basicFormData.clientIsAssets,disabled:Object(g["a"])("leave.form.employ.clientAssetsOk")}]},{span:12,list:[{type:"text",label:"其他说明",prop:"clientDesc",placeholder:"请输入",maxlength:50,hidden:Object(g["b"])("leave.form.employ.clientDesc"),disabled:Object(g["a"])("leave.form.employ.clientDesc")}]},{span:12,list:[{label:"预计办理离职手续日期",type:"date",prop:"clientPreLeaveFileDate",placeholder:"请选择",hidden:Object(g["b"])("leave.form.employ.clientPreLeaveFileDate"),disabled:Object(g["a"])("leave.form.employ.clientPreLeaveFileDate")}]},{span:12,list:[{label:"离职计薪截止日期",type:"date",prop:"clientMoneyEndDate",placeholder:"请选择",hidden:Object(g["b"])("leave.form.employ.clientMoneyEndDate"),disabled:Object(g["a"])("leave.form.employ.clientMoneyEndDate")}]},{span:12,list:[{type:"radioGroup",label:"客户方考勤是否已确认",prop:"clientIsWork",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.clientIsWork"),disabled:Object(g["a"])("leave.form.employ.clientIsWork")}]},{span:12,list:[{type:"radioGroup",label:"有无请假情况",prop:"clientIsLeave",optionList:[{value:"TRUE",text:"有"},{value:"FALSE",text:"无"}],hidden:Object(g["b"])("leave.form.employ.clientIsLeave"),disabled:Object(g["a"])("leave.form.employ.clientIsLeave")}]},{span:24,list:[{type:"textarea",label:"考勤情况说明",prop:"clientWorkDesc",placeholder:"请输入",resize:"none",maxlength:150,hidden:Object(g["b"])("leave.form.employ.clientIsWork"),disabled:Object(g["a"])("leave.form.employ.clientIsWork")}]}]},de={},pe={name:"DeliveryOppinion",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},formDisabled:{type:Boolean,default:function(){return!1}}},data:function(){return{rules:de}},computed:{formConfig:function(){return me(this)}},mounted:function(){},methods:{clientIsAssetsChange:function(e){this.basicFormData.clientAssetsName="",this.basicFormData.clientAssetsOk=""}}},fe=pe,ue=Object(f["a"])(fe,ne,re,!1,null,"142f833c",null),ve=ue.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("zm-form",{ref:"directorApproval",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"}})],1)])])},ye=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav7"}},[a("span",[e._v("总监审批")])])}],he=(D["a"].state.baseData.baseDataOptionList,function(e){return[{span:12,list:[{type:"radioGroup",label:"是否需要总监审批",prop:"isLeaderAudit",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.isLeaderAudit"),disabled:Object(g["a"])("leave.form.employ.isLeaderAudit")}]}]}),Ie={isLeaderAudit:{required:!0,trigger:"change",message:"请选择是否需要总监审批"}},ge={name:"DirectorApproval",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:Ie}},computed:{formConfig:function(){return he(this)}},mounted:function(){},methods:{}},De=ge,Oe=Object(f["a"])(De,be,ye,!1,null,"7c8123c6",null),Ce=Oe.exports,je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("zm-form",{ref:"financeApproval",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"150px"}})],1)])])},Le=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav8"}},[a("span",[e._v("财务审批")])])}],we=(D["a"].state.baseData.baseDataOptionList,function(e){return[{span:12,list:[{type:"radioGroup",label:"备用金是否已结清",prop:"finaIsImprest",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.finaIsImprest"),disabled:Object(g["a"])("leave.form.employ.finaIsImprest")}]},{span:12,list:[{type:"radioGroup",label:"个人借款是否已结清",prop:"finaIsLoan",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.finaIsLoan"),disabled:Object(g["a"])("leave.form.employ.finaIsLoan")}]},{span:12,list:[{type:"radioGroup",label:"发票是否已交接",prop:"finaIsInvoice",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.finaIsInvoice"),disabled:Object(g["a"])("leave.form.employ.finaIsInvoice")}]},{span:12,list:[{type:"radioGroup",label:"应收账款是否已交接",prop:"finaIsAnswerMoney",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.finaIsAnswerMoney"),disabled:Object(g["a"])("leave.form.employ.finaIsAnswerMoney")}]},{span:24,list:[{type:"text",label:"其他说明",prop:"finaDesc",hidden:Object(g["b"])("leave.form.employ.finaDesc"),disabled:Object(g["a"])("leave.form.employ.finaDesc")}]}]}),Fe={finaIsImprest:{required:!0,trigger:"change",message:"请选择备用金是否已结清"},finaIsLoan:{required:!0,trigger:"change",message:"请选择个人借款是否已结清"},finaIsInvoice:{required:!0,trigger:"change",message:"请选择发票是否已交接"},finaIsAnswerMoney:{required:!0,trigger:"change",message:"请选择应收账款是否已交接"}},Se={name:"FinanceApproval",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:Fe}},computed:{formConfig:function(){return we(this)}},mounted:function(){},methods:{}},Ne=Se,Te=Object(f["a"])(Ne,je,Le,!1,null,"18e96594",null),_e=Te.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("zm-form",{ref:"sscApproval",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"170px"},on:{sscIsAssetsChange:e.sscIsAssetsChange}})],1)])])},Ae=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav9"}},[a("span",[e._v("事业部SSC行政")])])}],Pe=D["a"].state.baseData.baseDataOptionList,xe=function(e){return[{span:12,list:[{type:"radioGroup",label:"是否有公司资产需归还",prop:"sscIsAssets",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],changeFn:"sscIsAssetsChange",hidden:Object(g["b"])("leave.form.employ.sscIsAssets"),disabled:Object(g["a"])("leave.form.employ.sscIsAssets")}]},{span:12,list:[{type:"text",label:"归还公司资产名称",prop:"sscAssetsName",hidden:"TRUE"!==e.basicFormData.sscIsAssets,disabled:Object(g["a"])("leave.form.employ.sscAssetsName")}]},{span:12,list:[{type:"select",label:"归还固定资产是否完好",prop:"sscAssetsOk",placeholder:"请选择",optionList:Pe.IT_ZCWH,hidden:"TRUE"!==e.basicFormData.sscIsAssets,disabled:Object(g["a"])("leave.form.employ.sscAssetsOk")}]},{span:12,list:[{type:"select",label:"信息系统账号处理情况",prop:"sscInformation",placeholder:"请选择",optionList:Pe.IT_ZHCL,hidden:Object(g["b"])("leave.form.employ.sscInformation"),disabled:Object(g["a"])("leave.form.employ.sscInformation")}]},{span:12,list:[{type:"date",label:"离职日期",prop:"confirmLeaveDate",placeholder:"请选择",hidden:Object(g["b"])("leave.form.employ.confirmLeaveDate"),disabled:Object(g["a"])("leave.form.employ.confirmLeaveDate")}]},{span:12,list:[{type:"select",label:"离职手续办理方式",prop:"sscLeaveType",placeholder:"请选择",optionList:Pe.IT_LISX,hidden:Object(g["b"])("leave.form.employ.sscLeaveType"),disabled:Object(g["a"])("leave.form.employ.sscLeaveType")}]},{span:12,list:[{type:"text",label:"委托说明",prop:"sscEntrustDesc",hidden:"IT_LISX_002"!==e.basicFormData.sscLeaveType,disabled:Object(g["a"])("leave.form.employ.sscEntrustDesc")}]},{span:24,list:[{type:"text",label:"其他说明",prop:"sscOtherDesc",hidden:Object(g["b"])("leave.form.employ.sscOtherDesc"),disabled:Object(g["a"])("leave.form.employ.sscOtherDesc")}]}]},Ee={sscIsAssets:{required:!0,trigger:"change",message:"请选择是否有公司资产需归还"},sscAssetsName:{required:!0,trigger:"blur",message:"请输入归还公司资产名称"},sscAssetsOk:{required:!0,trigger:"change",message:"请选择归还固定资产是否完好"},sscInformation:{required:!0,trigger:"change",message:"请选择信息系统账号处理情况"},sscLeaveType:{required:!0,trigger:"change",message:"请选择离职手续办理方式"},confirmLeaveDate:{required:!0,trigger:"change",message:"请选择离职日期"}},Ue={name:"FinanceApproval",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:Ee}},computed:{formConfig:function(){return xe(this)}},mounted:function(){},methods:{sscIsAssetsChange:function(e){e&&(this.basicFormData.sscAssetsName=null,this.basicFormData.sscAssetsOk=null)}}},Me=Ue,Je=Object(f["a"])(Me,ke,Ae,!1,null,"7eae2086",null),Re=Je.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-dismissupload"},[a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("zm-form",{ref:"firstForm",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"170px"}}),"TRUE"==e.basicFormData.hrIsLeaveFile?a("el-form",{ref:"secondForm",staticClass:"affix-upload-wrap",attrs:{rules:e.rules,labelWidth:"170px"}},[a("el-form-item",{staticClass:"leavefile",staticStyle:{color:"#333"},attrs:{label:"离职证明文件",prop:"leaveFiles"}},[a("el-upload",{attrs:{"list-type":"picture-card",action:e.fileLoadUrl,name:"files",limit:1,accept:".pdf,.jpg,.jpeg,.png","file-list":e.fileList,"on-success":e.uploadFileSuccess,"on-error":e.uploadFileError,"on-preview":e.handlePreview},scopedSlots:e._u([{key:"file",fn:function(t){var o=t.file;return a("div",{},[e.typeIsImg?e._e():a("span",[e._v(e._s(o.name))]),e.typeIsImg?a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:o.url,alt:""}}):e._e(),a("span",{staticClass:"el-upload-list__item-actions"},[e.typeIsImg?a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePreview(o)}}},[a("i",{staticClass:"el-icon-zoom-in"})]):e._e(),e.typeIsImg?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleDownload(o)}}},[a("i",{staticClass:"el-icon-download"})]),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(o)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}],null,!1,1289755824)},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1):e._e()],1)])])},He=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav10"}},[a("span",[e._v("离职证明")])])}],$e=(a("b0c0"),D["a"].state.baseData.baseDataOptionList,function(e){return[{span:12,list:[{type:"radioGroup",label:"是否已开具离职证明",prop:"hrIsLeaveFile",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.hrIsLeaveFile"),disabled:Object(g["a"])("leave.form.employ.hrIsLeaveFile")}]},{span:12,list:[{type:"text",label:"未开离职证明原因",prop:"unLeaveCertifyCause",hidden:"TRUE"===e.basicFormData.hrIsLeaveFile||null===e.basicFormData.hrIsLeaveFile,disabled:Object(g["a"])("leave.form.employ.unLeaveCertifyCause")}]},{span:12,list:[{type:"date",label:"离职证明开具日期",prop:"hrLeaveFileDate",hidden:"TRUE"!==e.basicFormData.hrIsLeaveFile,disabled:Object(g["a"])("leave.form.employ.hrLeaveFileDate")}]}]}),We={hrIsLeaveFile:{required:!0,trigger:"change",message:"请选择是否已开具离职证明"},hrLeaveFileDate:{required:!0,trigger:"change",message:"请选择离职证明开具日期"},leaveFiles:{required:!0,trigger:"change",message:"请上传离职证明文件"}},Ze={name:"DismissDocument",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:We,fileLoadUrl:"https://www.tobowork.com/api/tobosoft-toms/strato/cloud/file/contract/toms-1255586777/upload",fileList:[],dialogVisible:!1,dialogImageUrl:"",disabled:!1,typeIsImg:!0}},computed:{formConfig:function(){return $e(this)}},mounted:function(){},methods:{handleRemove:function(e){this.basicFormData.leaveFiles=null,this.fileList=[]},handlePreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){console.log(e);var t=e.response[0].fileId,a="https://www.tobowork.com//api/tobosoft-toms/cos/file/download/"+t,o=document.createElement("a");o.setAttribute("download",e.name),o.href=a,document.body.appendChild(o),o.click(),o.remove()},uploadFileSuccess:function(e,t){".pdf"===e[0].fileSuffix?this.typeIsImg=!1:this.typeIsImg=!0,this.$message.success(t.name+"上传成功"),this.basicFormData.leaveFiles=e[0].fileId},uploadFileError:function(e,t){this.$message.error(t.name+"上传失败")}}},Be=Ze,ze=(a("e675"),Object(f["a"])(Be,qe,He,!1,null,"e1f80918",null)),Ge=ze.exports,Ve=a("df86"),Qe=a("0df0"),Xe=a("df8c"),Ye=a("f18c"),Ke=a("107f"),et=a("49e9"),tt=a("d180"),at=a("dc7b"),ot=a("06ef"),st=a("e5a1"),lt=a("bd98"),it=a("f6f0"),nt=a("ac83"),rt=a("2f62"),ct=function(e){return[{name:"基本信息",navId:0,hidden:!0},{name:"离职人信息",navId:1,hidden:e.isShowDismissInfo},{name:"交付意见",navId:2,hidden:e.isShowDlvOppinion},{name:"离职访谈信息",navId:3,hidden:"IT_LZZT_001"==e.dismissionInfo.leaveStatus&&"IT_LZFT_001"==e.dismissionInfo.recruitJoin&&("020"==e.currentNode||"030"==e.currentNode||"035"==e.currentNode||"040"==e.currentNode||"050"==e.currentNode||"060"==e.currentNode||"080"==e.currentNode||"090"==e.currentNode)},{name:"员工离职申请",navId:4,hidden:"IT_LZZT_001"==e.dismissionInfo.leaveStatus&&("030"==e.currentNode||"035"==e.currentNode||"040"==e.currentNode||"050"==e.currentNode||"060"==e.currentNode||"080"==e.currentNode||"090"==e.currentNode)},{name:"员工离职交接",navId:5,hidden:"IT_LZZT_001"==e.dismissionInfo.leaveStatus&&("030"==e.currentNode||"035"==e.currentNode||"040"==e.currentNode||"050"==e.currentNode||"060"==e.currentNode||"080"==e.currentNode||"090"==e.currentNode)},{name:"客户方交接信息",navId:6,hidden:"IT_LZZT_001"==e.dismissionInfo.leaveStatus&&("040"==e.currentNode||"050"==e.currentNode||"060"==e.currentNode||"080"==e.currentNode||"090"==e.currentNode)},{name:"总监审批",navId:7,hidden:"IT_LZZT_001"==e.dismissionInfo.leaveStatus&&("040"==e.currentNode||"050"==e.currentNode||"060"==e.currentNode||"080"==e.currentNode||"090"==e.currentNode)},{name:"事业部SSC行政",navId:9,hidden:"080"===e.currentNode||"090"==e.currentNode},{name:"离职证明",navId:10,hidden:e.isShowDocument},{name:"流程信息",navId:11,hidden:e.isShowProcessInfoComputed}]},mt=["基本信息","离职人信息","交付意见","离职访谈信息","员工离职申请","员工离职交接","客户方交接信息","总监审批","财务审批","事业部SSC行政","离职证明","流程信息"],dt={dismissInfoPmsCode:["leave.form.employ.employNo","leave.form.employ.orgId1","leave.form.employ.clientCompanyId","leave.form.employ.contractId","leave.form.employ.clientPayJob","leave.form.employ.clientPayLevel","leave.form.employ.clientJob","leave.form.employ.entryOfDate","leave.form.employ.clientWork","leave.form.employ.clientWorkAddress","leave.form.employ.employPidSno","leave.form.employ.employSex","leave.form.employ.employType","leave.form.employ.employStatus","leave.form.employ.employMobile","leave.form.employ.employPreLeaveDate","leave.form.employ.employDeliverUserId","leave.form.employ.employViolateMoney","leave.form.employ.clientJoinUser","leave.form.employ.employClientHandUser"],deliveryPmsCode:["leave.form.employ.deliverLeaveType","leave.form.employ.deliverLeaveCause","leave.form.employ.deliverAddOrder","leave.form.employ.deliverAddOrderDesc","leave.form.employ.deliverDesc"],talkPmsCode:["leave.form.employ.talkPreOutsiteDate","leave.form.employ.talkPreLeaveDate","leave.form.employ.talkLeaveType","leave.form.employ.talkLeaveCause","leave.form.employ.talkLeaveDesc","leave.form.employ.isSpecial","leave.form.employ.talkLeaveDate","leave.form.employ.talkResult","leave.form.employ.talkMessage"],handoverPmsCode:["leave.form.employ.reqUser","leave.form.employ.wApplyNo","leave.form.employ.orgId2","leave.form.employ.wLeaveApplyDate","leave.form.employ.wEntryDate","leave.form.employ.wLeaveDate","leave.form.employ.wJoinItem","leave.form.employ.wJoinDoc","leave.form.employ.wLeaveCause","leave.form.employ.wLeaveRemark","leave.form.employ.wLeaveFiles","leave.form.employ.clientConnectUser","leave.form.employ.clientJoinDate","leave.form.employ.clientJoinItem","leave.form.employ.clientJoinDoc","leave.form.employ.clientJoinRemark"],clientHandoverPmsCode:["leave.form.employ.clientBalanceDate","leave.form.employ.clientHandDesc","leave.form.employ.clientIsAssets","leave.form.employ.clientAssetsName","leave.form.employ.clientAssetsOk","leave.form.employ.clientDesc","leave.form.employ.clientPreLeaveFileDate","leave.form.employ.clientMoneyEndDate","leave.form.employ.clientIsWork","leave.form.employ.clientIsLeave","leave.form.employ.clientWorkDesc"],financePmsCode:["leave.form.employ.finaIsImprest","leave.form.employ.finaIsLoan","leave.form.employ.finaIsInvoice","leave.form.employ.finaIsAnswerMoney","leave.form.employ.finaDesc"],sscPmsCode:["leave.form.employ.sscIsAssets","leave.form.employ.sscAssetsName","leave.form.employ.sscAssetsOk","leave.form.employ.sscInformation","leave.form.employ.sscLeaveType","leave.form.employ.sscEntrustDesc","leave.form.employ.sscOtherDesc"],documentPmsCode:["leave.form.employ.hrIsLeaveFile","leave.form.employ.hrLeaveFileDate","leave.form.employ.leaveFiles"]},pt={name:"Dismission",components:{navBar:r["a"],basicForm:v,deliveryForm:S,dismissionForm:q,dismissionTalkForm:X,dismissHandoverForm:ie,clientDeliveryForm:ve,directorApprovalForm:Ce,financeApprovalForm:_e,sscApprovalForm:Re,dismissDocumentForm:Ge,processBasicDetails:Qe["a"],dismissionInfoDetails:Xe["a"],deliveryOppinionDetails:Ye["a"],dismissionTalkDetails:Ke["a"],staffDismissHandoverDetails:et["a"],clentHandoverInfoDetails:tt["a"],directorApprovalDetails:at["a"],financeApprovalDetails:ot["a"],sscApprovalDetails:st["a"],dismissDocumentDetails:lt["a"],previewModal:Ve["a"],operationBtn:it["a"],processInfo:nt["a"]},data:function(){var e;return Object(n["a"])(Object(n["a"])({processListItemInfo:{},navListOfDetails:mt},dt),{},(e={isShowDismissInfo:!0,isShowDlvOppinion:!0,isShowdismissTalk:!0,isShowHandover:!0,isShowClientHandover:!0,isShowdirector:!0,isShowFinance:!0,isShowSsc:!0,isShowDocument:!0,isShowProcessInfo:!0,isBackNode:!1,moduleName:"leave",navFlag:0,basicFormData:{},onJobHistoryFormData:[],isShowImgModal:!1,processImgSrc:a("b2e0"),isShowCcModal:!1,isShowSubmitModal:!1,currentNode:"010",currentNodeName:"",basicProcessData:{taskName:"",flowName:"",launchPeople:"",nodeName:""}},Object(i["a"])(e,"onJobHistoryFormData",[]),Object(i["a"])(e,"aprvData",{auditType:"IT_RWSP_001",breakType:"",auditDesc:"",breakDesc:"",backType:"",backNodeId:""}),Object(i["a"])(e,"isShowImgModal",!1),Object(i["a"])(e,"entryProcessImage",a("b2e0")),Object(i["a"])(e,"isOpenModal",!1),Object(i["a"])(e,"taskFlowConfig",{}),Object(i["a"])(e,"taskNodeInstance",{}),Object(i["a"])(e,"taskInstance",{}),Object(i["a"])(e,"currenFlowInfo",{}),Object(i["a"])(e,"componentRefs",[{isHasSon:!0,ref:"dismissInfo"},{isHasSon:!0,ref:"deliveryInfo"},{isHasSon:!0,ref:"dissmissTalk"},{isHasSon:!0,ref:"clentDelivery"},{isHasSon:!0,ref:"directorApproval"},{isHasSon:!0,ref:"sscApproval"},{isHasSon:!0,ref:"dismissDocument",list:["firstForm","secondForm"]}]),Object(i["a"])(e,"dismissionInfo",{employViolateMoney:0,employDeliverUserId:"",clientJoinUser:"",clientCompanyId:"",clientSimpleName:"",clientTwoLevelName:"",clientContractId:"",clientSaleJob:"",clientSaleLevel:"",clientPosition:"",contractStartTime:"",clientEntryName:"",clientEntryAddress:"",employPidNo:"",employSex:"",employType:"",clientJoinUserCn:"",employDeliverUserIdCn:"",employName:"",employStatus:"",leaveStatus:"",recruitJoin:"IT_LZFT_001",employMobile:"",employClientHandUser:""}),Object(i["a"])(e,"deliveryOppinion",{deliverAddOrder:"IT_ATTR_003",deliverLeaveCause:""}),Object(i["a"])(e,"dissmissTalk",{talkLeaveCause:null,talkPreOutsiteDate:null,talkPreLeaveDate:null,talkLeaveType:null,talkLeaveDesc:null,isSpecial:null,specialDesc:null,talkLeaveDate:null,talkResult:null,talkMessage:null}),Object(i["a"])(e,"employDismissApply",{employId:"",wapplyNo:"",orgId:"",wleaveApplyDate:"",wentryDate:"",wleaveDate:"",wjoinItem:"",wjoinDoc:"",wleaveType:"",wleaveRemark:"",wleaveFiles:""}),Object(i["a"])(e,"clentDelivery",{clientBalanceDate:null,clientHandDesc:null,clientIsAssets:null,clientAssetsName:null,clientAssetsOk:null,clientPreLeaveFileDate:null,clientMoneyEndDate:null,clientIsWork:null,clientIsLeave:null,clientWorkDesc:null}),Object(i["a"])(e,"directorApproval",{isLeaderAudit:null}),Object(i["a"])(e,"sscApproval",{sscIsAssets:null,sscAssetsName:null,sscAssetsOk:null,sscInformation:null,sscLeaveType:null,confirmLeaveDate:null}),Object(i["a"])(e,"dismissDocument",{leaveFiles:null,hrIsLeaveFile:null,hrLeaveFileDate:null,unLeaveCertifyCause:null}),Object(i["a"])(e,"isDraftNode",!1),e))},watch:{"currenFlowInfo.taskFlowNodeConfig.nodeName":{handler:function(e){e&&this.$route.query.taskObj&&(e.includes("010")?this.$set(this.aprvData,"auditType","IT_RWSP_005"):this.$set(this.aprvData,"auditType","IT_RWSP_001"))},immediate:!0},"processListItemInfo.runStatus":{handler:function(e){console.log(e,"草稿？"),"IT_RUNS_001"===e?(this.isDraftNode=!0,console.log(this.isBackNode,"是true还是false")):this.isDraftNode=!1}},currentNodeName:{handler:function(e){this.currentNode=e.slice(0,3)}},hasFormPmsCodeList:{deep:!0,handler:function(e){e.length>0&&(this.isShowDismissInfo=Object(g["c"])(this.dismissInfoPmsCode),this.isShowDlvOppinion=Object(g["c"])(this.deliveryPmsCode),this.isShowdismissTalk=Object(g["c"])(this.talkPmsCode),this.isShowHandover=Object(g["c"])(this.handoverPmsCode),this.isShowClientHandover=Object(g["c"])(this.clientHandoverPmsCode),this.isShowdirector=Object(g["c"])(["leave.form.employ.isLeaderAudit"]),this.isShowFinance=Object(g["c"])(this.financePmsCode),this.isShowSsc=Object(g["c"])(this.sscPmsCode),this.isShowDocument=Object(g["c"])(this.documentPmsCode),this.isShowProcessInfo=this.hasFormPmsCodeList.includes("leave.form.flow.recordInfo"))}}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(rt["e"])("baseData",["baseDataOptionList"])),Object(rt["e"])("user",["userInfo"])),Object(rt["e"])("processPermission",["buttonPermissionList","formPermissionList","hasFormPmsCodeList","hasBtnPmsCodeList"])),Object(rt["e"])("entryCfmSalary",["isInitProcess","isEditProcess"])),{},{isShowProcessInfoComputed:function(){return!!this.isShowProcessInfo&&(!this.isDraftNode&&!this.$route.query.objStr)},navList:function(){return ct(this)},processFormParams:function(){var e=Object.assign({},this.dismissionInfo,this.deliveryOppinion);return e},prepareCmtParams:function(){console.log("提交数据的对象：",this.dismissionInfo);var e={city:this.dismissionInfo.employSocialCity,orgId:this.dismissionInfo.orgId};return console.log("param",e),e}}),inject:["reload"],beforeRouteEnter:function(e,t,a){e.query.taskObj?a((function(e){e.isEditProcess&&(e.getProcessDetails(),e.taskInstance.creatorId=e.userInfo.userId,e.CHANGE_EDIT_PROCESS_STATUS(!1))})):a((function(e){e.isInitProcess&&(e.reload(),console.log(e.reload,"this.reload触发了"),e.CHANGE_PROCESS_STATUS(!1))}))},mounted:function(){this.getProcessInitInfo(),this.getProcessDetails()},methods:Object(n["a"])(Object(n["a"])({},Object(rt["d"])("entryCfmSalary",["CHANGE_PROCESS_STATUS","CHANGE_EDIT_PROCESS_STATUS"])),{},{customValidate:function(){var e=!0;return e=!("090"===this.currentNode&&"TRUE"===this.dismissDocument.hrIsLeaveFile&&!this.dismissDocument.leaveFiles),e},getProcessInitInfo:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,o,s,l,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("init"),!e.$route.query.objStr){t.next=16;break}return a=JSON.parse(decodeURIComponent(e.$route.query.objStr)),o=a.flowName,s=a.version,t.next=6,Object(U["i"])({flowName:o,version:String(s)});case 6:l=t.sent,i=l.taskFlowConfig,n=l.taskFlowNodeConfig,e.taskFlowConfig=i,e.taskNodeInstance.currentNode=n.nodeId,e.basicProcessData.launchPeople="[".concat(e.userInfo.loginName,"] ").concat(e.userInfo.userName),e.basicProcessData.flowName=i.flowName||"",e.basicProcessData.nodeName=n.nodeName,e.$store.dispatch("processPermission/getProcessPermissionList",n.nodeId),e.taskInstance.creatorId=e.userInfo.userId;case 16:case"end":return t.stop()}}),t)})))()},getProcessDetails:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,o,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("detail"),a=e.$route.query.taskObj,!a){t.next=35;break}return o=JSON.parse(decodeURIComponent(a)),e.taskFlowConfig.flowName=o.flowName,e.taskFlowConfig.version=o.version,console.log(o,"列表信息"),t.next=9,Object(U["p"])({taskInstanceId:o.taskInstanceId,taskFlowConfig:{flowName:o.flowName,version:o.version},taskNodeInstance:{nodeInstanceId:o.nodeInstanceId}});case 9:s=t.sent,e.currenFlowInfo=s,e.processListItemInfo=o,s.taskNodeInstance.upNode,e.isBackNode=!0,e.taskInstance=s.taskInstance,e.taskNodeInstance=s.taskNodeInstance,e.basicProcessData.launchPeople="[".concat(s.creatorNo,"] ").concat(s.taskInstance.creatorName),e.basicProcessData.flowName=s.taskFlowConfig.flowName||"",e.basicProcessData.nodeName=s.taskFlowNodeConfig.nodeName,e.basicProcessData.taskName=s.taskInstance.taskName,e.currentNodeName=s.taskFlowNodeConfig.nodeName,e.$store.dispatch("processPermission/getProcessPermissionList",s.taskFlowNodeConfig.nodeId),l=s.relatedObject||{},e.dismissionInfo=l,e.deliveryOppinion=l,e.dissmissTalk=l,e.employDismissApply=l,e.clentDelivery=l,e.directorApproval=l,e.financeApproval=l,e.sscApproval=l,e.dismissDocument=l,e.getEmployInfo(l.employId),l.wleaveFilesJson&&(e.employDismissApply.wleaveFile=JSON.parse(l.wleaveFilesJson).originName),e.dismissionInfo.recruitJoin=l.recruitJoin?l.recruitJoin:"IT_LZFT_001",e.dismissionInfo.leaveStatus=l.leaveStatus?l.leaveStatus:"IT_LZZT_001";case 35:case"end":return t.stop()}}),t)})))()},closePage:function(){this.$route;this.$confirm("内容未保存, 是否直接关闭?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){}))},previewPage:function(){this.isOpenModal=!0},getEmployInfo:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,Object(E["s"])({employId:e});case 4:o=a.sent,console.log(" 员工信息",o),t.$set(t.dismissionInfo,"clientCompanyIdCn",o.clientCompanyIdCn),t.$set(t.dismissionInfo,"employSex",o.employSex),t.dismissionInfo.employName="[".concat(o.employNo,"]").concat(o.employName),t.employDismissApply.employName="[".concat(o.employNo,"]").concat(o.employName),t.employDismissApply.orgCn=o.orgCn,t.employDismissApply.orgId=o.orgId,t.dismissionInfo.clientCompanyIdCn=o.clientCompanyIdCn,t.dismissionInfo.clientSimpleName=o.clientSimpleName,t.dismissionInfo.clientContractIdCn=o.clientContractIdCn,t.dismissionInfo.clientSaleJob=o.clientSaleJob,t.dismissionInfo.clientSaleLevel=o.clientSaleLevel,t.dismissionInfo.clientPosition=o.clientPosition,t.dismissionInfo.contractStartTime=o.contractStartTime,t.dismissionInfo.clientEntryName=o.clientEntryNameCn,t.dismissionInfo.clientEntryAddress=o.clientEntryAddress,t.dismissionInfo.employPidNo=o.employPidNo,t.dismissionInfo.employType=o.employType,t.dismissionInfo.employSocialCity=o.employSocialCity,t.dismissionInfo.orgCn=o.orgCn,t.dismissionInfo.orgId=o.orgId;case 26:case"end":return a.stop()}}),a)})))()},onUpload:function(){},navChange:function(e){this.navFlag=e;var t=document.querySelector("#nav".concat(e));t&&t.scrollIntoView()}})},ft=pt,ut=Object(f["a"])(ft,o,s,!1,null,"359c3ff4",null);t["default"]=ut.exports},e675:function(e,t,a){"use strict";a("f0ba")},f0ba:function(e,t,a){}}]);