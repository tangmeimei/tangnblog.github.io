(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6566cb0a"],{"470f":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ccContainer"},[r("el-dialog",e._b({attrs:{title:"选择人员",visible:e.isShowCcModal,width:"25%","destroy-on-close":!0,"close-on-click-modal":!1},on:{close:e.handleCancel}},"el-dialog",e.$attrs,!1),[r("el-form",{ref:"ruleForm",attrs:{model:e.employForm,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"employId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",placeholder:"请输入工号或姓名","remote-method":e.remoteMethod,loading:e.loading},on:{change:e.handleSelectChange,keyup:e.handleInput},model:{value:e.employForm.employId,callback:function(t){e.$set(e.employForm,"employId",t)},expression:"employForm.employId"}},e._l(e.optionList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"所属组织"}},[r("el-input",{attrs:{placeholder:"请选择",disabled:""},model:{value:e.currentOrg,callback:function(t){e.currentOrg=t},expression:"currentOrg"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.handleCancel}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)],1)},n=[],a=r("1da1"),i=r("5530"),c=(r("96cf"),r("d81d"),r("99af"),r("159b"),r("a15b"),r("a417")),l=r("ed08"),u=r("dc27"),s=r("2f62"),p={name:"CcPeopleModal",props:{isShowCcModal:{type:Boolean,default:!1},customEventName:{type:String,default:"handleConfirm"},isQueryUser:{type:Boolean,default:!1},isLeave:{type:Boolean,default:!1},isQueryJfOrZp:{type:Boolean,default:!1},roleType:{type:String,default:""},employType:{type:String,default:""}},data:function(){return{loading:!1,optionList:[],rules:{employId:{message:"请输入员工姓名",required:!0,trriger:"change"}},employForm:{employId:""},currentOrg:"",selectedItemData:{},oneDimensionArr:[]}},computed:Object(i["a"])({},Object(s["e"])("baseData",["orgTreeData"])),watch:{},mounted:function(){this.registerCloseEvent(),this.getOrgTreeList()},methods:{handleInput:function(e){},handleSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){t&&(e.$emit(e.customEventName,e.selectedItemData),e.$emit("update:isShowCcModal",!1))}))},handleCancel:function(){this.$refs.ruleForm.resetFields(),this.$refs.ruleForm.clearValidate(),this.$emit("update:isShowCcModal",!1)},remoteMethod:function(e){if(this.loading=!0,""!==e)if(e=encodeURI(e),this.isQueryUser)if(this.isQueryJfOrZp){var t={keyword:e,roleType:this.roleType};this.queryJfOrZp(t)}else{var r={keyword:e};this.queryUser(r)}else{var o={keyWord:e,isLeave:this.isLeave,employType:this.employType||""};this.queryEmployee(o)}else this.optionList=[]},queryJfOrZp:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(u["Z"])(e);case 2:o=r.sent,t.loading=!1,t.optionList=Array.isArray(o)&&o.map((function(e){var t={};return t=Object.assign(t,e,e.userInfo),Object(i["a"])({text:"[".concat(e.userInfo.loginName,"] ").concat(e.userInfo.userName," | ").concat(e.orgName),value:e.userInfo.userId},t)}));case 5:case"end":return r.stop()}}),r)})))()},queryUser:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(c["L"])(e);case 2:o=r.sent,t.loading=!1,t.optionList=Array.isArray(o)&&o.map((function(e){var t={};return t=Object.assign(t,e,e.userInfo),Object(i["a"])({text:"[".concat(e.userInfo.loginName,"] ").concat(e.userInfo.userName," | ").concat(e.orgName),value:e.userInfo.userId},t)}));case 5:case"end":return r.stop()}}),r)})))()},getUserSelectListByOrg:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(c["M"])(e);case 2:o=r.sent,t.loading=!1,t.optionList=Array.isArray(o)&&o.map((function(e){var t={};return t=Object.assign(t,e,e.userInfo),Object(i["a"])({text:"[".concat(e.userInfo.loginName,"] ").concat(e.userInfo.userName," | ").concat(e.orgName),value:e.userInfo.userId},t)}));case 5:case"end":return r.stop()}}),r)})))()},queryEmployee:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(u["R"])(e);case 2:o=r.sent,t.loading=!1,t.optionList=Array.isArray(o)&&o.map((function(e){return Object(i["a"])({text:"[".concat(e.employNo,"] ").concat(e.employName," | ").concat(e.orgCn),value:e.employId},e)}));case 5:case"end":return r.stop()}}),r)})))()},handleSelectChange:function(e){var t=this;this.optionList.forEach((function(r){if(r.value===e)if(t.selectedItemData=r,t.isQueryUser){var o=t.queryItemById(r.orgId,t.orgTreeData);if(o.parentId){var n=t.getAllParentOrgId(o.parentId,t.oneDimensionArr).reverse();n.push(o.orgName),t.currentOrg=n.join("/"),t.selectedItemData.orgFullName=t.currentOrg}else t.currentOrg=o.orgName}else t.currentOrg=r.orgCn}))},registerCloseEvent:function(){var e=this,t=document.querySelector(".ccContainer .el-dialog__close");t&&t.addEventListener("click",(function(){e.handleCancel()}))},getOrgTreeList:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.oneDimensionArr=e.toOneDimensionArr(Object(l["a"])(e.orgTreeData));case 1:case"end":return t.stop()}}),t)})))()},queryItemById:function(e,t){var r=null;function o(t){t.forEach((function(t){if(e===t.orgId)return r=t;t.children&&t.children.length>0&&o(t.children)}))}return o(t),r},toOneDimensionArr:function(e){var t=[];Object(l["a"])(e);function r(e){e.forEach((function(e){t.push(e),e.children&&e.children.length>0&&(r(e.children),delete e.children)}))}return r(e),t},getAllParentOrgId:function(e,t){var r=[];function o(e,t){t.forEach((function(n){e===n.orgId&&e===n.orgId&&(r.push(n.orgName),o(n.parentId,t))}))}return o(e,t),r}}},d=p,m=r("2877"),f=Object(m["a"])(d,o,n,!1,null,"c8833b38",null);t["a"]=f.exports},"5d12":function(e,t,r){"use strict";var o={ONLY_NUMBER_NO_ZERO:/[^1-9]/g,ONLY_NUMBER:/[\D]/g,ONLY_NUMBER_LETTER:/[\W]/g,NO_CN:/[\u0391-\uFFE5]+/,EMAIL:/\{|\}|\（|\)|\=|\%|\~|\!|\^|\&|\+|\#|\￥|\）|\{|\}|\！|[\u0391-\uFFE5]/g,NUMBER_WITH_POINT:/[^\d\.]/g};t["a"]=o},dc27:function(e,t,r){"use strict";r.d(t,"t",(function(){return n})),r.d(t,"R",(function(){return a})),r.d(t,"db",(function(){return i})),r.d(t,"E",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"x",(function(){return u})),r.d(t,"J",(function(){return s})),r.d(t,"K",(function(){return p})),r.d(t,"G",(function(){return d})),r.d(t,"cb",(function(){return m})),r.d(t,"P",(function(){return f})),r.d(t,"bb",(function(){return y})),r.d(t,"N",(function(){return h})),r.d(t,"eb",(function(){return b})),r.d(t,"hb",(function(){return v})),r.d(t,"ab",(function(){return g})),r.d(t,"gb",(function(){return O})),r.d(t,"H",(function(){return C})),r.d(t,"I",(function(){return j})),r.d(t,"F",(function(){return L})),r.d(t,"L",(function(){return w})),r.d(t,"O",(function(){return I})),r.d(t,"fb",(function(){return E})),r.d(t,"jb",(function(){return T})),r.d(t,"w",(function(){return x})),r.d(t,"C",(function(){return F})),r.d(t,"s",(function(){return _})),r.d(t,"U",(function(){return S})),r.d(t,"V",(function(){return D})),r.d(t,"M",(function(){return N})),r.d(t,"v",(function(){return k})),r.d(t,"ib",(function(){return q})),r.d(t,"p",(function(){return A})),r.d(t,"h",(function(){return R})),r.d(t,"W",(function(){return B})),r.d(t,"g",(function(){return U})),r.d(t,"n",(function(){return M})),r.d(t,"X",(function(){return $})),r.d(t,"B",(function(){return P})),r.d(t,"Q",(function(){return z})),r.d(t,"D",(function(){return Q})),r.d(t,"l",(function(){return Z})),r.d(t,"i",(function(){return H})),r.d(t,"m",(function(){return W})),r.d(t,"y",(function(){return G})),r.d(t,"A",(function(){return J})),r.d(t,"z",(function(){return V})),r.d(t,"S",(function(){return Y})),r.d(t,"c",(function(){return X})),r.d(t,"e",(function(){return K})),r.d(t,"b",(function(){return ee})),r.d(t,"d",(function(){return te})),r.d(t,"j",(function(){return re})),r.d(t,"f",(function(){return oe})),r.d(t,"Z",(function(){return ne})),r.d(t,"T",(function(){return ae})),r.d(t,"q",(function(){return ie})),r.d(t,"Y",(function(){return ce})),r.d(t,"r",(function(){return le})),r.d(t,"o",(function(){return ue})),r.d(t,"u",(function(){return se})),r.d(t,"k",(function(){return pe}));var o=r("b775");function n(e){return Object(o["a"])({url:"/employ/attr/queryEmployAttrList",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/employ/archives/queryEmployList",method:"post",params:e})}function i(e){return Object(o["a"])({url:"/employ/attr/saveOrUpdateEmployAttr",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/employ/attr/queryEmployAttr",method:"post",params:e})}function l(e){return Object(o["a"])({url:"/employ/attr/addOrCancelAttr",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/employ/attr/queryEmployAttrHistory",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/employ/free/queryEmployFreeList",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/employ/free/queryEmployFreePoolList",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/employ/free/queryEmployFree",method:"post",params:e})}function m(e){return Object(o["a"])({url:"/employ/archives/saveOrUpdateEmploy",method:"post",data:e})}function f(e){return Object(o["a"])({url:"/employ/archives/queryEmployInfoList",method:"post",data:e})}function y(e){return Object(o["a"])({url:"/employ/archives/removeEmployInfo",method:"post",params:e})}function h(e){return Object(o["a"])({url:"/employ/archives/queryEmployInfoDetail",method:"post",params:e})}function b(e){return Object(o["a"])({url:"/employ/free/saveOrUpdateEmployFree",method:"post",data:e})}function v(e){return Object(o["a"])({url:"/employ/free/updateEmployFreeEntry",method:"post",data:e})}function g(e){return Object(o["a"])({url:"/employ/free/removeEmployFree",method:"post",params:e})}function O(e){return Object(o["a"])({url:"/employ/free/updateCancelEmployFree",method:"post",data:e})}function C(e){return Object(o["a"])({url:"/employ/free/queryEmployFreeDetail",method:"post",params:e})}function j(e){return Object(o["a"])({url:"/employ/free/queryEmployFreeHistory",method:"post",data:e})}function L(e){return Object(o["a"])({url:"/employ/archives/queryEmployFormalList",method:"post",data:e})}function w(e){return Object(o["a"])({url:"/employ/archives/queryEmployHistoryList",method:"post",params:e})}function I(e){return Object(o["a"])({url:"/employ/archives/queryEmployInfo",method:"post",params:e})}function E(e){return Object(o["a"])({url:"/employ/archives/updateBatchFormal",method:"post",data:e})}function T(e){return Object(o["a"])({url:"/employ/archives/updateFormalDelay",method:"post",data:e})}function x(){return Object(o["a"])({url:"/employ/archives/queryAppointCount",method:"post"})}function F(e){return Object(o["a"])({url:"/employ/archives/queryEmployBaseDetail?employId=".concat(e.employId),method:"post"})}function _(e){return Object(o["a"])({url:"/employ/archives/getEmployBaseDetail",method:"post",params:e})}function S(e){return Object(o["a"])({url:"/employ/archives/queryEmployWorkCount",method:"post",params:e})}function D(e){return Object(o["a"])({url:"/employ/archives/queryLastEmployChangeRecord",method:"post",params:e})}function N(e){return Object(o["a"])({url:"/employ/archives/queryEmployInfoContractPage",method:"post",data:e})}function k(e){return Object(o["a"])({url:"/employ/archives/operateEmployInfoContract",method:"post",data:e})}function q(e){return Object(o["a"])({url:"/employ/archives/updateEmployInfoContract",method:"post",data:e})}function A(e){return Object(o["a"])({url:"/employ/archives/exportEmployInfoContract",method:"post",data:e})}function R(e){return Object(o["a"])({url:"/employ/archives/checkSpecialDate",method:"post",data:e})}function B(e){return Object(o["a"])({url:"/employ/free/queryNewEmployFreeDetail",method:"post",params:e})}function U(e){return Object(o["a"])({url:"/employ/archives/checkFlow",method:"post",params:e})}function M(e){return Object(o["a"])({url:"/employ/archives/exportEmploy",method:"post",data:e})}function $(e){return Object(o["a"])({url:"/system/org/queryOrgMoney?employType=".concat(e.employType),method:"post"})}function P(e){return Object(o["a"])({url:"/employ/activity/getNewEmployList",method:"post",data:e})}function z(e){return Object(o["a"])({url:"/employ/activity/getReductionEmployList",method:"post",data:e})}function Q(e){return Object(o["a"])({url:"/employ/activity/getPositiveEmployList",method:"post",data:e})}function Z(e){return Object(o["a"])({url:"/employ/activity/exportPositiveEmployExcel",method:"post",data:e})}function H(e){return Object(o["a"])({url:"/employ/activity/exportNewEmployExcel",method:"post",data:e})}function W(e){return Object(o["a"])({url:"/employ/activity/exportReductionEmployExcel",method:"post",data:e})}function G(e){return Object(o["a"])({url:"/business/client/queryClientCompanySelectListByLike",method:"post",params:e})}function J(e){return Object(o["a"])({url:"/business/contract/queryContractSelectByOrgIdANDClientCompanyIdOnEmploy",method:"post",params:e})}function V(e){return Object(o["a"])({url:"/business/client/queryClientCompanyWorkplaceListByLike",method:"post",params:e})}function Y(e){return Object(o["a"])({url:"/employ/activity/getaddOrLeaveEmployList",method:"post",data:e})}function X(e){return Object(o["a"])({url:"/employ/two/updChangeLeave",method:"post",data:e})}function K(e){return Object(o["a"])({url:"/employ/two/updChangeEmployType",method:"post",data:e})}function ee(e){return Object(o["a"])({url:"/employ/two/updChangeZhuanOrg",method:"post",data:e})}function te(e){return Object(o["a"])({url:"/employ/two/updChangeTiaoGang",method:"post",data:e})}function re(e){return Object(o["a"])({url:"/employ/two/exportUnFormalEmployChangeFinanceList",method:"post",data:e})}function oe(e){return Object(o["a"])({url:"/employ/two/getTwoDetail",method:"get",params:e})}function ne(e){return Object(o["a"])({url:"/system/user/queryUserSelectListByCondition",method:"post",params:e})}function ae(e){return Object(o["a"])({url:"/employ/archives/queryEmployRosterList",method:"post",data:e})}function ie(e){return Object(o["a"])({url:"/employ/archives/exportEmployRoster",method:"post",data:e})}function ce(e){return Object(o["a"])({url:"/employ/archives/queryRosterList",method:"post",data:e})}function le(e){return Object(o["a"])({url:"/employ/archives/exportRoster",method:"post",data:e})}function ue(e){return Object(o["a"])({url:"/employ/free/exportEmployFree",method:"post",data:e})}function se(e){return Object(o["a"])({url:"/employ/rosterrealtime/getLastContrastInfo",method:"get",data:e})}function pe(e){return Object(o["a"])({url:"/employ/rosterrealtime/exportContrastExcel",method:"get",data:e})}},dc56:function(e,t,r){},e39a:function(e,t,r){"use strict";r("dc56")},fe45:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toms-container"},[r("div",{staticClass:"toms-add-navBar"},e._l(e.navList,(function(t,o){return r("div",{key:t,class:{current:e.navFlag===o},on:{click:function(t){return e.navChange(o)}}},[e._v(" "+e._s(t)+" ")])})),0),r("div",{staticClass:"toms-add-contentWrap"},[r("div",{staticClass:"formContent",staticStyle:{border:"none"}},[e._m(0),r("div",{staticClass:"formItem"},[r("zm-form",{ref:"basicForm",attrs:{formConfig:e.formConfig,rules:e.rules,formData:e.basicFormData,labelWidth:"140px"},on:{dismissTypeChange:e.dismissTypeChange,openNameSelect:e.openNameSelect}})],1),r("div",{staticClass:"upload"},[r("div",{staticClass:"left"},[e._v(" 附件 ")]),r("el-upload",{staticClass:"upload-demo",attrs:{name:"files",action:e.fileLoadUrl,"file-list":e.fileList,"on-success":e.uploadFileSuccess,"on-error":e.uploadFileError,multiple:"",limit:3,accept:".rar,.zip,.doc,.docx,.pdf,.png,.jpg"}},[r("el-button",{attrs:{size:"small",icon:"el-icon-folder-add",plain:""}},[e._v("上传文件")]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 支持文件格式：.rar .zip .doc .docx .pdf .png .jpg,单个文件不能超过5M ")])],1)],1),r("zm-table",{staticStyle:{width:"100%"},attrs:{border:"",tableData:e.uploadTableData,columns:e.uploadColumns,isShowPagenation:!1}})],1)]),r("div",{staticClass:"toms-add-submitForm"},[r("div",{staticClass:"item",on:{click:e.closePage}},[e._v("关闭")]),r("Debounce",{attrs:{time:500,events:"click",immediate:!0}},[r("div",{staticClass:"item submit",on:{click:function(t){return e.submitForm("basicForm")}}},[e._v("提交")])])],1),r("cc-people-modal",{attrs:{isShowCcModal:e.isShowCcModal,isLeave:e.isLeave},on:{"update:isShowCcModal":function(t){e.isShowCcModal=t},"update:is-show-cc-modal":function(t){e.isShowCcModal=t},handleConfirm:e.handleConfirm}})],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title",attrs:{id:"nav0"}},[r("span",[e._v("基本信息")])])}],a=r("1da1"),i=r("5530"),c=(r("96cf"),r("a15b"),r("b0c0"),r("99af"),r("fb6a"),r("b680"),r("a9e3"),r("a434"),r("c91b")),l=(r("ed08"),r("4360")),u=l["a"].state.baseData.baseDataOptionList,s=function(e){return[{span:12,list:[{type:"text",label:"工号/姓名",prop:"employName",placeholder:"请输入工号或姓名",searchBtn:{icon:"el-icon-search",changeFn:function(t){e.isShowCcModal=!0}},focus:"openNameSelect"}]},{span:12,list:[{type:"text",prop:"orgCn",label:"所属组织",placeholder:"请输入所属组织",disabled:!0}]},{span:12,list:[{type:"text",prop:"employPhone",label:"手机号码",placeholder:"请输入手机号码",disabled:!0}]},{span:12,list:[{type:"text",prop:"employPidNo",label:"证件号码",placeholder:"请输入证件号码",disabled:!0}]},{span:12,list:[{type:"select",prop:"employSex",label:"性别",placeholder:"请输入性别",disabled:!0,optionList:u.IT_SEXX}]},{span:12,list:[{type:"date",prop:"employBirthday",label:"出生年月",placeholder:"请输入出生年月",disabled:!0}]},{span:12,list:[{type:"text",prop:"clientCompanyIdCn",label:"客户名称",placeholder:"请输入客户名称",disabled:!0}]},{span:12,list:[{type:"select",prop:"employType",label:"员工类型",placeholder:"请输入员工类型",disabled:!0,optionList:u.IT_EMTY}]},{span:12,list:[{type:"date",prop:"contractStartTime",label:"入职日期",placeholder:"请输入入职日期",disabled:!0}]},{span:12,list:[{type:"date",prop:"contractLeaveTime",label:"离职日期",valueFormat:""}]},{span:12,list:[{type:"text",prop:"companyDeliverCn",label:"对应交付",placeholder:"请输入对应交付",disabled:!0}]},{span:12,list:[{type:"text",prop:"companyRecruitCn",label:"对应招聘",placeholder:"请输入对应招聘",disabled:!0}]},{span:12,list:[{type:"select",label:"离职类型",prop:"contractLeaveType",placeholder:"请选择离职类型",changeFn:"dismissTypeChange",optionList:u.IT_QUIT}]},{span:12,list:[{type:"select",label:"离职原因",prop:"contractLeaveCause",placeholder:"请选择离职原因",optionList:e.contractLeaveList}]},{span:24,list:[{type:"text",prop:"employAttrBecause",label:"加入名单原因",placeholder:"请输入加入名单原因",maxlength:150}]}]},p={employName:{required:!0,message:"请输入工号或姓名",trigger:"input"},companyDeliver:{required:!0},companyRecruit:{required:!0},contractLeaveType:{required:!0,message:"请选择离职类型",trigger:"change"},contractLeaveCause:{required:!0,message:"请选择离职原因",trigger:"change"},employAttrBecause:{required:!0,message:"请输入加入名单原因",trigger:"blur"}},d=function(e){return[{label:"序号",type:"index",fixed:"left",width:"50px"},{label:"文件名称",prop:"fileName"},{label:"上传人",prop:"createorName"},{label:"文件大小",prop:"fileSize"},{label:"上传时间",prop:"uploadTime"},{label:"操作",kind:"render",render:function(t,r){return t("div",[t("span",{style:{color:"#078bfd",cursor:"pointer",marginRight:"10px"},on:{click:function(){e.viewContract(r)}}},"预览"),t("span",{style:{color:"#078bfd",cursor:"pointer",marginRight:"10px"},on:{click:function(){e.downloadContract(r)}}},"下载"),t("span",{style:{color:"#078bfd",cursor:"pointer"},on:{click:function(){e.deleteUploadFile(r)}}},"删除")])}}]},m=r("df86"),f=r("470f"),y=r("dc27"),h=r("8cc7"),b=r("2f62"),v={name:"AddBlackList",components:{zmForm:c["a"],previewModal:m["a"],ccPeopleModal:f["a"],zmTable:h["a"]},data:function(){return{navList:["基本信息"],navFlag:0,rules:p,isShowCcModal:!1,basicFormData:{contractLeaveType:null,contractLeaveTypeCn:null,contractLeaveCause:"",contractLeaveCauseCn:""},fileLoadUrl:"",fileList:[],uploadFileList:[],uploadColumns:d(this),uploadTableData:[],pageData:{pageIndex:1,pageSize:1e5,pageCount:0},sortData:[],isLeave:!0,contractLeaveList:[]}},computed:Object(i["a"])(Object(i["a"])({},Object(b["e"])("baseData",["baseDataOptionList","jobTreeDate"])),{},{formConfig:function(){return s(this)}}),watch:{"basicFormData.contractLeaveType":{deep:!0,immediate:!0,handler:function(e){"IT_QUIT_001"===e?(this.contractLeaveList=this.baseDataOptionList.IT_ZDQT,console.log("主动离职",this.contractLeaveList)):"IT_QUIT_002"===e&&(this.contractLeaveList=this.baseDataOptionList.IT_TTXZ)}}},mounted:function(){this.fileLoadUrl="https://www.tobowork.com/api/tobosoft-toms/strato/cloud/file/employ/toms-1255586777/upload"},methods:Object(i["a"])(Object(i["a"])({},Object(b["d"])("entryCfmSalary",["CHANGE_EDIT_PROCESS_STATUS","CHANGE_LIST_PAGE_STAUTS"])),{},{openNameSelect:function(){this.isShowCcModal=!0},navChange:function(){},closePage:function(){var e=this;this.$route;this.$confirm("内容未保存, 是否直接关闭?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$router.push("/hr/blacklist")}))},submitForm:function(e){var t=this,r=this.uploadFileList.join(","),o=this.basicFormData,n=o.employId,a=o.contractLeaveTime,i=o.contractLeaveType,c=o.contractLeaveCause,l=o.employAttrBecause,u={employAttrType:"IT_ATTR_001",employId:n,contractLeaveTime:a,contractLeaveType:i,contractLeaveCause:c,employAttrBecause:l,employAttrStatus:"IT_ARTY_001",fileIds:r};this.$refs[e].validate((function(e){if(!e)return t.$message.warning("请填写必填项"),t.$nextTick((function(){var e=document.getElementsByClassName("is-error");e&&e[0].scrollIntoView({block:"center",behavior:"smooth"})})),!1;Object(y["db"])(u).then((function(e){if("200"===e.code){t.CHANGE_LIST_PAGE_STAUTS(!0),t.$message.success("提交成功");var r=t.$route;t.$store.dispatch("tagsView/delView",r).then((function(e){e.visitedViews;t.$router.push("/hr/blacklist")}))}else t.$message.error(e.msg||"")}))}))},uploadFileError:function(e,t){this.$message.error(t.name+"上传失败")},getExcellentList:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={input:{}},o=Object.assign({},e.pageData,r),o.input.displays=e.sortData,o.input.employAttrType="IT_ATTR_002",t.next=6,Object(y["t"])(o);case 6:n=t.sent,a=n.result,e.blackList=a;case 9:case"end":return t.stop()}}),t)})))()},handleConfirm:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.basicFormData=e,t.basicFormData.employName=e.text;case 2:case"end":return r.stop()}}),r)})))()},dismissTypeChange:function(e){this.basicFormData.contractLeaveCause="",this.basicFormData.contractLeaveCauseCn=""},uploadFileSuccess:function(e,t,r){var o="[".concat(this.$store.state.user.userInfo.loginName,"] ").concat(this.$store.state.user.userInfo.userName),n=e[0].uploadTime&&e[0].uploadTime.slice(0,e[0].uploadTime.indexOf("T"));this.uploadFileList.push(e[0].fileId),this.uploadTableData.push({createorName:o,fileId:e[0].fileId,fileSize:(Number(e[0].fileSize)/1024).toFixed(2)+"kb",fileName:e[0].originName,uploadTime:n,filePath:e[0].filePath}),this.$message.success(t.name+"上传成功")},viewContract:function(e){var t=e.row.fileId,r="https://www.tobowork.com//api/tobosoft-toms/cos/file/view/"+t;window.open(r)},downloadContract:function(e){var t=e.row.fileId,r="https://www.tobowork.com//api/tobosoft-toms/cos/file/download/"+t,o=document.createElement("a");o.setAttribute("download",e.row.fileName),o.href=r,document.body.appendChild(o),o.click(),o.remove()},deleteUploadFile:function(e){var t=e.$index;this.uploadTableData.splice(t,1)}})},g=v,O=(r("e39a"),r("2877")),C=Object(O["a"])(g,o,n,!1,null,"4c740ee9",null);t["default"]=C.exports}}]);