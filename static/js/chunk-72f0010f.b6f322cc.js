(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72f0010f"],{"1d4c":function(e,t,r){},"2b6d":function(e,t,r){"use strict";r.d(t,"l",(function(){return n})),r.d(t,"k",(function(){return a})),r.d(t,"o",(function(){return i})),r.d(t,"p",(function(){return s})),r.d(t,"q",(function(){return c})),r.d(t,"r",(function(){return l})),r.d(t,"m",(function(){return u})),r.d(t,"a",(function(){return p})),r.d(t,"t",(function(){return m})),r.d(t,"i",(function(){return d})),r.d(t,"c",(function(){return y})),r.d(t,"b",(function(){return h})),r.d(t,"n",(function(){return b})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return g})),r.d(t,"f",(function(){return C})),r.d(t,"s",(function(){return I})),r.d(t,"j",(function(){return v})),r.d(t,"g",(function(){return T})),r.d(t,"h",(function(){return O}));r("99af");var o=r("b775");function n(e){return Object(o["a"])({url:"/business/vmclient/queryVmClientList",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/business/vmclient/queryVmClientInfo",method:"post",params:e})}function i(e){return Object(o["a"])({url:"/business/vmclient/removeVmClientCompany",method:"post",params:e})}function s(e){return Object(o["a"])({url:"/business/vmclient/removeVmClientTail",method:"post",params:e})}function c(e){return Object(o["a"])({url:"/business/vmclient/saveOrUpdateVmClient",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/business/vmclient/saveOrUpdateVmClientTail",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/business/vmclient/queryVmClientTailList",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/business/vmclient/clientFlow",method:"post",params:e})}function m(e){return Object(o["a"])({url:"/business/vmclient/updateNewsStatus",method:"post",params:e})}function d(e){return Object(o["a"])({url:"/business/vmclient/newsFlow",method:"post",params:e})}function y(e){return Object(o["a"])({url:"/business/vmclient/exportVmClientList",method:"post",data:e})}function h(e){return Object(o["a"])({url:"/commons/exportfile/download",method:"get",params:e})}function b(e){return Object(o["a"])({url:"/business/vmclient/queryVmClientUsers",method:"post",data:e})}function f(e){return Object(o["a"])({url:"/commons/tianyancha/getBaseInfoV2",method:"post",data:e})}function g(e){return Object(o["a"])({url:"/commons/tianyancha/getCompanyLawSuit",method:"post",data:e})}function C(e){return Object(o["a"])({url:"/commons/tianyancha/getCompanyProfile",method:"post",data:e})}function I(e){return Object(o["a"])({url:"/commons/tianyancha/searchCompany",method:"post",data:e})}function v(e){return Object(o["a"])({url:"/business/client/queryClientCompanySelectListByOrgId",method:"post",data:e})}function T(e){return Object(o["a"])({url:"/business/contract/getContractPrice?cityCn=".concat(e.cityCn,"&contractId=").concat(e.contractId,"&jobCn=").concat(e.jobCn,"&jobLevel=").concat(e.jobLevel),method:"post"})}function O(e){return Object(o["a"])({url:"/business/contract/queryContractPriceDimension?contractId=".concat(e.contractId),method:"post"})}},"35ad":function(e,t,r){"use strict";r.d(t,"f",(function(){return n})),r.d(t,"k",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"y",(function(){return s})),r.d(t,"A",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"j",(function(){return u})),r.d(t,"l",(function(){return p})),r.d(t,"c",(function(){return m})),r.d(t,"p",(function(){return d})),r.d(t,"z",(function(){return y})),r.d(t,"x",(function(){return h})),r.d(t,"e",(function(){return b})),r.d(t,"h",(function(){return f})),r.d(t,"w",(function(){return g})),r.d(t,"a",(function(){return C})),r.d(t,"v",(function(){return I})),r.d(t,"B",(function(){return v})),r.d(t,"r",(function(){return T})),r.d(t,"q",(function(){return O})),r.d(t,"s",(function(){return j})),r.d(t,"i",(function(){return S})),r.d(t,"u",(function(){return D})),r.d(t,"o",(function(){return L})),r.d(t,"n",(function(){return P})),r.d(t,"t",(function(){return w})),r.d(t,"g",(function(){return F})),r.d(t,"m",(function(){return N}));var o=r("b775");function n(e){return Object(o["a"])({url:"/business/contract/queryContractList",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/business/client/queryClientCompanyInfos",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/business/contract/deleteContract",method:"post",params:e})}function s(e){return Object(o["a"])({url:"/business/contract/saveOrUpdate",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/business/contract/saveOrUpdateRelation",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/business/contract/queryContractInfo",method:"post",params:e})}function u(e){return Object(o["a"])({url:"/business/contract/queryContractSelectList",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/commons/basedata/queryCompanyList",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/business/client/queryAllClientCompanySelectList",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/business/client/queryClientCompanyListNoScope",method:"post",data:e})}function y(e){return Object(o["a"])({url:"/business/contract/saveContractPrice",method:"post",data:e})}function h(e){return Object(o["a"])({url:"/business/contract/addContractAndVirtualRelation",method:"post",data:e})}function b(e){return Object(o["a"])({url:"/business/contract/queryContractFileList",method:"post",params:e})}function f(e){return Object(o["a"])({url:"/business/contract/queryContractPrice",method:"post",params:e})}function g(e){return Object(o["a"])({url:"/business/contract/queryTMContractPrice",method:"post",params:e})}function C(e){return Object(o["a"])({url:"/business/contract/checkContractInfo",method:"post",data:e})}function I(e){return Object(o["a"])({url:"/business/contract/queryStagingList",method:"post",data:e})}function v(e){return Object(o["a"])({url:"/business/contract/saveOrupdateStaging",method:"post",data:e})}function T(e){return Object(o["a"])({url:"/business/contract/queryContractPriceDimension",method:"post",params:e})}function O(e){return Object(o["a"])({url:"/business/contract/queryContractSelectListByLike",method:"post",params:e})}function j(e){return Object(o["a"])({url:"/business/contract/queryContractPriceResult",method:"post",params:e})}function S(e){return Object(o["a"])({url:"/salary/salaryLineSet/queryForStation",method:"post",data:e})}function D(e){return Object(o["a"])({url:"/salary/salaryLineSet/queryForLevel",method:"post",data:e})}function L(e){return Object(o["a"])({url:"/salary/salaryLineSet/querForPirce",method:"post",data:e})}function P(e){return Object(o["a"])({url:"/salary/salaryLineSet/querForDetail",method:"post",data:e})}function w(e){return Object(o["a"])({url:"/business/contract/queryContractSelectByOrgIdANDClientCompanyId",method:"post",params:e})}function F(e){return Object(o["a"])({url:"/business/contract/getContractPrice",method:"post",params:e})}function N(e){return Object(o["a"])({url:"/business/contract/queryContractPriceVersionList/".concat(e),method:"post"})}},"4e35":function(e,t,r){"use strict";r("a9c6")},8726:function(e,t,r){"use strict";r("a5c8")},9587:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-basic-info"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"basic-info-left"},[e._v("工作主题")]),r("span",{staticClass:"basic-info-right"},[e._v(" "+e._s(e.basicProcessInfo.taskName||"系统自动生成")+" ")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"basic-info-left",staticStyle:{"padding-right":"22px"}},[e._v("流程名称")]),r("span",{staticClass:"basic-info-right",staticStyle:{"margin-left":"0"}},[e._v(e._s(e.basicProcessInfo.flowName))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"basic-info-left"},[e._v("发起人")]),r("span",{staticClass:"basic-info-right"},[e._v(e._s(e.basicProcessInfo.launchPeople))])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"basic-info-left",staticStyle:{"padding-right":"22px"}},[e._v("当前环节")]),r("span",{staticClass:"basic-info-right",staticStyle:{"margin-left":"0"}},[e._v(e._s(e.basicProcessInfo.nodeName))])])],1)],1)},n=[],a={name:"BasicInfo",props:{basicProcessInfo:{type:Object,default:function(){return{}}}},data:function(){return{}},mounted:function(){},methods:{}},i=a,s=(r("8726"),r("2877")),c=Object(s["a"])(i,o,n,!1,null,"9d1ce9b8",null);t["a"]=c.exports},a5c8:function(e,t,r){},a9c6:function(e,t,r){},bfee:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toms-container"},[r("div",{staticClass:"toms-add-navBar"},[e._l(e.navList,(function(t){return[t.hidden?r("div",{key:t.navId,class:{current:e.navFlag===t.navId},on:{click:function(r){return e.navChange(t.navId)}}},[e._v(" "+e._s(t.name)+" ")]):e._e()]}))],2),r("div",{staticClass:"toms-add-contentWrap"},[e.isShowBasicInfo?r("div",{staticClass:"formContent"},[e._m(0),r("div",{staticClass:"formItem"},[r("basic-process-info",{attrs:{basicProcessInfo:e.basicProcessData}})],1)]):e._e(),e.isShowRecruitmentInfo?r("div",{staticClass:"formContent"},[e._m(1),r("div",{staticClass:"formItem"},[r("recruitment-info",{ref:"recruitmentForm",attrs:{recruitmentData:e.recruitmentData,allComponentsLabel:e.allComponentsLabel}})],1)]):e._e(),e.isShowEmployeeInfo?r("div",{staticClass:"formContent"},[e._m(2),r("div",{staticClass:"formItem"},[r("employeeInfo",{ref:"employeeInfoForm",attrs:{basicFormData:e.basicFormData,jobHistoryData:e.jobHistoryData,createTime:e.processCreateTime},on:{"update:jobHistoryData":function(t){e.jobHistoryData=t},"update:job-history-data":function(t){e.jobHistoryData=t}}})],1)]):e._e(),e.isShowLaborInfo?r("div",{staticClass:"formContent"},[e._m(3),r("div",{staticClass:"formItem"},[r("labor-contract",{ref:"laborContractForm",attrs:{laborContractData:e.laborContractData}})],1)]):e._e(),e.isShowJobInfo?r("div",{staticClass:"formContent"},[e._m(4),r("div",{staticClass:"formItem"},[r("job-info",{ref:"jobInfoForm",attrs:{employType:e.basicFormData.employType,JobInfo:e.JobInfo,isNoUvCv:e.isNoUvCv,allComponentsLabel:e.allComponentsLabel,currentNodeName:e.basicProcessData.nodeName}})],1)]):e._e(),e.isShowSalaryInfo?r("div",{staticClass:"formContent"},[e._m(5),r("div",{staticClass:"formItem"},[r("salary-info",{ref:"salaryInfoForm",attrs:{salaryFormData:e.salaryFormData}})],1)]):e._e(),e.isShowRevruiterInfo?r("div",{staticClass:"formContent"},[e._m(6),r("div",{staticClass:"formItem"},[r("zm-form",{ref:"revruiterAdForm",attrs:{formData:e.recruiterFormData,formConfig:e.recruiterFormConfig,rules:e.recruiterRules,labelWidth:"140px"}})],1)]):e._e(),e.isShowResume?r("div",{staticClass:"formContent"},[e._m(7),r("div",{staticClass:"formItem"},[r("resume-upload",{attrs:{uploadTableData:e.uploadTableData,isShowErrClass:e.isShowErrClass}})],1)]):e._e(),e.isShowOnJobHistory?r("div",{staticClass:"formContent"},[e._m(8),r("div",{staticClass:"formItem",staticStyle:{"margin-top":"10px"}},[r("zm-table",{staticStyle:{width:"100%"},attrs:{border:"",tableData:e.jobHistoryData,columns:e.jobHistoryColumns,isShowPagenation:!1}})],1)]):e._e(),e.isShowProcessInfoComputed?r("div",{staticClass:"formContent"},[e._m(9),r("div",{staticClass:"formItem",staticStyle:{"margin-top":"10px"}},[r("process-info",{ref:"approvalForm",attrs:{aprvData:e.aprvData,processInfo:e.currenFlowInfo,isDetails:!1,notGetJobOrUv:e.isNoUvCv.notGetJobOrUv}})],1)]):e._e()]),r("operation-btn",{attrs:{processFormParams:e.processFormParams,processImageSrc:e.entryProcessImage,prepareCommitParams:e.prepareCmtParams,taskFlowConfig:e.taskFlowConfig,taskNodeInstance:e.taskNodeInstance,taskInstance:e.taskInstance,uploadTableData:e.uploadTableData,aprvData:e.aprvData,componentRefs:e.componentRefs,isFirstSubmitProcess:e.isFirstSubmitProcess,currenFlowInfo:e.currenFlowInfo,notGetJobOrUv:e.isNoUvCv.notGetJobOrUv},on:{openPreviewModal:e.openPreviewModal}}),r("preview-modal",{attrs:{navName:"navigation",openModal:e.isOpenModal,navList:e.navListOfDetails,title:"员工定薪流程"},on:{"update:openModal":function(t){e.isOpenModal=t},"update:open-modal":function(t){e.isOpenModal=t}}},[r("process-basic-details",{attrs:{basicData:e.previewData,navName:"navigation"}}),r("recruitment-details",{attrs:{basicData:e.previewData,navName:"navigation"}}),r("basic-details",{attrs:{basicData:e.previewData,navName:"navigation"}}),r("labor-contract-details",{attrs:{basicData:e.previewData,navName:"navigation"}}),r("company-job",{attrs:{basicData:e.previewData,navName:"navigation"}}),r("client-job",{attrs:{basicData:e.previewData,navName:"navigation"}}),r("salary-line",{attrs:{basicData:e.previewData,navName:"navigation"}}),r("salary-info-details",{attrs:{basicData:e.previewData,navName:"navigation"}}),r("people-advice",{attrs:{basicData:e.previewData,navName:"navigation"}}),r("resume-info",{attrs:{navName:"navigation"}}),r("job-history",{attrs:{navName:"navigation"}}),r("div",{staticClass:"detailsContent"},[r("div",{staticClass:"title",attrs:{id:"navigation11"}},[r("span",[e._v("流程信息")]),r("div",{staticClass:"line"})]),r("process-info",{attrs:{isDetails:!0}})],1)],1)],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title",attrs:{id:"nav0"}},[r("span",[e._v("基本信息")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title",attrs:{id:"nav1"}},[r("span",[e._v("招聘人信息")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title",attrs:{id:"nav2"}},[r("span",[e._v("员工基本信息")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title",attrs:{id:"nav3"}},[r("span",[e._v("劳动合同")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title",attrs:{id:"nav4"}},[r("span",[e._v("岗位信息")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title",attrs:{id:"nav5"}},[r("span",[e._v("薪酬信息")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title",attrs:{id:"nav6"}},[r("span",[e._v("招聘人意见")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title",attrs:{id:"nav7"}},[r("span",[e._v("简历附件")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title",attrs:{id:"nav8"}},[r("span",[e._v("在职历史")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title",attrs:{id:"nav9"}},[r("span",[e._v("流程信息")])])}],a=r("1da1"),i=r("5530"),s=(r("96cf"),r("caad"),r("2532"),r("99af"),r("a9e3"),r("c91b")),c=(r("bf3e"),r("8cc7")),l=r("df86"),u=r("9587"),p=r("ac83"),m=r("f6f0"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("zm-form",{ref:"recruitmentForm",attrs:{formData:e.recruitmentData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"},on:{organisationSelectChange:e.organisationSelectChange,recruitmentRemoteSearch:e.recruitmentRemoteSearch,selectedRecruitmentName:e.selectedRecruitmentName}})],1)},y=[],h=(r("4de4"),r("d81d"),r("159b"),r("3881")),b=function(e){var t=e.$store.state.baseData.baseDataOptionList||{};return[{span:12,list:[{type:"select",prop:"channelType",label:"渠道类型",placeholder:"请选择",optionList:t.IT_CHAN||[],hidden:Object(h["b"])("price.form.hr.channelType"),disabled:Object(h["a"])("price.form.hr.channelType")}]},{span:12,list:[{type:"textTip",prop:"channelName",label:"渠道名称/推荐人",placeholder:"请输入",width:"92%",tipContent:"网络渠道：如智联招聘、人才无忧、BOSS直聘、拉钩招聘等 \n 内部推荐：请填写推荐人姓名\n 外部推荐：请填写推荐人姓名\n 培训机构：请填写培训机构姓名",hidden:Object(h["b"])("price.form.hr.channelName"),disabled:Object(h["a"])("price.form.hr.channelName")}]},{span:12,list:[{type:"cascader",label:"所属组织",prop:"recruitOrgid",placeholder:"请选择",optionList:e.orgDataList,changeFn:"organisationSelectChange",propLabel:"orgName",propValue:"orgId",checkStrictly:!0,hidden:Object(h["b"])("price.form.hr.recruitOrgName"),disabled:Object(h["a"])("price.form.hr.recruitOrgName")}]},{span:12,list:[{type:"remoteSelectLoading",label:"招聘人姓名",prop:"recruitUserid",selectOptionList:e.recruitmentNameList,loading:e.loading,remoteMethod:"recruitmentRemoteSearch",changeFn:"selectedRecruitmentName",hidden:Object(h["b"])("price.form.hr.recruitUserName"),disabled:Object(h["a"])("price.form.hr.recruitUserName")}]}]},f={channelType:{required:!0,message:"请选择渠道类型",trigger:"change"},channelName:{required:!0,message:"请输入渠道名称/推荐人",trigger:"blur"},recruitOrgid:{required:!0,message:"请选择选择所属组织",trigger:"change"},recruitUserid:{required:!0,message:"请选择招聘人姓名",trigger:"change"}},g=r("ed08"),C=r("a417"),I=r("2f62"),v={name:"Recruitment",components:{zmForm:s["a"]},props:{recruitmentData:{type:Object,default:function(){return{}}},allComponentsLabel:{type:Object,default:function(){return{}}}},data:function(){return{rules:f,recruitmentNameList:[],loading:!1}},watch:{"recruitmentData.recruitUserid":{handler:function(e){var t=this;e&&(this.$route.query.objStr||0===this.recruitmentNameList.length&&Object(C["bb"])({userId:e}).then((function(r){r.userInfo;var o={text:"[".concat(r.userInfo.loginName,"] ").concat(r.userInfo.userName),value:e,orgId:r.orgId};t.recruitmentNameList.push(o)})))}},"recruitmentData.recruitOrgid":{handler:function(e){e&&(this.$route.query.objStr||Array.isArray(e)||this.getOrgTreeData(e))}}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(I["e"])("user",["userFullInfo"])),Object(I["e"])("baseData",["orgTreeData","orgTreeDataDescByType"])),{},{orgDataList:function(){return this.orgTreeData[0].children},formConfig:function(){return this.$store.state.processPermission.processPermissionList.length<1?[]:b(this)}}),mounted:function(){this.$route.query.objStr&&(this.getOrgTreeData(),this.getRecruitmenterName())},methods:{getOrgTreeData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userFullInfo.orgId,t=this.queryItemById(e,this.orgDataList),r=this.toOneDimensionArr(Object(g["a"])(this.orgDataList));t.parentId?(this.recruitmentData.recruitOrgid=this.getAllParentOrgId(t.parentId,r).reverse(),this.recruitmentData.recruitOrgid.push(t.orgId)):this.recruitmentData.recruitOrgid=[t.orgId]},getRecruitmenterName:function(){this.recruitmentData.recruitUserid=this.userFullInfo.userInfo.userId,this.recruitmentRemoteSearch(this.userFullInfo.userInfo.loginName)},organisationSelectChange:function(e){var t=this.recruitmentData.recruitUserid||"",r=this.recruitmentNameList.filter((function(e){return e.value===t}));e[e.length-1]===(r.length>0&&r[0].orgId)||(this.recruitmentData.recruitUserid="")},recruitmentRemoteSearch:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,r.next=3,Object(C["L"])({keyword:e});case 3:o=r.sent,t.loading=!1,t.recruitmentNameList=Array.isArray(o)&&o.map((function(e){return{text:"[".concat(e.userInfo.loginName,"] ").concat(e.userInfo.userName),value:e.userInfo.userId,orgId:e.orgId}}));case 6:case"end":return r.stop()}}),r)})))()},selectedRecruitmentName:function(e){var t=this.recruitmentNameList.filter((function(t){return t.value===e}));if(t.length>0){var r=this.queryItemById(t[0].orgId,this.orgDataList),o=this.toOneDimensionArr(Object(g["a"])(this.orgDataList));r.parentId?(this.recruitmentData.recruitOrgid=this.getAllParentOrgId(r.parentId,o).reverse(),this.recruitmentData.recruitOrgid.push(r.orgId)):this.recruitmentData.recruitOrgid=[r.orgId]}},getAllParentOrgId:function(e,t){var r=[];function o(e,t){t.forEach((function(n){e===n.orgId&&e===n.orgId&&(r.push(n.orgId),o(n.parentId,t))}))}return o(e,t),r},queryItemById:function(e,t){var r=null;function o(t){t.forEach((function(t){if(e===t.orgId)return r=t;t.children&&t.children.length>0&&o(t.children)}))}return o(t),r},toOneDimensionArr:function(e){var t=[];Object(g["a"])(e);function r(e){e.forEach((function(e){t.push(e),e.children&&e.children.length>0&&(r(e.children),delete e.children)}))}return r(e),t}}},T=v,O=r("2877"),j=Object(O["a"])(T,d,y,!1,null,"39b4ea22",null),S=j.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("zm-form",{ref:"employeeInfoForm",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"150px"},on:{emplySelectChange:e.emplySelectChange,certificateSelectChange:e.certificateSelectChange,cdCardBlur:e.cdCardBlur,validWorkYear:e.validWorkYear,pushClientChange:e.pushClientChange}})],1)},L=[],P=(r("fb6a"),r("61f7")),w=function(e){var t=e.$store.state.baseData.baseDataOptionList,r=[{required:!0,message:"请输入证件号码",trigger:"blur"},{min:18,max:18,message:"请输入18位身份证号码",trigger:"blur"},{validator:P["g"],trigger:"blur"}],o=[{required:!0,message:"请输入证件号码",trigger:"blur"},{validator:P["g"],trigger:"blur"}],n=e.hiddenFlag;return[{span:12,list:[{type:"select",prop:"employType",label:"员工类型",placeholder:"请选择",optionList:e.employTypeList,changeFn:"emplySelectChange",hidden:Object(h["b"])("price.form.employ.employType"),disabled:Object(h["a"])("price.form.employ.employType")}]},{span:12,list:[{type:"text",prop:"employName",label:"姓名",placeholder:"请输入",hidden:Object(h["b"])("price.form.employ.employName"),disabled:Object(h["a"])("price.form.employ.employName")}]},{span:12,list:[{type:"select",label:"性别",prop:"employSex",placeholder:"请输入",optionList:t.IT_SEXX,hidden:Object(h["b"])("price.form.employ.employSex"),disabled:Object(h["a"])("price.form.employ.employSex")}]},{span:12,list:[{type:"text",prop:"employMobile",maxlength:"11",label:"手机号码",regex:"ONLY_NUMBER",hidden:Object(h["b"])("price.form.employ.employMobile"),disabled:Object(h["a"])("price.form.employ.employMobile")}]},{span:12,list:[{type:"select",label:"证件类型",prop:"employPidType",placeholder:"请选择",optionList:t.IT_CARD,changeFn:"certificateSelectChange",hidden:Object(h["b"])("price.form.employ.employPidType"),disabled:Object(h["a"])("price.form.employ.employPidType")}]},{span:12,list:[{type:"text",prop:"employPidSno",maxlength:"18",label:"证件号码",regex:"ONLY_NUMBER_LETTER",blurFn:"cdCardBlur",rules:"IT_CARD_002"===e.basicFormData.employPidType?r:o,hidden:Object(h["b"])("price.form.employ.employPidSno"),disabled:Object(h["a"])("price.form.employ.employPidSno")}]},{span:12,list:[{type:"text",prop:"employAge",maxlength:"2",label:"年龄",regex:"ONLY_NUMBER",afterTxt:"岁",hidden:Object(h["b"])("price.form.employ.employAge"),disabled:Object(h["a"])("price.form.employ.employAge")}]},{span:12,list:[{type:"text",prop:"employWorkyear",label:"工作年限",regex:"ONLY_NUMBER",blurFn:"validWorkYear",maxlength:"2",afterTxt:"年",hidden:Object(h["b"])("price.form.employ.employWorkyear"),disabled:Object(h["a"])("price.form.employ.employWorkyear")}]},{span:12,list:[{type:"text",prop:"employEmailSecret",label:"私人邮箱",regex:"EMAIL",hidden:Object(h["b"])("price.form.employ.employEmailSecret"),disabled:Object(h["a"])("price.form.employ.employEmailSecret")}]},{span:12,list:[{type:"text",prop:"employWechat",label:"微信号",regex:"NO_CN",hidden:Object(h["b"])("price.form.employ.employWechat"),disabled:Object(h["a"])("price.form.employ.employWechat")}]},{span:12,list:[{type:"select",label:"学历",prop:"employEdu",placeholder:"请选择",optionList:t.IT_EDUX,hidden:Object(h["b"])("price.form.employ.employEdu"),disabled:Object(h["a"])("price.form.employ.employEdu")}]},{span:12,list:[{type:"date",prop:"employEduTime",label:"毕业时间",hidden:Object(h["b"])("price.form.employ.employEduTime"),disabled:Object(h["a"])("price.form.employ.employEduTime")}]},{span:12,list:[{type:"select",label:"学历性质",prop:"employEduType",placeholder:"请选择",optionList:t.IT_EDUN,hidden:Object(h["b"])("price.form.employ.employEduType"),disabled:Object(h["a"])("price.form.employ.employEduType")}]},{span:12,list:[{label:"毕业院校",type:"text",prop:"employEduSchool",hidden:Object(h["b"])("price.form.employ.employEduSchool"),disabled:Object(h["a"])("price.form.employ.employEduSchool")}]},{span:12,list:[{label:"专业",type:"text",prop:"employEduSpec",hidden:Object(h["b"])("price.form.employ.employEduSpec"),disabled:Object(h["a"])("price.form.employ.employEduSpec")}]},{span:12,list:[{label:"学历查验结果",type:"hasUploadRadio",prop:"employEduVerify",uploadHidden:e.uploadHidden,optionList:[{text:"未查验",value:1},{text:"查验虚假",value:2},{text:"查验真实",value:3}],uploadConfig:{prop:"employEduFiles",label:"上传",isShowDeleteBtn:!Object(h["a"])("price.form.employ.employEduVerify")},hidden:Object(h["b"])("price.form.employ.employEduVerify"),disabled:Object(h["a"])("price.form.employ.employEduVerify")}]},{span:12,list:[{type:"select",label:"推送客户方信息",prop:"pushClientFlag",placeholder:"请选择",optionList:[{text:"一致",value:1},{text:"不一致",value:2}],changeFn:"pushClientChange",hidden:Object(h["b"])("price.form.employ.pushClientFlag"),disabled:Object(h["a"])("price.form.employ.pushClientFlag")}]},{span:12,list:[{type:"text",prop:"noteqWorkyear",label:"工作年限",regex:"ONLY_NUMBER",maxlength:"2",afterTxt:"年",hidden:!!Object(h["b"])("price.form.employ.noteqWorkyear")||n,disabled:Object(h["a"])("price.form.employ.noteqWorkyear")}]},{span:12,list:[{type:"text",prop:"noteqAge",maxlength:"2",label:"年龄",regex:"ONLY_NUMBER",afterTxt:"岁",hidden:!!Object(h["b"])("price.form.employ.noteqAge")||n,disabled:Object(h["a"])("price.form.employ.noteqAge")}]},{span:12,list:[{type:"select",label:"学历",prop:"noteqEdu",placeholder:"请选择",optionList:t.IT_EDUX,hidden:!!Object(h["b"])("price.form.employ.noteqEdu")||n,disabled:Object(h["a"])("price.form.employ.noteqEdu")}]},{span:12,list:[{label:"毕业院校",type:"text",prop:"noteqSchool",hidden:!!Object(h["b"])("price.form.employ.noteqSchool")||n,disabled:Object(h["a"])("price.form.employ.noteqSchool")}]},{span:12,list:[{label:"专业",type:"text",prop:"noteqEduSpec",hidden:!!Object(h["b"])("price.form.employ.noteqEduSpec")||n,disabled:Object(h["a"])("price.form.employ.noteqEduSpec")}]},{span:12,list:[{type:"date",prop:"noteqEduTime",label:"毕业时间",hidden:!!Object(h["b"])("price.form.employ.noteqEduTime")||n,disabled:Object(h["a"])("price.form.employ.noteqEduTime")}]},{span:12,list:[{type:"select",label:"学历性质",prop:"noteqEduType",placeholder:"请选择",optionList:t.IT_EDUN,hidden:!!Object(h["b"])("price.form.employ.noteqEduType")||n,disabled:Object(h["a"])("price.form.employ.noteqEduType")}]},{span:24,list:[{type:"textarea",label:"推荐不一致说明",prop:"noteqRemark",minRows:4,height:"88px",hidden:!!Object(h["b"])("price.form.employ.noteqRemark")||n,disabled:Object(h["a"])("price.form.employ.noteqRemark"),showWordLimit:!0,maxlength:300,placeholder:"因客户方要求本岗位需本科学历及 4 年以上工作 经验，故将员工学历由大专改为本科学历、工作年限由 3 年改为 4 年。"}]}]},F={employType:{required:!0,message:"请输入员工类型",trigger:"change"},employName:{required:!0,message:"请输入员工姓名",trigger:"change"},employSex:{required:!0,message:"请输入员工性别",trigger:"change"},employMobile:{required:!0,validator:P["r"],trigger:"change"},employPidType:{required:!0,message:"请选择证件类型",trigger:"change"},employAge:{required:!0,message:"请输入员工年龄",trigger:"change"},employWorkyear:{required:!0,message:"请输入工作年限",trigger:"change"},employEmailSecret:{required:!0,validator:P["i"],trigger:"blur"},employEdu:{required:!0,message:"请选择学历",trigger:"change"},employEduTime:{required:!0,message:"请选择毕业时间",trigger:"change"},employEduType:{required:!0,message:"请选择学历性质",trigger:"change"},employEduSchool:{required:!0,message:"请输入毕业院校",trigger:"blur"},employEduSpec:{required:!0,message:"请输入专业",trigger:"blur"},employEduVerify:{required:!0,message:"请选择查验结果并上传图片",trigger:"change"},employEduFiles:{required:!0,message:"请上传查验图片",trigger:"change"},pushClientFlag:{required:!0,message:"请选择推送客户方信息是否一致",trigger:"change"},noteqWorkyear:{required:!0,message:"请输入工作年限",trigger:"blur"},noteqAge:{required:!0,message:"请输入年龄",trigger:"blur"},noteqEdu:{required:!0,message:"请选择学历",trigger:"change"},noteqSchool:{required:!0,message:"请输入毕业院校",trigger:"blur"},noteqEduSpec:{required:!0,message:"请输入专业",trigger:"blur"},noteqEduTime:{required:!0,message:"请选择毕业时间",trigger:"change"},noteqEduType:{required:!0,message:"请选择学历性质",trigger:"change"},noteqRemark:{required:!0,message:"请输入推荐不一致说明",trigger:"change"}},N={employType:{required:!0,message:"请输入员工类型",trigger:"change"},employName:{required:!0,message:"请输入员工姓名",trigger:"change"},employSex:{required:!0,message:"请输入员工性别",trigger:"change"},employMobile:{required:!0,validator:P["r"],trigger:"change"},employPidType:{required:!0,message:"请选择证件类型",trigger:"change"},employAge:{required:!0,message:"请输入员工年龄",trigger:"change"},employWorkyear:{required:!0,message:"请输入工作年限",trigger:"change"},employEmailSecret:{required:!0,validator:P["i"],trigger:"blur"},employEdu:{required:!0,message:"请选择学历",trigger:"change"},employEduTime:{required:!0,message:"请选择毕业时间",trigger:"change"},employEduType:{required:!0,message:"请选择学历性质",trigger:"change"},employEduSchool:{required:!0,message:"请输入毕业院校",trigger:"blur"},employEduVerify:{required:!0,message:"请选择查验结果并上传图片",trigger:"change"},employEduFiles:{required:!0,message:"请上传查验图片",trigger:"change"},pushClientFlag:{required:!0,message:"请选择推送客户方信息是否一致",trigger:"change"},noteqWorkyear:{required:!0,message:"请输入工作年限",trigger:"blur"},noteqAge:{required:!0,message:"请输入年龄",trigger:"blur"},noteqEdu:{required:!0,message:"请选择学历",trigger:"change"},noteqSchool:{required:!0,message:"请输入毕业院校",trigger:"blur"},noteqEduTime:{required:!0,message:"请选择毕业时间",trigger:"change"},noteqEduType:{required:!0,message:"请选择学历性质",trigger:"change"},noteqRemark:{required:!0,message:"请输入推荐不一致说明",trigger:"change"}},q=r("dc27"),_=Object(I["a"])("entryCfmSalary"),E=_.mapMutations,x={name:"EmployeeBasicData",components:{zmForm:s["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},jobHistoryData:{type:Array,default:function(){return[]}},createTime:{type:String,default:function(){return""}}},data:function(){return{isIdCard:!1,hiddenFlag:!0,uploadHidden:!1,isNeedSpec:!0}},computed:{formConfig:function(){return this.$store.state.processPermission.processPermissionList.length<1?[]:w(this)},employTypeList:function(){return this.$store.state.baseData.baseDataOptionList.IT_EMTY.slice(0,2)},rules:function(){return this.isNeedSpec?F:N}},watch:{createTime:{handler:function(e){if(e){var t=new Date(2021,3,25,19,0,0).getTime(),r=new Date(e).getTime();console.log("现在的时间戳",t),console.log("流程发起的时间戳",r),console.log("流程发起时间与必填校验开始__时间差",r-t),this.isNeedSpec=!(r-t<=0)}}},"basicFormData.employEduVerify":{handler:function(e){1===Number(e)?this.uploadHidden=!0:this.uploadHidden=!1}},"basicFormData.pushClientFlag":{deep:!0,handler:function(e){1==e?this.hiddenFlag=!0:2==e&&(this.hiddenFlag=!1)}},"basicFormData.employType":{handler:function(e){"IT_EMTY_003"===e&&this.SET_STAFF_TYPE_STATUS(!1)}},"basicFormData.employAge":{handler:function(e){""!==e&&(Number(e)<1||Number(e>99))&&(this.$message.warning("请输入正确的身份证号码"),this.basicFormData.employAge="")}},"basicFormData.employPidSno":{handler:function(e){if(""!==e){var t=/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,r=/^[HM]\d{10}$/,o=/^1[45][0-9]{7}$|(^[P|p|S|s]\d{7}$)|(^[S|s|G|g|E|e]\d{8}$)|(^[Gg|Tt|Ss|Ll|Qq|Dd|Aa|Ff]\d{8}$)|(^[H|h|M|m]\d{8,10}$)/;(t.test(e)||r.test(e)||o.test(e))&&this.getEmployeeHistoryList(this.basicFormData.employPidSno)}}},"basicFormData.employWorkyear":{handler:function(e){Number(e)<0&&this.$set(this.basicFormData,"employWorkyear","")}},"basicFormData.noteqWorkyear":{handler:function(e){Number(e)<0&&this.$set(this.basicFormData,"noteqWorkyear","")}}},mounted:function(){},methods:Object(i["a"])(Object(i["a"])({},E(["SET_STAFF_TYPE_STATUS"])),{},{validWorkYear:function(){},pushClientChange:function(e){1===e&&(this.basicFormData.noteqWorkyear="",this.basicFormData.noteqAge="",this.basicFormData.noteqEdu="",this.basicFormData.noteqSchool="",this.basicFormData.noteqEduSpec="",this.basicFormData.noteqEduTime="",this.basicFormData.noteqEduType="",this.basicFormData.noteqRemark="")},emplySelectChange:function(e){},certificateSelectChange:function(e){this.basicFormData.employPidSno="",this.isIdCard="IT_CARD_002"===e},cdCardBlur:function(e){if(!(e.target.value.length<=9)&&this.isIdCard){var t=e.target.value||"";if(18!==t.length)return;var r=Number(t.slice(6,10)),o=Number(t.slice(10,12)),n=Number(t.slice(12,14)),a=(new Date).getFullYear(),i=(new Date).getMonth()+1,s=(new Date).getDate(),c=null;c=i<=o&&s<n?a-r-1:a-r,this.$set(this.basicFormData,"employAge",c)}},getEmployeeHistoryList:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(q["L"])({employPidNo:e});case 2:o=r.sent,Array.isArray(o)&&t.$emit("update:jobHistoryData",o);case 4:case"end":return r.stop()}}),r)})))()}})},R=x,J=Object(O["a"])(R,D,L,!1,null,"a6e1d27e",null),k=J.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("zm-form",{ref:"laborContractForm",attrs:{formData:e.laborContractData,formConfig:e.formConfig,rules:e.rules,labelWidth:"150px"},on:{jobEntryDateChange:e.jobEntryDateChange}})],1)},A=[],M=function(e){var t=e.$store.state.baseData.baseDataOptionList;return[{span:12,list:[{type:"date",prop:"jobEntryDate",placeholder:"请选择",label:"合同生效日期",changeFn:"jobEntryDateChange",hidden:Object(h["b"])("price.form.employ.jobEntryDate"),disabled:Object(h["a"])("price.form.employ.jobEntryDate")}]},{span:12,list:[{type:"select",label:"合同类型",prop:"contractType",placeholder:"请选择",optionList:t.IT_HRCO,hidden:Object(h["b"])("price.form.employ.contractType"),disabled:Object(h["a"])("price.form.employ.contractType")}]},{span:12,list:[{type:"select",label:"合同期限",prop:"contractLimit",placeholder:"请选择",optionList:t.IT_HRCT,hidden:Object(h["b"])("price.form.employ.contractLimit"),disabled:Object(h["a"])("price.form.employ.contractLimit")}]},{span:12,list:[{type:"select",label:"试用期期限",prop:"contractFreeLimit",placeholder:"请选择",optionList:t.IT_SYQX,hidden:Object(h["b"])("price.form.employ.contractFreeLimit"),disabled:Object(h["a"])("price.form.employ.contractFreeLimit")}]}]},U={jobEntryDate:{required:!0,message:"请选择员工入职日期",trigger:"change"},contractType:{required:!0,message:"请选择劳动合同类型",trigger:"change"},contractLimit:{required:!0,message:"请选择劳动合同期限",trigger:"change"},contractFreeLimit:{required:!0,message:"请选择试用期期限",trigger:"change"}},$={name:"LaborContract",components:{zmForm:s["a"]},props:{laborContractData:{type:Object,default:function(){return[]}}},data:function(){return{rules:U}},computed:{formConfig:function(){return this.$store.state.processPermission.processPermissionList.length<1?[]:M(this)}},mounted:function(){},methods:{jobEntryDateChange:function(e){this.$parent.salaryFormData.moneyStartTime=e}}},H=$,V=Object(O["a"])(H,B,A,!1,null,"201c0918",null),W=V.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"padding-top":"20px"}},[r("div",{staticClass:"pageFormItem"},[r("div",{staticClass:"title"},[e._v("公司岗位")]),r("zm-form",{ref:"companyJob",attrs:{formData:e.JobInfo,formConfig:e.companyFormConfig,rules:e.companyFormRules,labelWidth:"150px"},on:{selectEntryCompany:e.selectEntryCompany,companyJobListChange:e.companyJobListChange}})],1),e.isShowClientJob&&e.isSecondLineStaff?r("div",{staticClass:"pageFormItem"},[r("div",{staticClass:"title"},[e._v("客户方岗位")]),r("zm-form",{ref:"clientJob",attrs:{formData:e.JobInfo,formConfig:e.clientFormConfig,rules:e.clientRules,labelWidth:"150px"},on:{clientCompanyIdRemote:e.clientCompanyIdRemote,contractIdRemote:e.contractIdRemote,clientContractChange:e.clientContractChange,clientPayJobChange:e.clientPayJobChange,clientPayLevelChange:e.clientPayLevelChange,clientCompanyIdChange:e.clientCompanyIdChange,businessPriceChange:e.businessPriceChange}})],1):e._e(),e.isShowSalaryLine?r("div",{staticClass:"pageFormItem"},[r("div",{staticClass:"title"},[e._v("薪资参考线")]),r("zm-form",{ref:"salaryLine",attrs:{formData:e.JobInfo,formConfig:e.salaryFormConfig,rules:e.salaryFormRules,labelWidth:"150px"},on:{bPriceBlur:e.bPriceBlur}})],1):e._e(),r("cc-people-modal",{attrs:{isShowCcModal:e.isShowDeliverModal,isQueryUser:!0,isQueryJfOrZp:!0,roleType:e.roleType},on:{"update:isShowCcModal":function(t){e.isShowDeliverModal=t},"update:is-show-cc-modal":function(t){e.isShowDeliverModal=t},handleConfirm:e.handleDeliverConfirm}})],1)},Q=[],Y=(r("7db0"),r("a434"),r("4360")),G=Y["a"].state.baseData.jobTreeDate,X=function(e){var t=e.$store.state.baseData.baseDataOptionList;return[{span:12,list:[{type:"select",prop:"tbCompanyId",label:"入职公司",placeholder:"请选择",optionList:e.entryCompanyOptionList,changeFn:"selectEntryCompany",hidden:Object(h["b"])("price.form.employ.tbCompanyId"),disabled:Object(h["a"])("price.form.employ.tbCompanyId")}]},{span:12,list:[{type:"cascader",prop:"orgId",label:"所属部门",placeholder:"请选择",optionList:e.orgTreeDataDescByType[0].children||[],checkStrictly:!0,propLabel:"orgName",propValue:"orgId",hidden:Object(h["b"])("price.form.employ.orgId"),disabled:Object(h["a"])("price.form.employ.orgId")}]},{span:12,list:[{type:"select",prop:"offerCity",label:"入职城市",placeholder:"请选择",optionList:t.IT_CITY,changeFn:"selectEntryCompany",hidden:Object(h["b"])("price.form.employ.offerCity"),disabled:Object(h["a"])("price.form.employ.offerCity")}]},{span:12,list:[{type:"text",label:"对应交付",prop:"companyDeliverCn",placeholder:"请选择",disabled:!0,searchBtn:{icon:"el-icon-search",searchBtnCanClick:!Object(h["a"])("price.form.employ.companyDeliver"),changeFn:function(t){e.isShowDeliverModal=!0}},focus:"deliverFocus",hidden:Object(h["b"])("price.form.employ.companyDeliver")}]},{span:12,list:[{type:"cascader",prop:"jobId",label:"公司岗位",placeholder:"请选择",optionList:G,propLabel:"text",propValue:"value",changeFn:"companyJobListChange",hidden:Object(h["b"])("price.form.employ.jobId"),disabled:Object(h["a"])("price.form.employ.jobId")}]},{span:12,list:[{type:"remoteSelect",prop:"companyJobLevel",label:"职级级别",placeholder:"请选择",noRemote:!0,selectOptionList:t[e.jobLevelCode],hidden:Object(h["b"])("price.form.employ.jobId"),disabled:Object(h["a"])("price.form.employ.jobId")}]}]},K={tbCompanyId:{required:!0,message:"请选择入职公司",trigger:"change"},orgId:{required:!0,message:"请选择所属部门",trigger:"change"},jobId:{required:!0,message:"请选择公司岗位",trigger:"change"},offerCity:{required:!0,message:"请选择入职城市"},companyDeliverCn:{required:!0,message:"请选择对应交付"}},Z=function(e){return[{span:12,list:[{type:"remoteSelectLoading",label:"入职客户方",placeholder:"请输入搜索关键字",changeFn:"clientCompanyIdChange",loading:e.entryClientLoading,selectOptionList:e.entryClientList,customOption:{customLabel:"clientCompanyName",customValue:"clientCompanyId"},remoteMethod:"clientCompanyIdRemote",filterable:!0,prop:"clientCompanyId",noMatchText:"查无客户, 请换一个客户名称试试",hidden:Object(h["b"])("price.form.employ.clientCompanyId"),disabled:Object(h["a"])("price.form.employ.clientCompanyId")}]},{span:12,list:[{type:"text",prop:"clientSimpleName",label:"客户简称",placeholder:"自动带出",hidden:Object(h["b"])("price.form.employ.clientSimpleName"),disabled:Object(h["a"])("price.form.employ.clientSimpleName")}]},{span:12,list:[{type:"select",prop:"clientTwoLevelId",label:"客户二级分类",placeholder:"请选择",filterable:!0,optionList:e.ClientTwoLevelList,customOption:{customLabel:"clientTwoLevelName",customValue:"clientTwoLevelId"},rules:[{required:!0,message:"请输入客户二级分类",trigger:"change"}],hidden:Object(h["b"])("price.form.employ.clientTwoLevelName")||!e.ClientTwoLevelList.length>0,disabled:Object(h["a"])("price.form.employ.clientTwoLevelName")}]},{span:12,list:[{type:"remoteSelectLoading",label:"所属客户合同",placeholder:"请输入搜索关键字",loading:e.clientContractLoading,selectOptionList:e.clientContract,changeFn:"clientContractChange",prop:"contractId",filterable:!0,remoteMethod:"contractIdRemote",noMatchText:"查无合同, 请换一个合同名称试试",customOption:{customLabel:"contractName",customValue:"contractId"},hidden:Object(h["b"])("price.form.employ.contractId"),disabled:Object(h["a"])("price.form.employ.contractId")}]},{span:12,list:[{type:"select",prop:"clientPayJob",label:"结算岗位",filterable:!0,changeFn:"clientPayJobChange",placeholder:"请输入搜索关键字",loading:e.payJobLoading,optionList:e.payJobList,hidden:!!Object(h["b"])("price.form.employ.clientPayJob")||e.noJobAndLevel,disabled:Object(h["a"])("price.form.employ.clientPayJob")}]},{span:12,list:[{type:"text",prop:"clientPayJob",label:"结算岗位",placeholder:"请输入",hidden:!!Object(h["b"])("price.form.employ.clientPayJob")||!e.noJobAndLevel,disabled:Object(h["a"])("price.form.employ.clientPayJob")}]},{span:12,list:[{type:"select",prop:"clientPayLevel",changeFn:"clientPayLevelChange",label:"结算职级",placeholder:"请选择",optionList:e.clientPayLevelList,hidden:!!Object(h["b"])("price.form.employ.clientPayLevel")||e.noJobAndLevel,disabled:Object(h["a"])("price.form.employ.clientPayLevel")}]},{span:12,list:[{type:"text",prop:"clientPayLevel",label:"结算职级",placeholder:"请输入",hidden:!!Object(h["b"])("price.form.employ.clientPayLevel")||!e.noJobAndLevel,disabled:Object(h["a"])("price.form.employ.clientPayLevel")}]},{span:12,list:[{type:"text",label:"客户方岗位",prop:"clientJob",placeholder:"请输入",hidden:Object(h["b"])("price.form.employ.clientJob"),disabled:Object(h["a"])("price.form.employ.clientJob")}]}]},ee={clientCompanyId:{required:!0,message:"请选择入职客户方",trigger:"change"},clientSimpleName:{required:!0,message:"请输入客户简称",trigger:"input"},contractId:{required:!0,message:"请选择所属客户合同",trigger:"change"},clientPayJob:{required:!0,message:"请选择结算岗位",trigger:"change"},clientPayLevel:{required:!0,message:"请选择结算职级",trigger:"change"},clientJob:{required:!0,message:"请输入客户方岗位",trigger:"blur"}},te=function(e){console.log("薪资参考线传入that",e);var t=e.$store.state.baseData.baseDataOptionList;return[{span:12,list:[{type:"quotePrice",prop:"businessPrice",offsetBottom:"-17px",width:"80%",unitWidth:"100px",label:"商务报价",afterTxt:"元",placeholder:"请输入",unitOptionList:t.IT_RUIT,unitProp:"contractPriceUnit",tipText:e.rangeTips,blurFn:"bPriceBlur",isShowBottomTip:e.rangeTips&&e.isShowTextInput,hidden:Object(h["b"])("price.form.employ.businessPrice"),disabled:Object(h["a"])("price.form.employ.businessPrice")}]},{span:12,list:[{type:"textBottomTip",prop:"uv",label:"UV值",offsetBottom:"-17px",maxlength:"5",isShowBottomTip:e.isShowUvTip||e.isShowTextInput,tipText:"注意：UV值未自动带出，此处为手动填写，深户请减去500元",regex:"ONLY_NUMBER",hidden:Object(h["b"])("price.form.employ.uv"),disabled:!!Object(h["a"])("price.form.employ.uv")||!e.isShowTextInput}]},{span:12,list:[{type:"textBottomTip",label:"CV值",offsetBottom:"-17px",placeholder:"请输入",isShowBottomTip:e.isShowCvTip||e.isShowTextInput,tipText:"注意：CV值未自动带出，此处为手动填写",regex:"ONLY_NUMBER",maxlength:"5",prop:"cv",hidden:Object(h["b"])("price.form.employ.cv"),disabled:!!Object(h["a"])("price.form.employ.cv")||!e.isShowTextInput}]},{span:12,list:[{type:"select",label:"是否含税",placeholder:"请选择",prop:"isHasTax",optionList:[{text:"是",value:"TRUE"},{text:"否",value:"FALSE"}],hidden:!!Object(h["b"])("price.form.employ.isHasTax")||!("IT_QTTP_003"===e.contractPriceType||"IT_QTTP_004"===e.contractPriceType),disabled:!!Object(h["a"])("price.form.employ.isHasTax")||!e.isShowTextInput}]},{span:12,list:[{type:"number",label:"薪酬倍数",placeholder:"请输入",prop:"salaryTimes",precision:2,max:10,hidden:!!Object(h["b"])("price.form.employ.salaryTimes")||!("IT_QTTP_004"===e.contractPriceType),disabled:!!Object(h["a"])("price.form.employ.salaryTimes")||!e.isShowTextInput}]}]},re={businessPrice:[{required:!0,message:"请输入商务报价",trigger:"blur"},{validator:P["j"],trigger:"blur"}],uv:{required:!0,message:"请输入UV值",trigger:"blur"},cv:{required:!0,message:"请输入CV值",trigger:"blur"},salaryTimes:{required:!0,message:"请输入薪酬倍数",trigger:"blur"},isHasTax:{required:!0,message:"请选择是否含税",trigger:"change"}},oe={businessPrice:[{required:!0,message:"请输入商务报价",trigger:"blur"},{validator:P["j"],trigger:"blur"}]},ne=["price.form.employ.clientCompanyId","price.form.employ.contractId","price.form.employ.clientPayJob","price.form.employ.clientJob"],ae=["price.form.employ.uv","price.form.employ.cv"],ie=r("35ad"),se=r("470f"),ce=r("2b6d"),le=r("f6b0"),ue=r("f889"),pe=r("7ded"),me=r("e55b"),de={name:"ClientInfo",components:{zmForm:s["a"],ccPeopleModal:se["a"]},props:{JobInfo:{type:Object,default:function(){return{}}},allComponentsLabel:{type:Object,default:function(){return{}}},currentNodeName:{type:String,default:""},isNoUvCv:{type:Object,default:function(){return{}}}},data:function(){return{isShowUvTip:!1,isShowCvTip:!1,isShowClientJob:!1,isShowSalaryLine:!1,salaryFormRules:{},clientJobPmsArr:ne,salaryLInePmsArr:ae,clientRules:ee,entryClientList:[],clientContract:[],clientContractLoading:!1,entryClientLoading:!1,payJobLoading:!1,payJobList:[],companyFormRules:K,entryCompanyOptionList:[],companyJobsList:[],companyJobsLoading:!1,clientPayLevelList:[],businessQuoteList:[],currentContract:{},contractQuoteInfo:{},companyTreeList:[],isShowTextInput:!1,isMuchUvCvData:!1,currentUvCvData:{},jobLevelCode:"",rangeTips:"",noJobAndLevel:!1,isQuoteCity:"",isFP:!1,ClientTwoLevelList:[],contractPriceType:"",isShowDeliverModal:!1,roleType:"交付",getPriceFlag:!1}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(I["e"])("entryCfmSalary",["isSecondLineStaff"])),{},{canGetPrice:function(){return this.clientContract.length&&this.JobInfo.contractId},contractContentType:function(){return this.$store.state.baseData.baseDataOptionList.IT_CTCT},employType:function(){return this.$parent.basicFormData.employType},clientFormConfig:function(){return this.$store.state.processPermission.processPermissionList.length<1?[]:Z(this)},companyFormConfig:function(){return this.$store.state.processPermission.processPermissionList.length<1?[]:X(this)},salaryFormConfig:function(){return this.$store.state.processPermission.processPermissionList.length<1?[]:te(this)}},Object(I["e"])("baseData",["orgTreeData","orgTreeDataDescByType","jobTreeDate"])),Object(I["e"])("processPermission",["processPermissionList"])),{},{cityId:function(){return this.JobInfo.offerCity},educationId:function(){return this.$parent.processFormParams.employEdu},isHasGetCurrentUvCvData:function(){return this.currentUvCvData.lineMainId&&this.currentUvCvData.version},isCallStationLevelBusinessUv:function(){return console.log("有合同&岗位&职级才查询商务报价",this.JobInfo.contractId&&this.JobInfo.clientPayJob&&this.JobInfo.clientPayLevel),this.JobInfo.contractId&&this.getPriceFlag&&this.JobInfo.clientPayJob&&this.JobInfo.clientPayLevel},hrssKey:function(){return this.$parent.salaryFormData.hrssKey},canSetClientSimpleName:function(){return this.entryClientList.length&&this.JobInfo.clientCompanyId},canSetUVCVdisabled:function(){return this.clientContract.length&&this.JobInfo.contractId}}),mounted:function(){this.getAllInitializeData()},watch:{canSetClientSimpleName:{handler:function(e){var t=this;if(e){var r=this.entryClientList.find((function(e){return e.clientCompanyId==t.JobInfo.clientCompanyId}));this.JobInfo.clientSimpleName=r&&r.clientSimpleName}}},employType:{handler:function(e){console.log("员工类型为： 一线员工-FP吗",e),"IT_EMTY_002"==e?(this.salaryFormRules=oe,this.noJobAndLevel=!0):this.salaryFormRules=re}},"JobInfo.jobId":{handler:function(e){if(console.log("入职定薪jobIdchange",e),e)if(Array.isArray(e))this.jobLevelCode=Object(me["b"])(e);else{var t=Object(me["a"])(this.jobTreeDate,e);console.log("入职定薪jobId",t),this.$set(this.JobInfo,"jobId",t),this.jobLevelCode=Object(me["b"])(t)}},immediate:!0},"JobInfo.orgId":{handler:function(e){var t=this;if(e){var r=Array.isArray(e)?e[e.length-1]:e;Object(ce["j"])({orgId:r}).then((function(e){if(t.entryClientList=Array.isArray(e)&&e,t.JobInfo.clientCompanyId){var r=t.entryClientList.find((function(e){return e.clientCompanyId===t.JobInfo.clientCompanyId}));t.$set(t.allComponentsLabel,"clientCompanyIdCn",r.clientCompanyName)}}))}},immediate:!0},"JobInfo.clientCompanyId":{handler:function(e){var t=this;if(e){var r=Array.isArray(this.JobInfo.orgId)?this.JobInfo.orgId[this.JobInfo.length-1]:this.JobInfo.orgId;r&&Object(ie["t"])({companyId:e,keyword:"",orgId:r}).then((function(e){console.log(e,"查询所有合同信息",t.contractContentType),t.clientContract=e.map((function(e){var r=Object(g["e"])(t.contractContentType,e.contractContentType);return{contractName:"".concat(e.contractName,"(").concat(r,") ").concat(e.contractId),contractId:e.contractId,contractContentType:e.contractContentType}}))})),Object(le["q"])({clientCompanyId:e}).then((function(e){t.ClientTwoLevelList=e}))}else this.isShowTextInput=!1,this.JobInfo.contractId=""}},"JobInfo.contractId":{handler:function(e){}},canSetUVCVdisabled:{handler:function(e){console.log("客户合同watch：",e);var t=this.clientContract.find((function(t){return t.contractId==e})),r=t.contractContentType;this.isShowTextInput="IT_CTCT_004"===r||"IT_CTCT_005"===r}},canGetPrice:{handler:function(e){var t=this;if(e){console.log("先调是否按城市报价111111111");var r=this.clientContract.find((function(e){return e.contractId==t.JobInfo.contractId})),o=r.contractContentType;if("IT_CTCT_004"===o||"IT_CTCT_005"===o)return void(this.noJobAndLevel=!0);this.getContractPriceResult(this.JobInfo.contractId),this.queryContractPrice(this.JobInfo.contractId)}}},"JobInfo.clientPayJob":{handler:function(e){if(this.isShowTextInput||!e)e||(this.JobInfo.clientPayLevel="");else this.currentUvCvData.lineMainId,this.currentUvCvData.version}},"JobInfo.clientPayLevel":{handler:function(e){if(this.isShowTextInput||!e)e||(this.JobInfo.businessPrice="");else this.currentUvCvData.lineMainId,this.currentUvCvData.version,this.JobInfo.clientPayJob,this.JobInfo.clientPayLevel}},"JobInfo.businessPrice":{handler:function(e){!this.isShowTextInput&&e||e||(this.JobInfo.cv=0,this.JobInfo.uv="")}},isCallStationLevelBusinessUv:{handler:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e&&(console.log("再查商务报价222222222222"),t.queryBnsPrice());case 1:case"end":return r.stop()}}),r)})))()}},"JobInfo.cv":{handler:function(e){e&&this.currentNodeName.includes("020")&&this.isShowTextInput&&(this.JobInfo.cv=0)}},isShowTextInput:{handler:function(e){e&&this.currentNodeName.includes("020")&&(this.JobInfo.cv=0)}},processPermissionList:{deep:!0,handler:function(e){e.length>0&&(this.isShowClientJob=Object(h["c"])(this.clientJobPmsArr),this.isShowSalaryLine=Object(h["c"])(this.salaryLInePmsArr))}},"JobInfo.tbCompanyId":{handler:function(e){if(e&&!(this.entryCompanyOptionList.length<1)){var t=this.entryCompanyOptionList.find((function(t){return t.value===e}));this.$set(this.allComponentsLabel,"tbCompanyIdCn",t)}}}},methods:{getUvCv:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={cityId:e.cityId,contractId:e.JobInfo.contractId,customerId:e.JobInfo.clientCompanyId,education:!0===e.isQuoteByEdu?e.educationId:void 0,level:e.JobInfo.clientPayLevel,quotedPrice:e.JobInfo.businessPrice,station:e.JobInfo.clientPayJob},t.next=3,Object(ue["o"])(r);case 3:o=t.sent,n=o.head,a=o.body,"0000"===n.code?(e.isNoUvCv.notGetJobOrUv=!1,(e.currentNodeName.includes("020")||e.currentNodeName.includes("030")||e.currentNodeName.includes("040")||e.currentNodeName.includes("050")||e.currentNodeName.includes("055"))&&"B0BD374F9FA2000"===e.hrssKey?(e.$set(e.JobInfo,"uv",a.uvSpeValue-500),e.$set(e.JobInfo,"cv",a.cvSpeValue-500),console.log("uv cv值减500了")):(e.$set(e.JobInfo,"uv",a.uvSpeValue),e.$set(e.JobInfo,"cv",a.cvSpeValue))):(e.isShowTextInput=!0,e.isNoUvCv.notGetJobOrUv=!0);case 7:case"end":return t.stop()}}),t)})))()},deliverFocus:function(){this.isShowDeliverModal=!0},handleDeliverConfirm:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.JobInfo.companyDeliver=e.value,console.log("选择交付：",e,t.JobInfo.companyDeliver),console.log("选择的交付发生变化：",e),!e.value){r.next=9;break}return r.next=6,Object(pe["c"])(e.value);case 6:o=r.sent,n=o.userInfo,t.$set(t.JobInfo,"companyDeliverCn","[".concat(n.loginName,"] ").concat(n.userName));case 9:case"end":return r.stop()}}),r)})))()},bPriceBlur:function(e){console.log(e);var t=e.target.value;this.taxQuotationLeft&&this.taxQuotationRight&&(t<this.taxQuotationLeft||t>this.taxQuotationRight)&&(e.target.value="",this.$message.warning("该商务报价不在区间报价范围内"))},getContractPriceResult:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,n,a,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(ie["s"])({contractId:e});case 2:o=r.sent,n=o.isEdu,a=o.isCity,i=o.priceType,s=o.ruleUnit,t.getPriceFlag=!0,t.$set(t.JobInfo,"contractPriceUnit",s),t.isQuoteByEdu=n,t.isQuoteCity=a,t.contractPriceType=i,null===i?t.$message.warning("请完善合同报价信息"):t.noJobAndLevel="IT_QTTP_003"===i||"IT_QTTP_004"===i;case 13:case"end":return r.stop()}}),r)})))()},queryBnsPrice:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o,n,a,i,s,c,l,u,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$store.state.baseData.baseDataOptionList.IT_CITY.filter((function(t){return t.value===e.cityId})),o=r[0]&&r[0].text+"市",n=e.$store.state.baseData.baseDataOptionList.IT_EDUX.filter((function(t){return t.value===e.educationId})),a=n[0]&&n[0].text,console.log(a,o,"教育是否都能够匹配"),i={eduCn:e.isQuoteByEdu?a:"",cityCn:e.isQuoteCity?o:"",contractId:e.JobInfo.contractId,jobCn:e.JobInfo.clientPayJob,jobLevel:e.JobInfo.clientPayLevel},t.next=8,Object(ie["g"])(i);case 8:s=t.sent,c=s.priceType,l=s.taxQuotation,u=s.taxQuotationLeft,p=s.taxQuotationRight,"IT_QTTP_001"===c?(e.rangeTips="",l?(e.isNoUvCv.notGetJobOrUv=!1,e.JobInfo.businessPrice=l,e.getUvCv(),e.isShowTextInput=!1):(e.currentNodeName.includes("020")&&e.$message.warning("此结算岗位结算职级没有对应的商务报价，请选择正确的结算岗位和结算职级"),e.isShowTextInput=!0,e.isNoUvCv.notGetJobOrUv=!0)):(e.isShowTextInput=!0,e.isNoUvCv.notGetJobOrUv=!0,"IT_QTTP_002"===c?u&&p?(e.taxQuotationLeft=u,e.taxQuotationRight=p,e.rangeTips="区间报价为".concat(u,"--").concat(p,",请填写实际商务报价。")):(e.currentNodeName.includes("020")&&e.$message.warning("此结算岗位结算职级没有对应的商务报价，请选择正确的结算岗位和结算职级"),e.rangeTips=""):"IT_QTTP_004"===c&&(e.noJobAndLevel=!0));case 14:case"end":return t.stop()}}),t)})))()},companyJobListChange:function(){this.JobInfo.companyJobLevel=""},getAllInitializeData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(C["r"])({});case 2:r=t.sent,e.entryCompanyOptionList=Array.isArray(r.result)&&r.result.map((function(e){return{text:e.tbCompanyName,value:e.tbCompanyId}})),e.entryCompanyOptionList.forEach((function(t,r){"B06A562E9463000"===t.value&&e.entryCompanyOptionList.splice(r,1)})),console.log("删除2020.10月以前公司列表",e.entryCompanyOptionList),e.JobInfo.tbCompanyId&&(o=e.entryCompanyOptionList.find((function(t){return t.value===e.JobInfo.tbCompanyId})).text,e.$set(e.allComponentsLabel,"tbCompanyIdCn",o));case 7:case"end":return t.stop()}}),t)})))()},selectEntryCompany:function(e){},queryContractPrice:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(ie["r"])({contractId:e});case 2:o=r.sent,o&&o.length?(t.$set(t.JobInfo,"contractPriceUnit",o[0]&&o[0].ruleUnit),o.forEach((function(e){"IT_DMST_003"===e.value?t.payJobList=e.optionList:"IT_DMST_004"===e.value&&(t.clientPayLevelList=e.optionList)}))):t.isShowTextInput=!0;case 4:case"end":return r.stop()}}),r)})))()},getBusinessQuote:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(ie["o"])(e);case 2:o=r.sent,t.businessQuoteList=Array.isArray(o.body.dataList)&&o.body.dataList.map((function(e){return{text:e,value:e}}));case 4:case"end":return r.stop()}}),r)})))()},clientCompanyIdRemote:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.entryClientLoading=!0,t.JobInfo.orgId){r.next=3;break}return r.abrupt("return");case 3:return o=t.JobInfo.orgId,n=Array.isArray(o)?o[o.length-1]:o,a={orgId:n,clientCompanyName:e},r.next=8,Object(ce["j"])(a);case 8:i=r.sent,t.entryClientLoading=!1,t.entryClientList=Array.isArray(i)&&i;case 11:case"end":return r.stop()}}),r)})))()},contractIdRemote:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.JobInfo.clientCompanyId&&t.JobInfo.orgId){r.next=2;break}return r.abrupt("return");case 2:return o=t.JobInfo.orgId,n=Array.isArray(o)?o[o.length-1]:o,r.next=6,Object(ie["t"])({companyId:t.JobInfo.clientCompanyId,keyword:e,orgId:n});case 6:a=r.sent,t.clientContract=Array.isArray(a)&&a;case 8:case"end":return r.stop()}}),r)})))()},clientContractChange:function(e){this.JobInfo.clientPayJob=""},clientPayJobChange:function(e){this.JobInfo.clientPayLevel=""},clientPayLevelChange:function(e){this.JobInfo.businessPrice=""},clientCompanyIdChange:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.JobInfo.contractId="",t.JobInfo.clientTwoLevelId="",!e){r.next=11;break}return o=t.entryClientList.find((function(t){return t.clientCompanyId==e})),t.JobInfo.clientSimpleName=o.clientSimpleName,r.next=7,Object(le["q"])({clientCompanyId:e});case 7:n=r.sent,t.ClientTwoLevelList=n,r.next=17;break;case 11:t.JobInfo.clientSimpleName="",t.JobInfo.clientTwoLevelId="",t.ClientTwoLevelList=[],t.JobInfo.clientPayJob="",t.JobInfo.clientPayLevel="",t.JobInfo.clientJob="";case 17:case"end":return r.stop()}}),r)})))()},businessPriceChange:function(e){this.JobInfo.cv="",this.JobInfo.uv=""}}},ye=de,he=(r("c44e"),Object(O["a"])(ye,z,Q,!1,null,"1f27d010",null)),be=he.exports,fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("zm-form",{ref:"salaryInfoForm",attrs:{formData:e.salaryFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"150px"},on:{hrssPayChange:e.hrssPayChange,contractFreeMoneyBlurChange:e.contractFreeMoneyBlurChange,contractMoneyBlurChange:e.contractMoneyBlurChange,hrssRuleChange:e.hrssRuleChange,salaryValidTimeChange:e.salaryValidTimeChange}})],1)},ge=[],Ce=r("ade3"),Ie=(r("b680"),function(e){var t=e.$store.state.baseData.baseDataOptionList||{};return[{span:12,list:[{type:"number",prop:"contractMoney",label:"转正月薪",blurFn:"contractMoneyBlurChange",isShowBottomTip:e.isShowPositiveTip,isLeft:!0,tipText:"转正月薪大于 CV 值，需要到事业部总监和财务中心万总审 批",precision:2,max:99999,hidden:Object(h["b"])("price.form.employ.contractMoney"),disabled:Object(h["a"])("price.form.employ.contractMoney")}]},{span:12,list:[{type:"number",prop:"contractFreeMoney",label:"试用期月薪",blurFn:"contractFreeMoneyBlurChange",isShowBottomTip:e.isShowProbationTip,tipText:e.contractFreeMoneyTip,max:99999,precision:2,hidden:Object(h["b"])("price.form.employ.contractFreeMoney"),disabled:Object(h["a"])("price.form.employ.contractFreeMoney")}]},{span:12,list:[{type:"radioGroup",label:"是否有年终奖",prop:"yearMoney",optionList:[{text:"是",value:1},{text:"否",value:2}],hidden:Object(h["b"])("price.form.employ.yearMoney"),disabled:Object(h["a"])("price.form.employ.yearMoney")}]},{span:12,list:[{type:"date",label:"薪资生效时间",prop:"moneyStartTime",changeFn:"salaryValidTimeChange",hidden:Object(h["b"])("price.form.employ.moneyStartTime"),disabled:!0}]},{span:12,list:[{type:"select",label:"社保缴纳城市",prop:"hrssCity",optionList:t.IT_CITY,hidden:Object(h["b"])("price.form.employ.hrssCity")||e.isShowHrss,disabled:Object(h["a"])("price.form.employ.hrssCity")}]},{span:12,list:[{type:"explainSelect",label:"社保缴纳方式",prop:"hrssPayType",optionList:t.IT_SBPA,changeFn:"hrssPayChange",width:"92%",tipContent:"新社保基数(常用)：默认，非特殊情况请勿修改，新入职员工通用的规则，公式：(薪资-3000)/100+3000; \n 基本：某城市设置的最低社保标准，例如深圳2200元；\n 全额缴纳：按照实际薪资(转正月薪)和设定的参保基数进行计算；\n 薪资百分比：转正月薪*百分比，根据设定的参保基数进行计算；\n 其他：特殊情况，手工输入金额；",hidden:Object(h["b"])("price.form.employ.hrssPayType")||e.isShowHrss,disabled:Object(h["a"])("price.form.employ.hrssPayType")}]},{span:12,list:[{type:"select",label:"社保参保规则",prop:"hrssRule",optionList:e.insuredRulesList,changeFn:"hrssRuleChange",hidden:Object(h["b"])("price.form.employ.hrssRule")||e.isShowHrss,disabled:Object(h["a"])("price.form.employ.hrssRule")}]},{span:12,list:[{type:"text",label:"社保缴纳百分比",prop:"hrssScale",maxlength:2,afterTxt:"%",hidden:!!Object(h["b"])("price.form.employ.hrssScale")||!e.isPercentType,disabled:Object(h["a"])("price.form.employ.hrssScale")}]},{span:12,list:[{type:"text",label:"社保缴纳说明",prop:"hrssRemark",hidden:!!Object(h["b"])("price.form.employ.hrssRemark")||!e.isPercentType,disabled:Object(h["a"])("price.form.employ.hrssRemark")}]},{span:12,list:[{type:"text",label:"社保公司承担成本",prop:"hrssCompanyCost",maxlength:4,regex:"ONLY_NUMBER",hidden:Object(h["b"])("price.form.employ.hrssCompanyCost")||e.isShowHrss,disabled:!!Object(h["a"])("price.form.employ.hrssCompanyCost")||(e.isBasicType||e.isFullType||e.isPercentType||e.isNewSbType)}]},{span:12,list:[{type:"text",label:"公积金公司承担成本",prop:"gjjCompanyCost",regex:"ONLY_NUMBER",maxlength:4,hidden:Object(h["b"])("price.form.employ.gjjCompanyCost")||e.isShowHrss,disabled:!!Object(h["a"])("price.form.employ.gjjCompanyCost")||(e.isBasicType||e.isFullType||e.isPercentType||e.isNewSbType)}]},{span:12,list:[{type:"text",label:"其他缴纳说明",prop:"otherHrssRemark",hidden:!!Object(h["b"])("price.form.employ.otherHrssRemark")||!e.isOtherType,disabled:Object(h["a"])("price.form.employ.otherHrssRemark")}]}]}),ve=function(e){return{contractMoney:{required:!0,message:"请输入转正月薪",trigger:"blur"},contractFreeMoney:{required:!0,message:"请输入试用期月薪",trigger:"blur"},yearMoney:{required:!0,message:"请选择是否有年终奖",trigger:"change"},moneyStartTime:{required:!0,message:"请选择生效时间",trigger:"change"},hrssCity:{required:!0,message:"请选择社保缴纳城市",trigger:"change"},registeredType:{required:!0,message:"请选择户口类型",trigger:"change"},hrssPayType:{required:!0,message:"请选择社保缴纳方式",trigger:"change"},hrssRule:{required:!0,message:"请选择社保参保规则",trigger:"change"},hrssScale:{required:!0,message:"请输入社保缴纳百分比",trigger:"blur"},hrssRemark:{required:!0,message:"请输入社保缴纳说明",trigger:"blur"},hrssCompanyCost:{required:e.isCostRulesRequired,message:"请输入社保公司承担成本",trigger:"change"},gjjCompanyCost:{required:e.isCostRulesRequired,message:"请输入公积金公司承担成本",trigger:"change"},otherHrssRemark:{required:!0,message:"请输入其他缴纳说明",trigger:"change"}}},Te=r("565e"),Oe={name:"Recruitment",components:{zmForm:s["a"]},props:{salaryFormData:{type:Object,default:function(){return{}}}},data:function(){return{hukouType:[{text:"dfjdklsfj",value:11}],insuredRulesList:[],isPercentType:!1,isOtherType:!1,isFullType:!1,isBasicType:!1,isNewSbType:!1,isShowPositiveTip:!1,isShowProbationTip:!1,contractFreeMoneyTip:"",isStopCalc:!1,isCostRulesRequired:!1,isShowHrss:!1}},computed:{formConfig:function(){return this.$store.state.processPermission.processPermissionList.length<1?[]:Ie(this)},rules:function(){return ve(this)},canGetHrssKey:function(){return this.salaryFormData.hrssRule&&this.insuredRulesList.length},contractType:function(){return this.$parent.laborContractData.contractType}},mounted:function(){},methods:{salaryValidTimeChange:function(e){this.$parent.laborContractData.jobEntryDate=e},hrssRuleChange:function(e){},contractMoneyBlurChange:function(){this.salaryFormData.contractMoney&&this.$set(this.salaryFormData,"contractFreeMoney",.8*this.salaryFormData.contractMoney)},hrssPayChange:function(e){"IT_SBPA_001"===e?(this.isBasicType=!0,this.isOtherType=!1,this.isNewSbType=!1,this.isFullType=!1,this.isPercentType=!1,this.isCostRulesRequired=!1,this.$set(this.salaryFormData,"hrssScale","")):"IT_SBPA_002"===e?(this.isFullType=!0,this.isOtherType=!1,this.isNewSbType=!1,this.isBasicType=!1,this.isPercentType=!1,this.isCostRulesRequired=!1,this.$set(this.salaryFormData,"hrssScale","")):"IT_SBPA_003"===e?(this.isPercentType=!0,this.isOtherType=!1,this.isNewSbType=!1,this.isFullType=!1,this.isBasicType=!1,this.isCostRulesRequired=!1,this.salaryFormData.hrssCompanyCost="",this.salaryFormData.gjjCompanyCost=""):"IT_SBPA_004"===e?(this.isOtherType=!0,this.isFullType=!1,this.isNewSbType=!1,this.isBasicType=!1,this.isPercentType=!1,this.isCostRulesRequired=!0,this.salaryFormData.hrssCompanyCost="",this.salaryFormData.gjjCompanyCost="",this.$set(this.salaryFormData,"hrssScale","")):"IT_SBPA_005"===e?(this.isNewSbType=!0,this.isOtherType=!1,this.isBasicType=!1,this.isPercentType=!1,this.isFullType=!1,this.isCostRulesRequired=!1,this.$set(this.salaryFormData,"hrssScale","")):(this.isOtherType=!1,this.isBasicType=!1,this.isPercentType=!1,this.isFullType=!1,this.isNewSbType=!0,this.isCostRulesRequired=!1)},getSocialSecurityRulesList:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(Te["a"])(e);case 2:o=r.sent,Array.isArray(o)&&(t.insuredRulesList=o.map((function(e){return{text:e.protectName,value:e.protectId,versionKey:e.versionKey}})));case 4:case"end":return r.stop()}}),r)})))()},getgetSbGjjCompanyCost:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(Te["b"])(e);case 2:o=r.sent,t.$set(t.salaryFormData,"hrssCompanyCost",o.protectAmount),t.$set(t.salaryFormData,"gjjCompanyCost",o.publicFundAmount);case 5:case"end":return r.stop()}}),r)})))()},contractFreeMoneyBlurChange:function(){this.isStopCalc=!0}},watch:Object(Ce["a"])({contractType:{handler:function(e){"IT_HRCO_003"==e?(this.isShowHrss=!0,this.salaryFormData.hrssPayType=""):this.isShowHrss=!1}},canGetHrssKey:{handler:function(e){var t=this;if(e){var r=this.insuredRulesList.find((function(e){return e.value===t.salaryFormData.hrssRule}));if(!r)return;r.versionKey&&(this.salaryFormData.hrssKey=r.versionKey),console.log("salaryFormData.hrssRule",r)}},immediate:!0},"salaryFormData.contractFreeMoney":{handler:function(e){if(e/.8>this.salaryFormData.contractMoney){this.isShowProbationTip=!0;var t=100*(Number(e)/Number(this.salaryFormData.contractMoney)).toFixed(2);this.contractFreeMoneyTip="注意: 试用期按".concat(t,"%定薪, 需要到事业部总监审批")}}},"salaryFormData.hrssPayType":{deep:!0,handler:function(e){"IT_SBPA_001"===e?(this.isBasicType=!0,this.isOtherType=!1,this.isNewSbType=!1,this.isFullType=!1,this.isPercentType=!1,this.isCostRulesRequired=!1):"IT_SBPA_002"===e?(this.isFullType=!0,this.isOtherType=!1,this.isNewSbType=!1,this.isBasicType=!1,this.isPercentType=!1,this.isCostRulesRequired=!1):"IT_SBPA_003"===e?(this.isPercentType=!0,this.isOtherType=!1,this.isNewSbType=!1,this.isFullType=!1,this.isBasicType=!1,this.isCostRulesRequired=!1):"IT_SBPA_004"===e?(this.isOtherType=!0,this.isFullType=!1,this.isNewSbType=!1,this.isBasicType=!1,this.isPercentType=!1,this.isCostRulesRequired=!0):"IT_SBPA_005"===e?(this.isNewSbType=!0,this.isOtherType=!1,this.isBasicType=!1,this.isPercentType=!1,this.isFullType=!1,this.isCostRulesRequired=!1):(this.isOtherType=!1,this.isBasicType=!1,this.isPercentType=!1,this.isFullType=!1,this.isNewSbType=!0,this.isCostRulesRequired=!1)},immediate:!0},salaryFormData:{deep:!0,handler:function(e){if(e.hrssCity){var t={protectCity:e.hrssCity};this.getSocialSecurityRulesList(t)}if("IT_SBPA_004"!==e.hrssPayType&&e.hrssCity&&e.hrssPayType&&e.hrssRule){var r={payMethod:e.hrssPayType,price:this.salaryFormData.contractMoney,protectId:this.salaryFormData.hrssRule};if("IT_SBPA_003"===e.hrssPayType){if(!e.hrssScale)return;r.percent=e.hrssScale}this.getgetSbGjjCompanyCost(r)}},immediate:!0}},"salaryFormData.contractFreeMoney",{handler:function(e){e&&this.salaryFormData.contractMoney&&Number(e)>Number(this.salaryFormData.contractMoney)&&(console.log(e,this.salaryFormData.contractMoney,"试用期月薪是否大于转正月薪"),this.$message.warning("试用期月薪不能大于转正月薪"),this.salaryFormData.contractFreeMoney="")}})},je=Oe,Se=Object(O["a"])(je,fe,ge,!1,null,"9b6054e8",null),De=Se.exports,Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"uploadWrap",staticStyle:{"margin-bottom":"20px"}},[e.isDetails?e._e():r("el-upload",{class:["upload-demo",!!e.isShowErrClass&&"is-error"],attrs:{action:e.fileLoadUrl,"show-file-list":!1,name:"files",multiple:"","on-success":e.uploadFileSuccess,"before-upload":e.beforeUpload,"on-error":e.uploadFileError,limit:100}},[e.hasBtnPmsCodeList.includes("price.append.plugins.add")?r("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"14px"}},[e._v("* "),r("span",{staticStyle:{color:"#333333","font-size":"14px","font-weight":"bold"}},[e._v("简历附件")])]):e._e(),e.hasBtnPmsCodeList.includes("price.append.plugins.add")?r("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"small",type:"primary"}},[e._v("上传简历附件")]):e._e(),e.hasBtnPmsCodeList.includes("price.append.plugins.add")?r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 支持上文件格式pdf,doc,docx,jpg,png,rar,zip，文件大小不超过10M. ")]):e._e()],1)],1),r("zm-table",{staticStyle:{width:"100%"},attrs:{border:"",tableData:e.uploadTableData,columns:e.uploadColumns,isShowPagenation:!1}})],1)},Pe=[],we=(r("b0c0"),function(e){return[{label:"序号",type:"index",fixed:"left",width:"50px"},{label:"文件名称",prop:"fileName"},{label:"上传人",prop:"createorName"},{label:"文件大小",prop:"fileSize"},{label:"上传时间",prop:"uploadTime"},{label:"操作",kind:"render",render:function(t,r){return t("div",[t("span",{style:{color:"#078bfd",cursor:"pointer",marginRight:"10px"},on:{click:function(){e.viewContract(r)}}},"预览"),t("span",{style:{color:"#078bfd",cursor:"pointer",marginRight:"10px"},on:{click:function(){e.downloadContract(r)}}},"下载"),e.hasBtnPmsCodeList.includes("price.append.plugins.del")?t("span",{style:{color:"#078bfd",cursor:"pointer"},on:{click:function(){e.deleteUploadFile(r)}}},"删除"):""])}}]}),Fe={name:"UploadFile",components:{zmTable:c["a"]},props:{uploadTableData:{type:Array,default:function(){return[]}},isDetails:{type:Boolean,default:!1},isShowErrClass:{type:Boolean,default:!0}},data:function(){return{fileLoadUrl:"https://www.tobowork.com/api/tobosoft-toms/strato/cloud/file/contract/toms-1255586777/upload"}},computed:Object(i["a"])(Object(i["a"])({},Object(I["e"])("processPermission",["hasBtnPmsCodeList"])),{},{uploadColumns:function(){return we(this)}}),methods:{uploadFileSuccess:function(e,t,r){var o="[".concat(this.$store.state.user.userInfo.loginName,"] ").concat(this.$store.state.user.userInfo.userName),n=e[0].uploadTime;this.uploadTableData.push({createorName:o,fileId:e[0].fileId,fileSize:(Number(e[0].fileSize)/1024).toFixed(2)+"kb",fileName:e[0].originName,uploadTime:n,filePath:e[0].filePath}),this.$message.success(t.name+"上传成功")},beforeUpload:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1),r="pdf"===t,o="doc"===t,n="docx"===t,a="jpg"===t,i="png"===t,s="rar"===t,c="zip"===t,l=e.size/1024/1024<10;return r||o||n||a||i||s||c||this.$message({message:"上传文件只能是 pdf,doc,docx,jpg,png,rar,zip格式!",type:"warning"}),l||this.$message({message:"上传文件大小不能超过 10MB!",type:"warning"}),(r||o||n||a||i||s||c)&&l},uploadFileError:function(e,t){this.$message.error(t.name+"上传失败")},viewContract:function(e){var t=e.row.fileId,r="https://www.tobowork.com//api/tobosoft-toms/cos/file/view/"+t;window.open(r)},downloadContract:function(e){var t=e.row.fileId,r="https://www.tobowork.com//api/tobosoft-toms/cos/file/download/"+t,o=document.createElement("a");o.setAttribute("download",e.row.fileName),o.href=r,document.body.appendChild(o),o.click(),o.remove()},deleteUploadFile:function(e){var t=e.$index;this.uploadTableData.splice(t,1)}}},Ne=Fe,qe=Object(O["a"])(Ne,Le,Pe,!1,null,"d7cef3e4",null),_e=qe.exports,Ee=r("0df0"),xe=r("292d"),Re=r("fc50"),Je=r("d3b1"),ke=r("075e"),Be=r("78cb"),Ae=r("b116"),Me=r("6401"),Ue=r("45df"),$e=r("a23b"),He=r("8239"),Ve=(r("ac1f"),r("1276"),function(e){return[{name:"基本信息",navId:0,hidden:e.isShowBasicInfo},{name:"招聘人信息",navId:1,hidden:e.isShowRecruitmentInfo},{name:"员工基本信息",navId:2,hidden:e.isShowEmployeeInfo},{name:"劳动合同",navId:3,hidden:e.isShowLaborInfo},{name:"岗位信息",navId:4,hidden:e.isShowJobInfo},{name:"薪酬信息",navId:5,hidden:e.isShowSalaryInfo},{name:"招聘人意见",navId:6,hidden:e.isShowRevruiterInfo},{name:"简历附件",navId:7,hidden:e.isShowResume},{name:"在职历史",navId:8,hidden:e.isShowOnJobHistory},{name:"流程信息",navId:9,hidden:e.isShowProcessInfo}]}),We=["基本信息","招聘人信息","员工信息","劳动合同","公司岗位","客户方岗位","薪资参考线","薪资信息","招聘人意见","简历附件","在职历史","流程信息"],ze={basicPmsCode:["price.form.base.taskName","price.form.base.creatorName","price.form.base.flowName","price.form.base.currentNode"],recruitmentPmsCode:["price.form.hr.channelType","price.form.hr.channelName","price.form.hr.recruitOrgName","price.form.hr.recruitUserName"],employeePmsCode:["price.form.employ.employType","price.form.employ.employName","price.form.employ.employSex","price.form.employ.employMobile","price.form.employ.employPidType","price.form.employ.employPidSno","price.form.employ.employAge","price.form.employ.employWorkyear","price.form.employ.employEmailSecret","price.form.employ.employWechat","price.form.employ.employEdu","price.form.employ.employEduTime","price.form.employ.employEduType","price.form.employ.employEduSchool","price.form.employ.employEduVerify","price.form.employ.employEduFiles","price.form.employ.pushClientFlag","price.form.employ.noteqWorkyear","price.form.employ.noteqAge","price.form.employ.noteqEdu","price.form.employ.noteqSchool","price.form.employ.noteqEduTime","price.form.employ.noteqEduType","price.form.employ.noteqRemark"],laborPmsCode:["price.form.employ.jobEntryDate","price.form.employ.contractType","price.form.employ.contractLimit","price.form.employ.contractFreeLimit"],jobInfoPmsCode:["price.form.employ.tbCompanyId","price.form.employ.orgId","price.form.employ.jobId","price.form.employ.workCity","price.form.employ.clientCompanyId","price.form.employ.contractId","price.form.employ.clientPayJob","price.form.employ.clientPayLevel","price.form.employ.clientJob","price.form.employ.uv","price.form.employ.cv"],salaryPmsCode:["price.form.employ.contractMoney","price.form.employ.contractFreeMoney","price.form.employ.yearMoney","price.form.employ.moneyStartTime","price.form.employ.hrssCity","price.form.employ.registeredType","price.form.employ.hrssPayType","price.form.employ.hrssRule","price.form.employ.hrssScale","price.form.employ.hrssRemark","price.form.employ.otherHrssRemark","price.form.employ.hrssCompanyCost","price.form.employ.gjjCompanyCost"]},Qe=function(e){return[{span:24,list:[{type:"textarea",prop:"hrRemark",label:"招聘人意见",placeholder:" 1. 上家工作单位: ***; \n 2. 情况说明：***;",minRows:4,showWordLimit:!0,height:"100px",disabled:Object(h["a"])("price.form.employ.hrRemark")}]}]},Ye={hrRemark:{required:!0,message:"请输入招聘人意见"}},Ge=function(e){return[{label:"员工工号/姓名",prop:"employName"},{label:"原归属部门",prop:"orgId"},{label:"入职日期",prop:"contractStartTime",kind:"render",render:function(e,t){return e("span",t.row.contractStartTime&&t.row.contractStartTime.split("T")[0])}},{label:"离职日期",prop:"contractLeaveTime",kind:"render",render:function(e,t){return e("span",t.row.contractLeaveTime&&t.row.contractLeaveTime.split("T")[0])}},{label:"离职原因",prop:"contractLeaveCause"}]},Xe=r("1619"),Ke=r("d14b"),Ze={name:"EntryCfmSalary",components:{operationBtn:m["a"],zmForm:s["a"],zmTable:c["a"],processInfo:p["a"],basicProcessInfo:u["a"],RecruitmentInfo:S,employeeInfo:k,LaborContract:W,JobInfo:be,SalaryInfo:De,resumeUpload:_e,previewModal:l["a"],processBasicDetails:Ee["a"],basicDetails:xe["a"],recruitmentDetails:Re["a"],laborContractDetails:Je["a"],companyJob:ke["a"],clientJob:Be["a"],salaryLine:Ae["a"],salaryInfoDetails:Me["a"],peopleAdvice:Ue["a"],resumeInfo:$e["a"],jobHistory:He["a"]},data:function(){return Object(i["a"])(Object(i["a"])({processListItemInfo:{}},ze),{},{isShowBasicInfo:!0,isShowRecruitmentInfo:!0,isShowEmployeeInfo:!0,isShowLaborInfo:!0,isShowJobInfo:!0,isShowSalaryInfo:!0,isShowRevruiterInfo:!0,isShowResume:!0,isShowOnJobHistory:!0,isShowProcessInfo:!0,isShowErrClass:!0,isBackNode:!1,allBtnList:[],navListOfDetails:We,navFlag:0,isOpenModal:!1,entryProcessImage:r("4a0d"),basicProcessData:{taskName:"",flowName:"",launchPeople:"",nodeName:""},recruitmentData:{recruitUserid:"",recruitOrgid:""},basicFormData:{employWorkyear:"",age:"",employEduFiles:"",pushClientFlag:"",employEmailSecret:"",employMobile:"",employPidType:"",employPidSno:""},laborContractData:{contractLimit:"IT_HRCT_003",contractFreeLimit:"IT_SYQX_003",jobEntryDate:""},JobInfo:{contractId:"",companyJobLevel:"",offerCity:""},salaryFormData:{gjjCompanyCost:"",hrssCompanyCost:"",hrssPayType:"IT_SBPA_005",hrssKey:"",moneyStartTime:""},recruiterFormData:{},recruiterRules:Ye,jobHistoryColumns:Ge(this),jobHistoryData:[],uploadTableData:[],taskFlowConfig:{},taskNodeInstance:{},taskInstance:{},aprvData:{auditType:"IT_RWSP_001",breakType:"",auditDesc:"",breakDesc:"",backType:"",backNodeId:""},currenFlowInfo:{},componentRefs:[{isHasSon:!0,ref:"recruitmentForm"},{isHasSon:!0,ref:"employeeInfoForm"},{isHasSon:!0,ref:"laborContractForm"},{isHasSon:!0,ref:"jobInfoForm",list:["companyJob","clientJob","salaryLine"]},{isHasSon:!0,ref:"salaryInfoForm"},{isHasSon:!1,ref:"revruiterAdForm"}],allComponentsLabel:{},isFirstSubmitProcess:!0,isDraftNode:!1,isNoUvCv:{notGetJobOrUv:""},processCreateTime:""})},inject:["reload"],beforeRouteEnter:function(e,t,r){e.query.taskObj?r((function(e){e.isEditProcess&&(e.getProcessDetails(),e.taskInstance.creatorId=e.userInfo.userId,e.CHANGE_EDIT_PROCESS_STATUS(!1))})):r((function(e){e.isInitProcess&&(e.reload(),console.log(e.reload,"this.reload触发了"),e.CHANGE_PROCESS_STATUS(!1))}))},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(I["e"])("baseData",["baseDataOptionList","orgTreeData"])),Object(I["e"])("user",["userInfo"])),Object(I["e"])("processPermission",["buttonPermissionList","formPermissionList","hasFormPmsCodeList","hasBtnPmsCodeList"])),Object(I["e"])("entryCfmSalary",["isInitProcess","isEditProcess"])),{},{isShowProcessInfoComputed:function(){return!!this.isShowProcessInfo&&(!this.isDraftNode&&!this.$route.query.objStr)},navList:function(){return Ve(this)},processFormParams:function(){var e=Object.assign({},this.recruitmentData,this.basicFormData,this.laborContractData,this.JobInfo,this.salaryFormData,this.recruiterFormData);return e.orgId=Array.isArray(e.orgId)?e.orgId[e.orgId.length-1]:e.orgId,e.recruitOrgid=Array.isArray(e.recruitOrgid)?e.recruitOrgid[e.recruitOrgid.length-1]:e.recruitOrgid,e.jobId=Array.isArray(e.jobId)?e.jobId[e.jobId.length-1]:e.jobId,e},prepareCmtParams:function(){var e={city:this.JobInfo.offerCity,orgId:Array.isArray(this.JobInfo.orgId)?this.JobInfo.orgId[this.JobInfo.orgId.length-1]:this.JobInfo.orgId};return e},recruiterFormConfig:function(){return Qe(this)},previewData:function(){var e=Object.assign({},this.processFormParams,this.basicProcessData,this.allComponentsLabel);return e.channelTypeCn=Object(Xe["getBaseDataLabel"])(e.channelType),e.recruitOrgidCn=e.recruitOrgid&&Object(g["m"])(this.orgTreeData,e.recruitOrgid,"orgId","orgName"),e.employTypeCn=Object(Xe["getBaseDataLabel"])(e.employType),e.employSexCn=Object(Xe["getBaseDataLabel"])(e.employSex),e.employPidTypeCn=Object(Xe["getBaseDataLabel"])(e.employPidType),e.employEduCn=Object(Xe["getBaseDataLabel"])(e.employEdu),e.noteqEduCn=Object(Xe["getBaseDataLabel"])(e.noteqEdu),e.noteqEduTypeCn=Object(Xe["getBaseDataLabel"])(e.noteqEduType),e.contractTypeCn=Object(Xe["getBaseDataLabel"])(e.contractType),e.contractLimitCn=Object(Xe["getBaseDataLabel"])(e.contractLimit),e.contractFreeLimitCn=Object(Xe["getBaseDataLabel"])(e.contractFreeLimit),e.orgIdCn=e.orgId&&Object(g["m"])(this.orgTreeData,e.orgId,"orgId","orgName"),e.jobIdCn=Object(Xe["getBaseDataLabel"])(e.jobId),e},isRepeatLaunchProcess:function(){return this.basicFormData.employName&&this.basicFormData.employMobile&&this.basicFormData.employPidSno&&this.basicFormData.employEmailSecret}}),watch:{"currenFlowInfo.taskFlowNodeConfig.nodeName":{handler:function(e){e&&this.$route.query.taskObj&&(e.includes("010")?this.$set(this.aprvData,"auditType","IT_RWSP_005"):this.$set(this.aprvData,"auditType","IT_RWSP_001"))},immediate:!0},hasFormPmsCodeList:{deep:!0,handler:function(e){e.length>0&&(this.isShowBasicInfo=Object(h["c"])(this.basicPmsCode),this.isShowRecruitmentInfo=Object(h["c"])(this.recruitmentPmsCode),this.isShowEmployeeInfo=Object(h["c"])(this.employeePmsCode),this.isShowLaborInfo=Object(h["c"])(this.laborPmsCode),this.isShowJobInfo=Object(h["c"])(this.jobInfoPmsCode),this.isShowSalaryInfo=Object(h["c"])(this.salaryPmsCode),this.isShowRevruiterInfo=this.hasFormPmsCodeList.includes("price.form.employ.hrRemark"),this.isShowResume=this.hasBtnPmsCodeList.includes("price.append.plugins"),this.isShowOnJobHistory=this.hasFormPmsCodeList.includes("price.form.employ.offerHistory"),this.isShowProcessInfo=this.hasFormPmsCodeList.includes("price.form.flow.recordInfo"))}},"basicProcessData.nodeName":{handler:function(e){e&&(e.includes("010")?this.isShowErrClass=!0:this.isShowErrClass=!1)}},isRepeatLaunchProcess:{deep:!0,handler:function(e){var t=this;if(""!==this.basicFormData.employName&&""!==this.basicFormData.employEmailSecret&&/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.basicFormData.employEmailSecret)&&""!==this.basicFormData.employPidSno&&""!==this.basicFormData.employMobile&&!(this.basicFormData.employMobile&&this.basicFormData.employMobile.length<11)&&this.basicFormData.employName&&this.basicFormData.employMobile){if(!this.basicProcessData.nodeName)return;if(this.basicProcessData.nodeName.includes("010")){var r=this.$route.query.taskObj,o={};if(r&&(o=JSON.parse(decodeURIComponent(r))),console.log(o,"执行了吗"),!this.isBackNode||"IT_RUNS_001"===o.runStatus){var n={empName:this.basicFormData.employName,flowName:"员工定薪流程",phoneNo:this.basicFormData.employMobile,email:this.basicFormData.employEmailSecret||"",pidNo:this.basicFormData.employPidSno||""};Object(q["g"])(n).then((function(e){t.isFirstSubmitProcess="200"===e.code,t.isFirstSubmitProcess||t.$message.warning("员工定薪流程已经发起，请勿重新发起流程。")}))}}}}},"processListItemInfo.runStatus":{handler:function(e){console.log(e,"草稿？"),"IT_RUNS_001"===e?(this.isDraftNode=!0,console.log(this.isBackNode,"是true还是false")):this.isDraftNode=!1}}},created:function(){this.getProcessInitInfo(),this.getProcessDetails(),this.taskInstance.creatorId=this.userInfo.userId},mounted:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(I["d"])("entryCfmSalary",["CHANGE_PROCESS_STATUS","CHANGE_EDIT_PROCESS_STATUS"])),{},{customValidate:function(){var e=!0;return this.uploadTableData.length<1?e=!1:this.isFirstSubmitProcess||(e=!1),e},getProcessInitInfo:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.query.objStr){t.next=12;break}return r=JSON.parse(decodeURIComponent(e.$route.query.objStr)),o=r.flowName,n=r.version,t.next=5,Object(Ke["i"])({flowName:o,version:String(n)});case 5:a=t.sent,e.taskFlowConfig=a.taskFlowConfig,e.taskNodeInstance.currentNode=a.taskFlowNodeConfig.nodeId,e.basicProcessData.launchPeople="[".concat(e.userInfo.loginName,"] ").concat(e.userInfo.userName),e.basicProcessData.flowName=a.taskFlowConfig.flowName||"",e.basicProcessData.nodeName=a.taskFlowNodeConfig.nodeName,e.$store.dispatch("processPermission/getProcessPermissionList",a.taskFlowNodeConfig.nodeId);case 12:case"end":return t.stop()}}),t)})))()},getOrgTreeData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(C["z"])({});case 2:r=t.sent,e.orgTreeData=e.deleteChildren(r);case 4:case"end":return t.stop()}}),t)})))()},getProcessDetails:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.$route.query.taskObj,!r){t.next=28;break}return o=JSON.parse(decodeURIComponent(r)),e.taskFlowConfig.flowName=o.flowName,e.taskFlowConfig.version=o.version,t.next=7,Object(Ke["p"])({taskInstanceId:o.taskInstanceId,taskFlowConfig:{flowName:o.flowName,version:o.version},taskNodeInstance:o});case 7:n=t.sent,e.$store.dispatch("processPermission/getProcessPermissionList",n.taskFlowNodeConfig.nodeId),e.currenFlowInfo=n,e.isBackNode=!0,e.processListItemInfo=o,e.taskInstance=n.taskInstance,e.taskNodeInstance=n.taskNodeInstance,e.processCreateTime=n.taskInstance.creatorTime,console.log(e.processCreateTime,"流程发起"),e.basicProcessData.launchPeople="[".concat(n.creatorNo,"] ").concat(n.taskInstance.creatorName),e.basicProcessData.flowName=n.taskFlowConfig.flowName||"",e.basicProcessData.nodeName=n.taskFlowNodeConfig.nodeName,e.basicProcessData.taskName=n.taskInstance.taskName,a=n.relatedObject||{},e.recruitmentData={recruitUserid:a.recruitUserid||"",recruitOrgid:a.recruitOrgid||"",channelType:a.channelType||"",channelName:a.channelName||""},e.basicFormData={age:a.age||"",employEduFiles:a.employEduFiles||"",employType:a.employType||"",employName:a.employName||"",employSex:a.employSex||"",employMobile:a.employMobile||"",employPidType:a.employPidType||"",employPidSno:a.employPidSno||"",employAge:a.employAge||"",employWorkyear:a.employWorkyear||"",employEmailSecret:a.employEmailSecret||"",employWechat:a.employWechat||"",employEdu:a.employEdu||"",employEduTime:a.employEduTime||"",employEduType:a.employEduType||"",employEduSchool:a.employEduSchool||"",pushClientFlag:Number(a.pushClientFlag)||"",employEduVerify:Number(a.employEduVerify)||"",noteqWorkyear:a.noteqWorkyear||"",noteqAge:a.noteqAge||"",noteqEdu:a.noteqEdu||"",noteqSchool:a.noteqSchool||"",noteqEduTime:a.noteqEduTime||"",noteqEduType:a.noteqEduType||"",noteqRemark:a.noteqRemark||"",priceId:a.priceId,employEduSpec:a.employEduSpec||"",noteqEduSpec:a.noteqEduSpec||""},e.laborContractData={jobEntryDate:a.jobEntryDate||"",contractType:a.contractType||"",contractLimit:a.contractLimit||"",contractFreeLimit:a.contractFreeLimit||""},e.JobInfo={companyJobLevel:a.companyJobLevel||"",tbCompanyId:a.tbCompanyId||"",orgId:a.orgId||"",jobId:a.jobId||"",clientCompanyId:a.clientCompanyId||"",clientTwoLevelId:a.clientTwoLevelId||"",contractId:a.contractId||"",clientPayJob:a.clientPayJob||"",clientJob:a.clientJob||"",uv:a.uv||"",cv:a.cv||"",businessPrice:a.businessPrice||"",clientPayLevel:a.clientPayLevel||"",offerCity:a.offerCity||"",clientSimpleName:a.clientSimpleName||"",isHasTax:a.isHasTax||"",salaryTimes:a.salaryTimes||"",companyDeliver:a.companyDeliver||"",companyDeliverCn:a.companyDeliverCn||""},e.salaryFormData={contractMoney:a.contractMoney||"",contractFreeMoney:a.contractFreeMoney||"",yearMoney:Number(a.yearMoney)||"",moneyStartTime:a.moneyStartTime||"",hrssCity:a.hrssCity||"",registeredType:a.registeredType||"",hrssPayType:a.hrssPayType||"",hrssRule:a.hrssRule||"",otherHrssRemark:a.otherHrssRemark||"",hrssCompanyCost:a.hrssCompanyCost||"",gjjCompanyCost:a.gjjCompanyCost||""},e.recruiterFormData={hrRemark:a.hrRemark||""},e.uploadTableData=n.taskFileDTOS||[];case 28:case"end":return t.stop()}}),t)})))()},navChange:function(e){this.navFlag=e;var t=document.querySelector("#nav".concat(e));t&&t.scrollIntoView()},openPreviewModal:function(){this.isOpenModal=!0},testAddInfo:function(){this.recruitmentData={recruitUserid:"A96B9A25F549000",recruitOrgid:"AA115F3175D0000",channelType:"IT_CHAN_001",channelName:"BOSS直聘"},this.basicFormData={age:21,employEduFiles:"http://10.0.7.12/api/tobosoft-toms/cos/file/view/8192D01420BF493191750B51C5E4DD10",employType:"IT_EMTY_004",employName:"姜通",employSex:"IT_SEXX_001",employMobile:"13537787685",employPidType:"IT_CARD_002",employPidSno:"411527199901223534",employAge:"21",employWorkyear:"10",employEmailSecret:"626104624@qq.com",employWechat:"xtt525812a",employEdu:"IT_EDUX_001",employEduTime:"2020-11-29",employEduType:"IT_EDUN_007",employEduSchool:"清华职业技术学员",pushClientFlag:2,employEduVerify:3,noteqWorkyear:"11",noteqAge:"25",noteqEdu:"IT_EDUX_001",noteqSchool:"哈弗",noteqEduTime:"2020-11-29",noteqEduType:"IT_EDUN_001",noteqRemark:"因客户方的需要，所以将信息变更如上。"},this.laborContractData={jobEntryDate:"2020-11-29",contractType:"IT_HRCO_001",contractLimit:"IT_HRCT_002",contractFreeLimit:"IT_SYQX_001"},this.JobInfo={tbCompanyId:"AA0E4E5A51D6000",orgId:"AAC87262D4D1000",jobId:"IT_JOBS_012",clientCompanyId:"TB-CO020-006",contractId:"TOBO-WB-20201026-006",clientPayJob:"IT_JOBS_001",clientJob:"高级工程师",uv:"20000",cv:"22000"},this.salaryFormData={contractMoney:"20000",contractFreeMoney:"18000",yearMoney:1,moneyStartTime:"2020-11-30",hrssCity:"IT_CITY_001",registeredType:"IT_ACOT_003",hrssPayType:"IT_SBPA_002",hrssRule:"234",otherHrssRemark:"协商缴纳全额",hrssCompanyCost:1e3,gjjCompanyCost:2e3},this.recruiterFormData={hrRemark:"上家工作单： 腾讯\n是个人才。"},this.uploadTableData=[]}})},et=Ze,tt=(r("4e35"),Object(O["a"])(et,o,n,!1,null,"f9f9dba4",null));t["default"]=tt.exports},c44e:function(e,t,r){"use strict";r("1d4c")},e55b:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return l}));r("7db0"),r("99af"),r("fb6a"),r("159b");var o=r("ed08"),n=r("4360"),a=n["a"].state.baseData.orgTreeData,i=n["a"].state.baseData.jobTreeDate;function s(e,t){var r=[],o=function t(o,n){for(var a=0;a<o.length;a++){var i=o[a];if(i.value===n){r.push(i.extra1),r.push(n),t(e,i.parentId);break}i.children&&t(i.children,n)}};return o(e,t),r}function c(e){if(e){var t="",r=i.find((function(t){return t.value===e[0]})),o=r.children.find((function(t){return t.value===e[1]}));return t=o.extra2,t}}function l(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=p(e,a),n=m(Object(o["a"])(a));if(r){if(r.parentId){var i=u(r.parentId,n).reverse().concat([r.orgId]);return t?i:i.slice(1,i.length+1)}return[r.orgId]}}function u(e,t){var r=[];function o(e,t){t.forEach((function(n){e===n.orgId&&e===n.orgId&&(r.push(n.orgId),o(n.parentId,t))}))}return o(e,t),r}function p(e,t){var r=null;function o(t){t.forEach((function(t){if(e===t.orgId)return r=t;t.children&&t.children.length>0&&o(t.children)}))}return o(t),r}function m(e){var t=[];Object(o["a"])(e);function r(e){e.forEach((function(e){t.push(e),e.children&&e.children.length>0&&(r(e.children),delete e.children)}))}return r(e),t}},f6b0:function(e,t,r){"use strict";r.d(t,"l",(function(){return n})),r.d(t,"k",(function(){return a})),r.d(t,"a",(function(){return i})),r.d(t,"g",(function(){return s})),r.d(t,"m",(function(){return c})),r.d(t,"n",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"o",(function(){return p})),r.d(t,"p",(function(){return m})),r.d(t,"d",(function(){return d})),r.d(t,"w",(function(){return y})),r.d(t,"e",(function(){return h})),r.d(t,"t",(function(){return b})),r.d(t,"c",(function(){return f})),r.d(t,"h",(function(){return g})),r.d(t,"f",(function(){return C})),r.d(t,"s",(function(){return I})),r.d(t,"r",(function(){return v})),r.d(t,"v",(function(){return T})),r.d(t,"x",(function(){return O})),r.d(t,"j",(function(){return j})),r.d(t,"u",(function(){return S})),r.d(t,"q",(function(){return D}));var o=r("b775");function n(e){return Object(o["a"])({url:"/business/client/queryClientCompanyList",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/business/client/queryClientCompanyInfo",method:"post",params:e})}function i(e){return Object(o["a"])({url:"/business/client/saveOrUpdateClientCompany",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/business/client/removeClientCompany",method:"post",params:e})}function c(e){return Object(o["a"])({url:"/business/contract/queryContractListByClientId",method:"post",params:e})}function l(e){return Object(o["a"])({url:"/business/contract/queryContractCompanyListByClientId",method:"post",params:e})}function u(e){return Object(o["a"])({url:"/business/client/checkReClientCompanyInfo",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/business/client/queryClientCompanyWorkplaceListByClientCompanyId",method:"post",params:e})}function m(e){return Object(o["a"])({url:"/business/scope/queryClientOrgList",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/business/scope/createClientOrg",method:"post",data:e})}function y(e){return Object(o["a"])({url:"/business/scope/updateClientOrg",method:"post",data:e})}function h(e){return Object(o["a"])({url:"/business/scope/createContractOrg",method:"post",data:e})}function b(e){return Object(o["a"])({url:"/business/scope/queryContractOrgListById",method:"post",params:e})}function f(e){return Object(o["a"])({url:"/business/scope/closeClientOrg",method:"post",params:e})}function g(e){return Object(o["a"])({url:"/business/scope/deleteContractOrg",method:"post",params:e})}function C(e){return Object(o["a"])({url:"/business/scope/deleteClientOrg",method:"post",params:e})}function I(e){return Object(o["a"])({url:"/business/scope/queryContractOrgList",method:"post",data:e})}function v(e){return Object(o["a"])({url:"/business/clientlevel/queryClientTwoLevelList",method:"post",data:e})}function T(e){return Object(o["a"])({url:"/business/clientlevel/save",method:"post",data:e})}function O(e){return Object(o["a"])({url:"/business/clientlevel/update",method:"post",data:e})}function j(e){return Object(o["a"])({url:"/business/clientlevel/detail",method:"post",data:e})}function S(e){return Object(o["a"])({url:"/business/clientlevel/remove",method:"post",data:e})}function D(e){return Object(o["a"])({url:"/business/clientlevel/queryClientTwoLevelBySelect",method:"post",data:e})}},f889:function(e,t,r){"use strict";r.d(t,"k",(function(){return n})),r.d(t,"s",(function(){return a})),r.d(t,"t",(function(){return i})),r.d(t,"i",(function(){return s})),r.d(t,"g",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return p})),r.d(t,"h",(function(){return m})),r.d(t,"c",(function(){return d})),r.d(t,"p",(function(){return y})),r.d(t,"m",(function(){return h})),r.d(t,"n",(function(){return b})),r.d(t,"o",(function(){return f})),r.d(t,"j",(function(){return g})),r.d(t,"q",(function(){return C})),r.d(t,"b",(function(){return I})),r.d(t,"u",(function(){return v})),r.d(t,"l",(function(){return T})),r.d(t,"r",(function(){return O})),r.d(t,"d",(function(){return j}));r("99af");var o=r("b775");function n(e){return Object(o["a"])({url:"/salary/salaryLineSet/querySalaryLineList",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/salary/salaryLineSet/saveCommitData",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/salary/salaryLineSet/queryForDetail?salaryLineMainId=".concat(e.salaryLineMainId),method:"post"})}function s(e){return Object(o["a"])({url:"/salary/salaryLineSet/queryForVersion?lineMainId=".concat(e.lineMainId),method:"post"})}function c(e){return Object(o["a"])({url:"/salary/salaryLineSet/queryByLineMainIdAndVersion?lineMainId=".concat(e.lineMainId,"&version=").concat(e.version),method:"post"})}function l(e){return Object(o["a"])({url:"/business/client/queryClientCompayByName?clinetName=".concat(e.clinetName),method:"post"})}function u(e){return Object(o["a"])({url:"/business/contract/queryContractByClientCompanyId?clientCompanyId=".concat(e.clientCompanyId),method:"post"})}function p(e){return Object(o["a"])({url:"/salary/salaryLineSet/addOrUpdateSalaryLineInfo",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/salary/salaryLineSet/queryForEdit?lineMainId=".concat(e.lineMainId),method:"post"})}function d(e){return Object(o["a"])({url:"/salary/salaryLineSet/deleteById?lineMainId=".concat(e.lineMainId),method:"post"})}function y(e){return Object(o["a"])({url:"/salary/salaryLineSet/queryUvCvByContract",method:"post",data:e})}function h(e){return Object(o["a"])({url:"/salary/salaryLineSet/queryByLineMainIdAndVersion?lineMainId=".concat(e.lineMainId,"&version=").concat(e.version),method:"post"})}function b(e){return Object(o["a"])({url:"/salary/salaryLineSet/queryByStation?lineMainId=".concat(e.lineMainId,"&station=").concat(e.station,"&version=").concat(e.version),method:"post"})}function f(e){return Object(o["a"])({url:"/salary/salaryLineSet/queryUvCv",method:"post",data:e})}function g(e){return Object(o["a"])({url:"/salary/queryForObject",method:"post",data:e})}function C(e){return Object(o["a"])({url:"/salary/salaryInfoAdd",method:"post",data:e})}function I(e){return Object(o["a"])({url:"/salary/deleteById?salaryId=".concat(e.salaryId),method:"post"})}function v(e){return Object(o["a"])({url:"/salary/exprotExcel",method:"post",data:e})}function T(e){return Object(o["a"])({url:"/salary/queryDetail?salaryId=".concat(e.salaryId),method:"post"})}function O(e){return Object(o["a"])({url:"/salary/updateSalaryInfo",method:"post",data:e})}function j(e){return Object(o["a"])({headers:{"Content-Type":"multipart/form-data"},url:"/salary/importExcel",method:"post",data:e})}}}]);