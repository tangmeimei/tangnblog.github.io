(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39291135"],{"3f6e":function(t,e,a){},"5bec":function(t,e,a){"use strict";a("3f6e")},"9fec":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toms-container"},[a("div",{staticClass:"toms-add-navBar"},[t._l(t.navList,(function(e){return[a("div",{key:e.navId,class:{current:t.navFlag===e.navId},on:{click:function(a){return t.navChange(e.navId)}}},[t._v(" "+t._s(e.name)+" ")])]}))],2),a("div",{staticClass:"searchWrap"},[a("el-form",{ref:"form",attrs:{inline:!0,model:t.form,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"岗位查询"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:t.form.jobInput,callback:function(e){t.$set(t.form,"jobInput",e)},expression:"form.jobInput"}})],1),a("el-form-item",[a("el-button",{on:{click:function(e){return t.onReset()}}},[t._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSearch(t.form.jobInput)}}},[t._v("查询")])],1)],1)],1),a("div",{staticClass:"toms-detail-contentWrap"},[a("div",{staticClass:"detailsContent"},[a("div",{staticClass:"title",attrs:{id:"nav0"}},[a("span",[t._v("基本信息")]),a("div",{staticClass:"versionSelect"},[a("el-select",{attrs:{placeholder:"请选择版本号"},on:{change:t.getSalaryLineEachVersion},model:{value:t.versionShow,callback:function(e){t.versionShow=e},expression:"versionShow"}},t._l(t.versionOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),a("div",{staticClass:"detailsItem"},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("客户全称")]),a("div",{staticClass:"value"},[t._v(t._s(t.basicFormData.customerId||"--"))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("城市")]),a("div",{staticClass:"value"},[t._v(t._s(t.basicFormData.cityId||"--"))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("合同名称")]),a("div",{staticClass:"value"},[t._v(t._s(t.basicFormData.contractId||"--"))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("是否按学历报价")]),a("div",{staticClass:"value"},[t._v(t._s(t.basicFormData.isEduPriceFlag||"--"))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("学历报价类型")]),a("div",{staticClass:"value"},[t._v(t._s(t.basicFormData.education||"--"))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("主题")]),a("div",{staticClass:"value"},[t._v(t._s(t.basicFormData.priceTopic||"--"))])])])]),a("div",{staticClass:"detailsContent"},[t._m(0),a("div",{staticClass:"formItem"},[a("zm-table",{staticStyle:{width:"100%"},attrs:{border:"",tableData:t.tableData,columns:t.UVcolumns,isShowPagenation:!1,"empty-text":"还未导入薪资线(UV、CV值)数据哦，请上传文件~"}})],1)])]),a("div",{staticClass:"toms-add-submitForm"},[a("div",{staticClass:"item submit",on:{click:t.closePage}},[t._v("关闭")])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title",attrs:{id:"nav1"}},[a("span",[t._v("薪资线")])])}],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("d81d"),a("c91b")),c=(a("bf3e"),a("8cc7")),l=a("a1b3"),u=a("5130"),v=(a("3881"),function(t){return[{name:"基本信息",navId:0,hidden:!1},{name:"薪资线",navId:1,hidden:!1}]}),d=["基本信息","薪资线"],m=function(t){return[{label:"序号",type:"index",width:"50px",fixed:"left"},{label:"岗位",prop:"station",fixed:"left"},{label:"结算级别",prop:"settleLevel",fixed:"left"},{label:"商务报价(".concat(t.basicFormData.settleWay,")"),prop:"quotedPrice"},{label:"UV指定值",prop:"uvSpeValue"},{label:"CV指定值",prop:"cvSpeValue"}]},f=a("2f62"),b=(a("ed08"),a("d14b"),a("a417"),a("f889")),p=(a("ba0f"),{name:"EntryCfmSalary",components:{zmForm:o["a"],zmTable:c["a"],basicData:l["a"],salaryline:u["a"]},data:function(){return{allBtnList:[],navListOfDetails:d,navFlag:0,basicFormData:{},detailList:[],versionShow:"",versionOptions:[],version:"",lineMainId:"",form:{jobInput:""},tableData:[]}},inject:["reload"],computed:{navList:function(){return v(this)},UVcolumns:function(){return m(this)}},watch:{},created:function(){var t=this.$route.query.basicFormData;if(t){var e=JSON.parse(decodeURIComponent(t));this.lineMainId=e.lineMainId,this.version=e.version,this.getSalaryLineDetail(e.lineMainId,e.version),this.getSalaryLineVersion(e.lineMainId)}},methods:Object(r["a"])(Object(r["a"])({},Object(f["d"])("entryCfmSalary",["CHANGE_PROCESS_STATUS","CHANGE_EDIT_PROCESS_STATUS"])),{},{getSalaryLineVersion:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={lineMainId:t},a.next=3,Object(b["i"])(n);case 3:i=a.sent,console.log("queryForSalaryLineVersion",i),"0000"===i.head.code&&(e.versionOptions=i.body.dataList.map((function(t){return{value:t.version,lable:t.version}})));case 6:case"end":return a.stop()}}),a)})))()},getSalaryLineEachVersion:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.form.jobInput="",e.version=t,n={lineMainId:e.lineMainId,version:t},a.next=5,Object(b["g"])(n);case 5:i=a.sent,console.log("queryForSalaryLineEachVersion",i),"0000"===i.head.code&&e.getBasicInfoAct(i.body);case 8:case"end":return a.stop()}}),a)})))()},getSalaryLineDetail:function(t,e){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={lineMainId:t,version:e},n.next=3,Object(b["m"])(i);case 3:s=n.sent,a.getBasicInfoAct(s.body);case 5:case"end":return n.stop()}}),n)})))()},getBasicInfoAct:function(t){this.basicFormData=Object(r["a"])({},t.salaryLineSetBaseInfo),this.tableData=t.detailList},navChange:function(t){this.navFlag=t;var e=document.querySelector("#nav".concat(t));e&&e.scrollIntoView()},onSearch:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={lineMainId:e.lineMainId,version:e.version,station:t},a.next=3,Object(b["n"])(n);case 3:i=a.sent,e.tableData=i.uvCvSalaryLineSetDetailVOS;case 5:case"end":return a.stop()}}),a)})))()},onReset:function(){this.form.jobInput="",this.onSearch(this.form.jobInput)},closePage:function(){var t=this;console.log("关闭页面");var e=this.$route;this.$confirm("是否确认关闭?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.dispatch("tagsView/delView",e).then((function(e){e.visitedViews;t.$router.push("/salaryModule/salaryLineSetting")}))}))}})}),h=p,C=(a("5bec"),a("2877")),S=Object(C["a"])(h,n,i,!1,null,"4c5cc192",null);e["default"]=S.exports}}]);