(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be7a9cf6"],{"3b78":function(t,e,a){},"3d3e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.queryListData,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"操作人员",prop:"keyword"}},[a("el-input",{attrs:{maxlength:"50",placeholder:"请输入操作人员",clearable:""},model:{value:t.queryListData.loginName,callback:function(e){t.$set(t.queryListData,"loginName",e)},expression:"queryListData.loginName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"系统模块",prop:"keyword"}},[a("el-input",{attrs:{maxlength:"50",placeholder:"请输入系统模块",clearable:""},model:{value:t.queryListData.module,callback:function(e){t.$set(t.queryListData,"module",e)},expression:"queryListData.module"}})],1)],1)],1),a("div",{staticClass:"right-btn"},[a("el-button",{staticClass:"but-91",on:{click:t.emptyBtn}},[t._v("重置")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"database.log.list",expression:"'database.log.list'"}],staticClass:"but-91",on:{click:t.queryList}},[t._v("查询")])],1)],1),a("div",[a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.listData,size:"medium",height:"580px","header-cell-style":{background:"#fff",color:"#333"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center",index:t.indexMethod}}),a("el-table-column",{attrs:{label:"日志编号",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.logId))])]}}])}),a("el-table-column",{attrs:{label:"系统模块",prop:"companyNature",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.module))])]}}])}),a("el-table-column",{attrs:{label:"类型",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s("Personal computer"==e.row.clientType?"PC":"--"))])]}}])}),a("el-table-column",{attrs:{label:"请求方式",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.httpType))])]}}])}),a("el-table-column",{attrs:{label:"操作人员",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.loginName)+"("+t._s(e.row.userName)+")")])]}}])}),a("el-table-column",{attrs:{label:"主机",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.ip))])]}}])}),a("el-table-column",{attrs:{label:"操作时间",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.formateDate(e.row.mdeUpdatedDate)))])]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"customBtn",on:{click:function(a){return t.seeDetails(e.row)}}},[t._v(" 日志详细 ")])]}}])})],1)],1),a("div",{staticClass:"pagination-min"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,"page-sizes":t.sizeList,layout:"total, sizes, prev, pager, next, jumper",total:t.paginationData.rowCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e}}})],1),a("el-dialog",{attrs:{title:"操作日志详细",visible:t.dialogVisible,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticStyle:{padding:"0 30px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"cont"},[a("div",{staticClass:"label"},[t._v("操作模块:")]),a("div",{staticClass:"txt"},[t._v(t._s(t.currentDetails.module)+"/"+t._s(t.currentDetails.operation))])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"cont"},[a("div",{staticClass:"label"},[t._v("请求地址:")]),a("div",{staticClass:"txt"},[t._v(t._s(t.currentDetails.requsetAddress))])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"cont"},[a("div",{staticClass:"label"},[t._v("登录信息:")]),a("div",{staticClass:"txt"},[t._v(t._s(t.currentDetails.userName)+"/"+t._s(t.currentDetails.ip))])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"cont"},[a("div",{staticClass:"label"},[t._v("请求方式:")]),a("div",{staticClass:"txt"},[t._v(t._s(t.currentDetails.httpType))])])]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"cont"},[a("div",{staticClass:"label"},[t._v("操作方法:")]),a("div",{staticClass:"txt"},[t._v(t._s(t.currentDetails.methods))])])]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"cont"},[a("div",{staticClass:"label"},[t._v("请求参数:")]),a("div",{staticClass:"txt"},[a("p",[t._v(t._s(t.currentDetails.content))])])])]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"cont"},[a("div",{staticClass:"label"},[t._v("操作时间:")]),a("div",{staticClass:"txt"},[t._v(t._s(t.formateDate(t.currentDetails.mdeCreatedDate)))])])])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("关 闭")])],1)],1)])],1)},i=[],l=a("a417"),n=a("ed08"),o={data:function(){return{listData:[],queryListData:{loginName:"",module:""},currentDetails:{},dialogVisible:!1,paginationData:{},sizeList:[15,30,50],currentPage:1,pageSize:15,pageIndex:1}},created:function(){this.baseList(this.pageIndex)},methods:{indexMethod:function(t){return this.pageSize*this.paginationData.pageIndex+t-this.pageSize+1},getqueryLabelById:function(t,e){return Object(n["k"])(t,e)},baseList:function(t){var e=this;Object(l["H"])({input:this.queryListData,nextToken:"",pageEnd:0,pageIndex:t,pageSize:this.pageSize,pageStart:0}).then((function(t){e.paginationData=t,e.listData=t.result}))},emptyBtn:function(){this.queryListData={loginName:"",module:""},this.baseList(this.pageIndex)},seeDetails:function(t){this.currentDetails=t,this.dialogVisible=!0},queryList:function(){this.baseList(this.pageIndex)},formateDate:function(t){function e(t){return t<10?"0"+t:t}var a=new Date(t),s=a.getFullYear()+"-"+e(a.getMonth()+1)+"-"+e(a.getDate())+" "+e(a.getHours())+":"+e(a.getMinutes())+":"+e(a.getSeconds());return s},handleSizeChange:function(){this.baseList(this.pageIndex)},handleCurrentChange:function(t){this.baseList(t)}}},r=o,c=(a("a3cb"),a("2877")),u=Object(c["a"])(r,s,i,!1,null,"ac75bf38",null);e["default"]=u.exports},a3cb:function(t,e,a){"use strict";a("3b78")}}]);