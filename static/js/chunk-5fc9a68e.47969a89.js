(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fc9a68e"],{"0ea2":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"nav-bar"},[n("ul",t._l(t.navgator,(function(e,a){return n("li",{key:e,class:{active:t.navFlag==a},on:{click:function(e){return t.navChange(a)}}},[t._v(" "+t._s(e)+" ")])})),0)]),n("div",{staticClass:"cont-scroll"},[n("div",{staticClass:"detail-box",attrs:{id:"page0"}},[n("div",{staticClass:"list-title"},[t._v("基本信息")]),t.clientGroupInfoData.clientGroup?n("table",{staticClass:"table-info"},[n("tr",[n("td",{attrs:{width:"12%"}},[t._v("集团名称")]),n("td",{attrs:{width:"88%",colspan:"3"}},[t._v(" "+t._s(t.clientGroupInfoData.clientGroup.clientGroupName)+" ")])]),n("tr",[n("td",[t._v("集团简介")]),n("td",{attrs:{colspan:"3"}},[n("div",{staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.clientGroupInfoData.clientGroup.clientGroupRemark)}})])]),n("tr",[n("td",{attrs:{width:"12%"}},[t._v("与下属公司的关系")]),n("td",{attrs:{width:"38%"}},[t._v(" "+t._s(t.getqueryLabelById(t.clientRelationType,t.clientGroupInfoData.clientGroup.clientRelationType))+" ")]),n("td",{attrs:{width:"12%"}},[t._v("是否签订框架协议")]),n("td",{attrs:{width:"38%"}},[t._v(" "+t._s(t.getqueryLabelById(t.YesOrNo,t.clientGroupInfoData.clientGroup.isFrameContract))+" ")])])]):t._e()]),n("div",{staticClass:"detail-box child-info",attrs:{id:"page1"}},[n("div",{staticClass:"list-title"},[t._v("下属公司")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.subsidiaryListData,border:""}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"80",index:t.indexMethod}}),n("el-table-column",{attrs:{label:"公司名称",align:"center",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.toCustomerDetails(e.row)}}},[t._v(t._s(e.row.clientCompany.clientCompanyName))])]}}])}),n("el-table-column",{attrs:{prop:"contractRunCount",label:"执行中合同",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",disabled:null==e.row.contractRunNameTips||""==e.row.contractRunNameTips,placement:"top"}},[n("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.toArr(e.row.contractRunNameTips))},slot:"content"}),n("span",{staticClass:"adorn"},[t._v(t._s(e.row.contractRunCount)+"份")])])]}}])}),n("el-table-column",{attrs:{prop:"contractTotalCount",label:"累计合同",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",disabled:null==e.row.contractTotalNameTips||""==e.row.contractTotalNameTips,placement:"top"}},[n("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.toArr(e.row.contractTotalNameTips))},slot:"content"}),n("span",{staticClass:"adorn"},[t._v(t._s(e.row.contractTotalCount)+"份")])])]}}])}),n("el-table-column",{attrs:{label:"客户状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.getqueryLabelById(t.clientCompanyStatusArr,e.row.clientCompany.customerStatus)))])]}}])})],1)],1),t.paginationData.rowCount>0?n("div",{staticClass:"pagination-min"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[15,30,50],"page-size":t.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:t.paginationData.rowCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e}}})],1):t._e(),n("div",{staticClass:"submitForm"},[n("div",{staticClass:"close",on:{click:t.closePage}},[t._v("关闭")])])])])},i=[],o=n("b85c"),r=(n("ac1f"),n("1276"),n("a15b"),n("23ba")),s=n("ed08"),c={data:function(){return{navgator:["基本信息","下属公司"],clientGroupInfoData:{},navFlag:0,scrollY:null,divHeight:null,subsidiaryListData:[],paginationData:{},currentPage:1,pageSize:15,pageIndex:1}},watch:{scrollY:function(t){}},mounted:function(){window.addEventListener("scroll",this.handleScroll),this.getGroupIdDetails(),this.baseList(this.pageIndex)},computed:{clientCompanyStatusArr:function(){return this.$store.state.baseData.baseDataOptionList.IT_CLST},clientRelationType:function(){return this.$store.state.baseData.baseDataOptionList.IT_CRET},YesOrNo:function(){return this.$store.state.baseData.baseDataOptionList.IS_AGRE}},filters:{relationClass:function(t,e){var n,a=Object(o["a"])(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.value==t)return i.text}}catch(r){a.e(r)}finally{a.f()}}},methods:{indexMethod:function(t){return this.pageSize*this.paginationData.pageIndex+t-this.pageSize+1},getqueryLabelById:function(t,e){return Object(s["k"])(t,e)},baseList:function(t){var e=this,n=this.$route.query.clientGroupId;Object(r["c"])({input:{clientGroupId:n},nextToken:"",pageEnd:0,pageIndex:t,pageSize:this.pageSize,pageStart:0}).then((function(t){e.paginationData=t,e.subsidiaryListData=t.result}))},getGroupIdDetails:function(){var t=this,e=this.$route.query.clientGroupId;Object(r["g"])({clientGroupId:e}).then((function(e){t.clientGroupInfoData=e}))},navChange:function(t){this.navFlag=t;var e=document.querySelector("#page".concat(t));e&&e.scrollIntoView()},toCustomerDetails:function(t){this.$router.push({path:"/customer/detailCustomer",query:{id:t.clientCompany.clientCompanyId}})},handleScroll:function(){this.scrollY=document.documentElement.scrollTop+40},closePage:function(){var t=this;this.$confirm("此操作将关闭详情页面, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=t.$route;t.$store.dispatch("tagsView/delView",e).then((function(e){e.visitedViews;t.$router.push("/customer/GroupList")}))}))},toArr:function(t){var e=(t||"").split(","),n=e.join("<br/>");return n},handleSizeChange:function(){this.baseList(this.pageIndex)},handleCurrentChange:function(t){this.baseList(t)}}},u=c,l=(n("1605"),n("2877")),p=Object(l["a"])(u,a,i,!1,null,"1410b2d5",null);e["default"]=p.exports},1:function(t,e){},1605:function(t,e,n){"use strict";n("1994")},1994:function(t,e,n){},2:function(t,e){},"23ba":function(t,e,n){"use strict";n.d(e,"h",(function(){return i})),n.d(e,"l",(function(){return o})),n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"j",(function(){return l})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return d})),n.d(e,"i",(function(){return f})),n.d(e,"k",(function(){return h})),n.d(e,"b",(function(){return m}));var a=n("b775");n("ba0f");function i(t){return Object(a["a"])({url:"/business/client/queryClientGroupList",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/business/client/saveOrUpdateClientGroup",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/business/client/queryClientCompanySelectList",method:"post",params:t})}function s(t){return Object(a["a"])({url:"/business/client/queryClientCompanyRelationListByGroupId",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/business/client/checkReClientGroupName",method:"post",params:t})}function u(t){return Object(a["a"])({url:"/business/client/queryClientGroupInfo",method:"post",params:t})}function l(t){return Object(a["a"])({url:"/business/client/removeClientGroup",method:"post",params:t})}function p(t){return Object(a["a"])({url:"/business/client/queryClientCompanyWorkplaceInfo",method:"post",params:t})}function d(t){return Object(a["a"])({url:"/business/client/queryClientCompanyWorkplaceList",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/business/client/removeClientCompanyWorkplace",method:"post",params:t})}function h(t){return Object(a["a"])({url:"/business/client/saveOrUpdateClientCompanyWorkplace",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/business/client/queryAllClientCompanySelectList",method:"post",data:t})}},3:function(t,e){},4:function(t,e){},5:function(t,e){}}]);