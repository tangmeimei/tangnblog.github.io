(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8294ff9c"],{2931:function(e,a,t){"use strict";t("bd92")},a35d:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"toms-container"},[t("div",{staticClass:"toms-add-navBar"},[e._l(e.navList,(function(a){return[a.hidden?t("div",{key:a.navId,class:{current:e.navFlag===a.navId},on:{click:function(t){return e.navChange(a.navId)}}},[e._v(" "+e._s(a.name)+" ")]):e._e()]}))],2),t("div",{staticClass:"toms-add-contentWrap"},[t("basic-form",{attrs:{basicFormData:e.basicProcessData}}),e.isShowDismissInfo?t("dismission-form",{ref:"dismissInfo",attrs:{basicFormData:e.dismissionInfo}}):e._e(),e.isShowDlvOppinion?t("delivery-form",{ref:"deliveryInfo",attrs:{basicFormData:e.deliveryOppinion}}):e._e(),e.dismissionTalkFormShow?t("dismission-talk-form",{ref:"dissmissTalk",attrs:{basicFormData:e.dissmissTalk,entryDate:e.dismissionInfo.contractStartTime}}):e._e(),e.dmissionHandoverFormShow?t("dismiss-handover-form",{ref:"employDismissApply",attrs:{basicFormData:e.employDismissApply}}):e._e(),e.clientDeliveryFormShow?t("client-delivery-form",{ref:"clentDelivery",attrs:{basicFormData:e.clentDelivery}}):e._e(),e.directorApprovalFromShow?t("director-approval-form",{ref:"directorApproval",attrs:{basicFormData:e.directorApproval}}):e._e(),"070"===e.currentNode||"080"==e.currentNode?t("ssc-approval-form",{ref:"sscApproval",attrs:{basicFormData:e.sscApproval}}):e._e(),"080"==e.currentNode?t("dismiss-document-form",{ref:"dismissDocument",attrs:{basicFormData:e.dismissDocument},on:{onUpload:e.onUpload}}):e._e(),e.isShowProcessInfoComputed?t("div",{staticClass:"formContent"},[e._m(0),t("div",{staticClass:"formItem"},[t("process-info",{ref:"approvalForm",attrs:{aprvData:e.aprvData,processInfo:e.currenFlowInfo,moduleName:e.moduleName}})],1)]):e._e(),t("operation-btn",{attrs:{processFormParams:e.processFormParams,processImageSrc:e.entryProcessImage,prepareCommitParams:e.prepareCmtParams,taskFlowConfig:e.taskFlowConfig,taskNodeInstance:e.taskNodeInstance,taskInstance:e.taskInstance,aprvData:e.aprvData,componentRefs:e.componentRefs,moduleName:e.moduleName,currenFlowInfo:e.currenFlowInfo}}),t("preview-modal",{attrs:{navName:"navigation",openModal:e.isOpenModal,navList:e.navListOfDetails,title:"离职流程预览"},on:{"update:openModal":function(a){e.isOpenModal=a},"update:open-modal":function(a){e.isOpenModal=a}}},[t("process-basic-details"),t("dismission-info-details",{attrs:{navName:"navigation"}}),t("delivery-oppinion-details",{attrs:{navName:"navigation"}}),t("dismission-talk-details",{attrs:{navName:"navigation"}}),t("staff-dismiss-handover-details",{attrs:{navName:"navigation"}}),t("clent-handover-info-details",{attrs:{navName:"navigation"}}),t("director-approval-details",{attrs:{navName:"navigation"}}),t("finance-approval-details",{attrs:{navName:"navigation"}}),t("ssc-approval-details",{attrs:{navName:"navigation"}}),t("dismiss-document-details",{attrs:{navName:"navigation"}}),t("div",{staticClass:"detailsContent"},[t("div",{staticClass:"title",attrs:{id:"navigation11"}},[t("span",[e._v("流程信息")]),t("div",{staticClass:"line"})]),t("process-info",{attrs:{isDetails:!0}})],1)],1)],1)])},o=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"title",staticStyle:{"margin-bottom":"10px"},attrs:{id:"nav11"}},[t("span",[e._v("流程信息")])])}],l=t("1da1"),i=t("ade3"),n=t("5530"),r=(t("96cf"),t("caad"),t("2532"),t("fb6a"),t("99af"),t("ff16")),c=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"formContent"},[e._m(0),t("div",{staticClass:"formItem"},[t("div",{staticClass:"process-basic-info"},[t("el-row",[t("el-col",{attrs:{span:12}},[t("span",{staticClass:"basic-info-left"},[e._v("工作主题")]),t("span",{staticClass:"basic-info-right"},[e._v(" "+e._s(e.basicFormData.taskName)+" ")])]),t("el-col",{attrs:{span:12}},[t("span",{staticClass:"basic-info-left"},[e._v("流程名称")]),t("span",{staticClass:"basic-info-right"},[e._v(e._s(e.basicFormData.flowName))])])],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("span",{staticClass:"basic-info-left"},[e._v("发起人")]),t("span",{staticClass:"basic-info-right"},[e._v(e._s(e.basicFormData.launchPeople))])]),t("el-col",{attrs:{span:12}},[t("span",{staticClass:"basic-info-left"},[e._v("当前环节")]),t("span",{staticClass:"basic-info-right"},[e._v(e._s(e.basicFormData.nodeName))])])],1)],1)])])])},m=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"title",attrs:{id:"nav0"}},[t("span",[e._v("基本信息")])])}],p={name:"Entry",components:{},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{}},mounted:function(){},methods:{}},d=p,f=t("2877"),v=Object(f["a"])(d,c,m,!1,null,"6e8adf6c",null),u=v.exports,b=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"formContent"},[e._m(0),t("div",{staticClass:"formItem"},[t("zm-form",{ref:"deliveryInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"},on:{dissmissTypeChange:e.dissmissTypeChange}})],1)])])},y=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"title",attrs:{id:"nav2"}},[t("span",[e._v("交付意见")])])}],h=t("c91b"),I=t("ed08"),g=t("3881"),D=t("4360"),C=D["a"].state.baseData.baseDataOptionList,O=function(e){return[{span:12,list:[{type:"select",label:"离职类型",prop:"deliverLeaveType",placeholder:"请选择",optionList:C.IT_QUIT,changeFn:"dissmissTypeChange",hidden:Object(g["b"])("leave.form.employ.deliverLeaveType"),disabled:Object(g["a"])("leave.form.employ.deliverLeaveType")}]},{span:12,list:[{type:"select",label:"离职原因",prop:"deliverLeaveCause",placeholder:"请选择",optionList:"IT_QUIT_001"===e.basicFormData.deliverLeaveType?C.IT_ZDQT:C.IT_TTXZ,hidden:Object(g["b"])("leave.form.employ.deliverLeaveCause"),disabled:Object(g["a"])("leave.form.employ.deliverLeaveCause")}]},{span:12,list:[{type:"radioGroup",label:"加入名单",prop:"deliverAddOrder",optionList:C.IT_ATTR,hidden:Object(g["b"])("leave.form.employ.deliverAddOrder"),disabled:Object(g["a"])("leave.form.employ.deliverAddOrder")}]},{span:12,list:[{type:"text",label:"加入名单原因",prop:"deliverAddOrderDesc",placeholder:"请输入",maxlength:50,hidden:"IT_ATTR_003"===e.basicFormData.deliverAddOrder,disabled:Object(g["a"])("leave.form.employ.deliverAddOrderDesc")}]},{span:24,list:[{type:"textarea",label:"交付意见",prop:"deliverDesc",placeholder:"请输入",resize:"none",showWordLimit:!0,maxlength:300,minRows:4,height:"100px",hidden:Object(g["b"])("leave.form.employ.deliverDesc"),disabled:Object(g["a"])("leave.form.employ.deliverDesc")}]}]},j={deliverLeaveType:{required:!0,trigger:"change",message:"请选择离职类型"},deliverLeaveCause:{required:!0,trigger:"change",message:"请选择离职原因"},deliverAddOrder:{required:!0,trigger:"change",message:"请选择加入名单型"},deliverAddOrderDesc:{required:!0,trigger:"blur",message:"请输入加入名单原因"},deliverDesc:{required:!0,trigger:"blur",message:"请输入交付意见"}},w={name:"DeliveryOppinion",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},formDisabled:{type:Boolean,default:function(){return!1}}},data:function(){return{rules:j}},computed:{formConfig:function(){return O(this)}},mounted:function(){},methods:{dissmissTypeChange:function(e){console.log(e),this.basicFormData.deliverLeaveCause=""}}},S=w,F=Object(f["a"])(S,b,y,!1,null,"614bb83a",null),L=F.exports,T=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"formContent"},[e._m(0),t("div",{staticClass:"formItem"},[t("zm-form",{ref:"dismissInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"},on:{openSelectP:e.openSelectP,openSelectOne:e.openSelectOne,openSelectTwo:e.openSelectTwo,violateMoneyBlur:e.violateMoneyBlur}})],1)]),t("cc-people-modal",{attrs:{isShowCcModal:e.isShowCcModal},on:{"update:isShowCcModal":function(a){e.isShowCcModal=a},"update:is-show-cc-modal":function(a){e.isShowCcModal=a},handleConfirm:e.handleConfirm}}),t("cc-people-modal",{attrs:{isShowCcModal:e.isShowCcModalOne,isQueryUser:!0,isQueryJfOrZp:!0,roleType:e.roleType},on:{"update:isShowCcModal":function(a){e.isShowCcModalOne=a},"update:is-show-cc-modal":function(a){e.isShowCcModalOne=a},handleConfirm:e.handleConfirmOne}}),t("cc-people-modal",{attrs:{isShowCcModal:e.isShowCcModalTwo,isQueryUser:!0},on:{"update:isShowCcModal":function(a){e.isShowCcModalTwo=a},"update:is-show-cc-modal":function(a){e.isShowCcModalTwo=a},handleConfirm:e.handleConfirmTwo}})],1)},_=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"title",attrs:{id:"nav1"}},[t("span",[e._v("离职人信息")])])}],N=t("61f7"),k=D["a"].state.baseData.baseDataOptionList,A=function(e){return[{span:12,list:[{type:"text",prop:"employName",label:"工号/姓名",placeholder:"请输入",searchBtn:{icon:"el-icon-search",changeFn:function(){e.openSelectP()}},focus:"openSelectP",hidden:Object(g["b"])("leave.form.employ.employNo"),disabled:Object(g["a"])("leave.form.employ.employNo")}]},{span:12,list:[{type:"text",prop:"orgCn",label:"所属组织",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.orgId1"),disabled:Object(g["a"])("leave.form.employ.orgId1")}]},{span:12,list:[{type:"text",label:"所属客户",prop:"clientCompanyIdCn",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientCompanyId"),disabled:Object(g["a"])("leave.form.employ.clientCompanyId")}]},{span:12,list:[{type:"text",label:"客户简称",prop:"clientSimpleName",placeholder:"自动带出",hidden:Object(g["b"])("leave.form.employ.clientSimpleName"),disabled:Object(g["a"])("leave.form.employ.clientSimpleName")}]},{span:12,list:[{type:"text",label:"所属客户二级分类",prop:"clientTwoLevelName",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientTwoLevelName")||Object(I["j"])(e.$parent.dismissionInfo.clientTwoLevelName),disabled:Object(g["a"])("leave.form.employ.clientTwoLevelName")}]},{span:12,list:[{type:"text",label:"所属客户合同",prop:"clientContractIdCn",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.contractId"),disabled:Object(g["a"])("leave.form.employ.contractId")}]},{span:12,list:[{type:"text",prop:"clientSaleJob",label:"结算岗位",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientPayJob"),disabled:Object(g["a"])("leave.form.employ.clientPayJob")}]},{span:12,list:[{type:"text",label:"结算职级",prop:"clientSaleLevel",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientPayLevel"),disabled:Object(g["a"])("leave.form.employ.clientPayLevel")}]},{span:12,list:[{type:"text",label:"客户方岗位",prop:"clientPosition",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientJob"),disabled:Object(g["a"])("leave.form.employ.clientJob")}]},{span:12,list:[{type:"date",label:"入职日期",prop:"contractStartTime",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.entryOfDate"),disabled:Object(g["a"])("leave.form.employ.entryOfDate")}]},{span:12,list:[{type:"text",label:"职场名称",prop:"clientEntryName",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientWork"),disabled:Object(g["a"])("leave.form.employ.clientWork")}]},{span:12,list:[{type:"text",label:"职场地址",prop:"clientEntryAddress",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.clientWorkAddress"),disabled:Object(g["a"])("leave.form.employ.clientWorkAddress")}]},{span:12,list:[{type:"text",label:"证件号码",prop:"employPidNo",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.employPidSno"),disabled:Object(g["a"])("leave.form.employ.employPidSno")}]},{span:12,list:[{type:"select",label:"性别",prop:"employSex",placeholder:"请输入",optionList:k.IT_SEXX,hidden:Object(g["b"])("leave.form.employ.employSex"),disabled:Object(g["a"])("leave.form.employ.employSex")}]},{span:12,list:[{type:"select",label:"员工类型",prop:"employType",placeholder:"请输入",optionList:k.IT_EMTY,hidden:Object(g["b"])("leave.form.employ.employType"),disabled:Object(g["a"])("leave.form.employ.employType")}]},{span:12,list:[{type:"select",label:"员工状态",prop:"employStatus",placeholder:"请选择",optionList:k.IT_EPLY,hidden:Object(g["b"])("leave.form.employ.employStatus"),disabled:Object(g["a"])("leave.form.employ.employStatus")}]},{span:12,list:[{type:"text",prop:"employMobile",maxlength:"11",label:"联系电话",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.employMobile"),disabled:Object(g["a"])("leave.form.employ.employMobile")}]},{span:12,list:[{type:"date",label:"预计离职日期",prop:"employPreLeaveDate",placeholder:"请选择",dateConfig:{disabledDate:function(a){return a.getTime()<new Date(e.basicFormData.contractStartTime).getTime()}},hidden:Object(g["b"])("leave.form.employ.employPreLeaveDate"),disabled:Object(g["a"])("leave.form.employ.employPreLeaveDate")}]},{span:12,list:[{type:"text",prop:"employDeliverUserIdCn",label:"对应交付",searchBtn:{icon:"el-icon-search",changeFn:function(){e.openSelectOne()}},focus:"openSelectOne",hidden:Object(g["b"])("leave.form.employ.employDeliverUserId"),disabled:Object(g["a"])("leave.form.employ.employDeliverUserId")}]},{span:12,list:[{type:"text",prop:"employViolateMoney",label:"违约金",afterTxt:"元",regex:"NUMBER_WITH_POINT",hidden:Object(g["b"])("leave.form.employ.employViolateMoney"),disabled:Object(g["a"])("leave.form.employ.employViolateMoney"),blurFn:"violateMoneyBlur"}]},{span:12,list:[{type:"explainSelect",label:"员工离职状态",prop:"leaveStatus",placeholder:"请选择",width:"92%",tipContent:"已离职的员工不需要再经过招聘和部门审批",optionList:k.IT_LZZT,hidden:Object(g["b"])("leave.form.employ.leaveStatus"),disabled:Object(g["a"])("leave.form.employ.leaveStatus")}]},{span:12,list:[{type:"select",label:"是否需要招聘访谈",prop:"recruitJoin",placeholder:"请选择",optionList:k.IT_LZFT,hidden:Object(g["b"])("leave.form.employ.leaveStatus")||"IT_LZZT_002"==e.basicFormData.leaveStatus,disabled:Object(g["a"])("leave.form.employ.recruitJoin")}]}]},P={employName:{required:!0,trigger:"input",message:"请选择工号/姓名"},employMobile:[{required:!0,trigger:"blur",message:"请输入联系电话"},{validator:N["r"],trigger:"blur"}],employPreLeaveDate:{required:!0,trigger:"change",message:"请选择预计离职日期"},employDeliverUserIdCn:{required:!0,trigger:"input",message:"请选择对应交付"},employViolateMoney:[{required:!0,trigger:"blur",message:"请输入违约金"},{validator:N["x"],trigger:"blur"}],clientJoinUserCn:{required:!0,trigger:"input",message:"请选择客户方交接人"},employClientHandUser:[{required:!0,trigger:"blur",message:"请输入交接人电话"},{validator:N["r"],trigger:"blur"}],leaveStatus:{required:!0,trigger:"change",message:"请选择员工离职状态"},recruitJoin:{required:!0,trigger:"change",message:"请选择是否需要招聘访谈"}},x=t("470f"),E=t("dc27"),U=t("d14b"),M={name:"DismissionInfo",components:{zmForm:h["a"],ccPeopleModal:x["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},formDisabled:{type:Boolean,default:function(){return!1}}},data:function(){return{rules:P,isShowCcModal:!1,isShowCcModalOne:!1,isShowCcModalTwo:!1,roleType:"交付"}},computed:{formConfig:function(){return A(this)}},mounted:function(){},methods:{openSelectP:function(){this.isShowCcModal=!0},openSelectOne:function(){this.isShowCcModalOne=!0},openSelectTwo:function(){this.isShowCcModalTwo=!0},handleConfirm:function(e){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var s,o,l,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),s={employId:e.value,flowName:"员工离职流程(新)"},t.next=4,Object(U["n"])(s);case 4:if(o=t.sent,l=o.code,i=o.msg,"200"===l){t.next=10;break}return a.$message.warning(i),t.abrupt("return");case 10:a.basicFormData.employId=e.value,a.basicFormData.employName=e.text,a.basicFormData.clientCompanyIdCn=e.clientCompanyIdCn,a.basicFormData.clientContractIdCn=e.clientContractIdCn,a.basicFormData.clientSimpleName=e.clientSimpleName,a.basicFormData.clientTwoLevelName=e.clientTwoLevelName,a.basicFormData.clientSaleJob=e.clientSaleJob,a.basicFormData.clientSaleLevel=e.clientSaleLevel,a.basicFormData.clientPosition=e.clientPosition,a.basicFormData.contractStartTime=e.contractStartTime,a.basicFormData.clientEntryName=e.clientEntryNameCn,a.basicFormData.clientEntryAddress=e.clientEntryAddress,a.basicFormData.employPidNo=e.employPidNo,a.basicFormData.employSex=e.employSex,a.basicFormData.employType=e.employType,a.basicFormData.employDeliverUserId=e.companyDeliver,a.basicFormData.employDeliverUserIdCn=e.companyDeliverCn,a.basicFormData.employStatus=e.employState,a.basicFormData.employMobile=e.employPhone,a.basicFormData.employSocialCity=e.companyCity,a.basicFormData.orgId=e.orgId,a.basicFormData.orgCn=e.orgCn,a.getEmployInfo(a.basicFormData.employId);case 33:case"end":return t.stop()}}),t)})))()},handleConfirmOne:function(e){this.basicFormData.employDeliverUserId=e.userId,this.basicFormData.employDeliverUserIdCn=e.text},handleConfirmTwo:function(e){console.log("交接人",e),this.basicFormData.clientJoinUser=e.userId,this.basicFormData.clientJoinUserCn=e.text,this.basicFormData.employClientHandUser=e.userPhone},getEmployInfo:function(e){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(E["s"])({employId:e});case 2:s=t.sent,a.basicFormData.orgId=s.orgId;case 4:case"end":return t.stop()}}),t)})))()},violateMoneyBlur:function(e){}}},J=M,R=Object(f["a"])(J,T,_,!1,null,"7ae97366",null),q=R.exports,$=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"formContent"},[e._m(0),t("div",{staticClass:"formItem"},[t("zm-form",{ref:"dissmissTalk",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"160px"},on:{dissmissTypeChange:e.dissmissTypeChange}})],1)])])},H=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"title",attrs:{id:"nav3"}},[t("span",[e._v("离职访谈信息")])])}],Z=D["a"].state.baseData.baseDataOptionList,W=864e5,B=function(e){return[{span:12,list:[{label:"预计离场日期",type:"date",prop:"talkPreOutsiteDate",placeholder:"请选择",dateConfig:{disabledDate:function(a){return a.getTime()<new Date(e.entryDate).getTime()}},hidden:Object(g["b"])("leave.form.employ.talkPreOutsiteDate"),disabled:Object(g["a"])("leave.form.employ.talkPreOutsiteDate")}]},{span:12,list:[{label:"预计离职日期",type:"date",prop:"talkPreLeaveDate",placeholder:"请选择",dateConfig:{disabledDate:function(a){return a.getTime()<new Date(e.basicFormData.talkPreOutsiteDate).getTime()-W}},hidden:Object(g["b"])("leave.form.employ.talkPreLeaveDate"),disabled:Object(g["a"])("leave.form.employ.talkPreLeaveDate")}]},{span:12,list:[{type:"select",label:"离职类型",prop:"talkLeaveType",placeholder:"请选择",optionList:Z.IT_QUIT,changeFn:"dissmissTypeChange",hidden:Object(g["b"])("leave.form.employ.talkLeaveType"),disabled:Object(g["a"])("leave.form.employ.talkLeaveType")}]},{span:12,list:[{type:"select",label:"离职原因",prop:"talkLeaveCause",placeholder:"请选择",optionList:"IT_QUIT_001"===e.basicFormData.talkLeaveType?Z.IT_ZDQT:Z.IT_TTXZ,hidden:Object(g["b"])("leave.form.employ.talkLeaveCause"),disabled:Object(g["a"])("leave.form.employ.talkLeaveCause")}]},{span:12,list:[{type:"text",prop:"talkLeaveDesc",label:"离职原因说明",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.talkLeaveDesc"),disabled:Object(g["a"])("leave.form.employ.talkLeaveDesc")}]},{span:5,list:[{type:"radioGroup",label:"是否有其他特殊情况",prop:"isSpecial",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.talkLeaveCause"),disabled:Object(g["a"])("leave.form.employ.talkLeaveCause")}]},{span:7,list:[{type:"text",label:"",labelWidth:"0px",prop:"specialDesc",hidden:"TRUE"!==e.basicFormData.isSpecial,disabled:Object(g["a"])("leave.form.employ.talkLeaveCause")}]},{span:12,list:[{label:"离职获悉日期",type:"dateTip",prop:"talkLeaveDate",width:"95%",placeholder:"请选择",dateConfig:{disabledDate:function(a){return a.getTime()<new Date(e.entryDate).getTime()}},tipContent:"主动离职填写员工申请日期，客户退回填写获悉员工被客户退回日期，自离填写获悉自离情况的日期",hidden:Object(g["b"])("leave.form.employ.talkLeaveDate"),disabled:Object(g["a"])("leave.form.employ.talkLeaveDate")}]},{span:12,list:[{type:"select",label:"访谈结果",prop:"talkResult",placeholder:"请选择",optionList:Z.IT_FTJG,hidden:Object(g["b"])("leave.form.employ.talkResult"),disabled:Object(g["a"])("leave.form.employ.talkResult")}]},{span:24,list:[{type:"text",prop:"talkMessage",label:"访谈信息说明",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.talkMessage"),disabled:Object(g["a"])("leave.form.employ.talkMessage")}]}]},z={talkPreOutsiteDate:{required:!0,trigger:"change",message:"请选择预计离场日期"},talkPreLeaveDate:{required:!0,trigger:"change",message:"请选择预计离职日期"},talkLeaveType:{required:!0,trigger:"change",message:"请选择离职类型"},talkLeaveCause:{required:!0,trigger:"change",message:"请选择离职原因"},talkLeaveDesc:{required:!0,trigger:"blur",message:"请输入离职原因说明"},isSpecial:{required:!0,trigger:"change",message:"请选择是否有其他特殊情况"},specialDesc:{required:!0,trigger:"blur",message:"请输入殊情况说明"},talkLeaveDate:{required:!0,trigger:"change",message:"请选择离职获悉日期"},talkResult:{required:!0,trigger:"change",message:"请选择访谈结果"},talkMessage:{required:!0,trigger:"blur",message:"请输入访谈信息说明"}},G={name:"DismissionTalk",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},formDisabled:{type:Boolean,default:function(){return!1}},entryDate:{type:String,default:function(){return""}}},data:function(){return{rules:z}},computed:{formConfig:function(){return B(this)}},mounted:function(){},methods:{dissmissTypeChange:function(e){this.basicFormData.talkLeaveCause=""}}},V=G,Q=Object(f["a"])(V,$,H,!1,null,"592c6f26",null),X=Q.exports,Y=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"formContent"},[e._m(0),t("div",{staticClass:"formItem"},[t("zm-form",{ref:"firstForm",attrs:{formData:e.basicFormData,formConfig:e.dismissFormConfig,labelWidth:"140px"}})],1)])])},K=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"title",attrs:{id:"nav4"}},[t("span",[e._v("员工离职申请")])])}],ee=D["a"].state.baseData.baseDataOptionList,ae=function(e){return[{span:12,list:[{type:"text",prop:"employName",label:"申请人",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.reqUser"),disabled:Object(g["a"])("leave.form.employ.reqUser")}]},{span:12,list:[{type:"text",prop:"wapplyNo",label:"申请单号",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wApplyNo"),disabled:Object(g["a"])("leave.form.employ.wApplyNo")}]},{span:12,list:[{type:"text",label:"所属组织",prop:"orgCn",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.orgId2"),disabled:Object(g["a"])("leave.form.employ.orgId2")}]},{span:12,list:[{type:"date",label:"申请日期",prop:"wleaveApplyDate",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wLeaveApplyDate"),disabled:Object(g["a"])("leave.form.employ.wLeaveApplyDate")}]},{span:12,list:[{type:"date",prop:"wentryDate",label:"入职日期",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wEntryDate"),disabled:Object(g["a"])("leave.form.employ.wEntryDate")}]},{span:12,list:[{type:"date",label:"离职日期",prop:"wleaveDate",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wLeaveDate"),disabled:Object(g["a"])("leave.form.employ.wLeaveDate")}]},{span:12,list:[{type:"text",label:"所交接事项",prop:"wjoinItem",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wJoinItem"),disabled:Object(g["a"])("leave.form.employ.wJoinItem")}]},{span:12,list:[{type:"text",label:"所交接资料",prop:"wjoinDoc",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wJoinDoc"),disabled:Object(g["a"])("leave.form.employ.wJoinDoc")}]},{span:12,list:[{type:"text",prop:"clientJoinUserTypeCn",label:"交接人类型",hidden:Object(g["b"])("leave.form.employ.clientJoinUserType"),disabled:Object(g["a"])("leave.form.employ.clientJoinUserType")}]},{span:12,list:[{type:"text",prop:"clientJoinUserCn",label:"客户方交接人",hidden:Object(g["b"])("leave.form.employ.clientJoinUser"),disabled:Object(g["a"])("leave.form.employ.clientJoinUser")}]},{span:12,list:[{type:"text",prop:"clientJoinUserPhone",label:"交接人电话",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.employClientHandUser"),disabled:Object(g["a"])("leave.form.employ.employClientHandUser")}]},{span:12,list:[{type:"select",label:"离职原因",prop:"wleaveCause",placeholder:"请输入",optionList:ee.IT_ZDQT,hidden:Object(g["b"])("leave.form.employ.wLeaveCause"),disabled:Object(g["a"])("leave.form.employ.wLeaveCause")}]},{span:12,list:[{type:"text",label:"离职说明",prop:"wleaveRemark",placeholder:"请输入",hidden:Object(g["b"])("leave.form.employ.wLeaveRemark"),disabled:Object(g["a"])("leave.form.employ.wLeaveRemark")}]},{span:12,list:[{type:"link",label:"附件",prop:"wleaveFile",placeholder:"请输入",style:"color: #333;  cursor: not-allowed",hidden:Object(g["b"])("leave.form.employ.wLeaveFiles"),disabled:Object(g["a"])("leave.form.employ.wLeaveFiles")}]}]},te={name:"DismissionHandover",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{dismissFormConfig:function(){return ae(this)}},mounted:function(){},methods:{}},se=te,oe=Object(f["a"])(se,Y,K,!1,null,"2d81d0ee",null),le=oe.exports,ie=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"formContent"},[e._m(0),t("div",{staticClass:"formItem"},[t("zm-form",{ref:"clentDelivery",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"170px"},on:{clientIsAssetsChange:e.clientIsAssetsChange}})],1)])])},ne=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"title",attrs:{id:"nav6"}},[t("span",[e._v("客户方交接信息")])])}],re=D["a"].state.baseData.baseDataOptionList,ce=function(e){return[{span:12,list:[{label:"客户结算截止日期",type:"date",prop:"clientBalanceDate",placeholder:"请选择",hidden:Object(g["b"])("leave.form.employ.clientBalanceDate")&&"IT_LZZT_002"!=e.$parent.dismissionInfo.leaveStatus,disabled:Object(g["a"])("leave.form.employ.clientBalanceDate")}]},{span:12,list:[{type:"radioGroup",label:"客户方交接情况",prop:"clientHandDesc",optionList:re.IT_KHJJ,hidden:Object(g["b"])("leave.form.employ.clientHandDesc")&&"IT_LZZT_002"!=e.$parent.dismissionInfo.leaveStatus,disabled:Object(g["a"])("leave.form.employ.clientHandDesc")}]},{span:12,list:[{type:"radioGroup",label:"是否有客户方资产归还",prop:"clientIsAssets",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],changeFn:"clientIsAssetsChange",hidden:Object(g["b"])("leave.form.employ.clientIsAssets")&&"IT_LZZT_002"!=e.$parent.dismissionInfo.leaveStatus,disabled:Object(g["a"])("leave.form.employ.clientIsAssets")}]},{span:12,list:[{type:"text",label:"归还客户方资产名称",prop:"clientAssetsName",placeholder:"请输入",maxlength:150,hidden:"TRUE"!==e.basicFormData.clientIsAssets,disabled:Object(g["a"])("leave.form.employ.clientAssetsName")}]},{span:12,list:[{type:"select",label:"归还资产是否完好",prop:"clientAssetsOk",placeholder:"请选择",optionList:re.IT_ZCWH,hidden:"TRUE"!==e.basicFormData.clientIsAssets,disabled:Object(g["a"])("leave.form.employ.clientAssetsOk")}]},{span:12,list:[{type:"text",label:"其他说明",prop:"clientDesc",placeholder:"请输入",maxlength:50,hidden:Object(g["b"])("leave.form.employ.clientDesc")&&"IT_LZZT_002"!=e.$parent.dismissionInfo.leaveStatus,disabled:Object(g["a"])("leave.form.employ.clientDesc")}]},{span:12,list:[{label:"预计办理离职手续日期",type:"date",prop:"clientPreLeaveFileDate",placeholder:"请选择",hidden:Object(g["b"])("leave.form.employ.clientPreLeaveFileDate")&&"IT_LZZT_002"!=e.$parent.dismissionInfo.leaveStatus,disabled:Object(g["a"])("leave.form.employ.clientPreLeaveFileDate")}]},{span:12,list:[{label:"离职计薪截止日期",type:"date",prop:"clientMoneyEndDate",placeholder:"请选择",hidden:Object(g["b"])("leave.form.employ.clientMoneyEndDate")&&"IT_LZZT_002"!=e.$parent.dismissionInfo.leaveStatus,disabled:Object(g["a"])("leave.form.employ.clientMoneyEndDate")}]}]},me={clientBalanceDate:{required:!0,trigger:"change",message:"请选择客户结算截止日期"}},pe={name:"DeliveryOppinion",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},formDisabled:{type:Boolean,default:function(){return!1}}},data:function(){return{rules:me}},computed:{formConfig:function(){return ce(this)}},mounted:function(){},methods:{clientIsAssetsChange:function(e){this.basicFormData.clientAssetsName="",this.basicFormData.clientAssetsOk=""}}},de=pe,fe=Object(f["a"])(de,ie,ne,!1,null,"35faa45c",null),ve=fe.exports,ue=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"formContent"},[e._m(0),t("div",{staticClass:"formItem"},[t("zm-form",{ref:"directorApproval",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"}})],1)])])},be=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"title",attrs:{id:"nav7"}},[t("span",[e._v("总监审批")])])}],ye=(D["a"].state.baseData.baseDataOptionList,function(e){return[{span:12,list:[{type:"radioGroup",label:"是否需要总监审批",prop:"isLeaderAudit",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.isLeaderAudit"),disabled:Object(g["a"])("leave.form.employ.isLeaderAudit")}]}]}),he={isLeaderAudit:{required:!0,trigger:"change",message:"请选择是否需要总监审批"}},Ie={name:"DirectorApproval",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:he}},computed:{formConfig:function(){return ye(this)}},mounted:function(){},methods:{}},ge=Ie,De=Object(f["a"])(ge,ue,be,!1,null,"f84eb972",null),Ce=De.exports,Oe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"formContent"},[e._m(0),t("div",{staticClass:"formItem"},[t("zm-form",{ref:"financeApproval",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"150px"}})],1)])])},je=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"title",attrs:{id:"nav8"}},[t("span",[e._v("财务审批")])])}],we=(D["a"].state.baseData.baseDataOptionList,function(e){return[{span:12,list:[{type:"radioGroup",label:"备用金是否已结清",prop:"finaIsImprest",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.finaIsImprest"),disabled:Object(g["a"])("leave.form.employ.finaIsImprest")}]},{span:12,list:[{type:"radioGroup",label:"个人借款是否已结清",prop:"finaIsLoan",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.finaIsLoan"),disabled:Object(g["a"])("leave.form.employ.finaIsLoan")}]},{span:12,list:[{type:"radioGroup",label:"发票是否已交接",prop:"finaIsInvoice",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.finaIsInvoice"),disabled:Object(g["a"])("leave.form.employ.finaIsInvoice")}]},{span:12,list:[{type:"radioGroup",label:"应收账款是否已交接",prop:"finaIsAnswerMoney",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.finaIsAnswerMoney"),disabled:Object(g["a"])("leave.form.employ.finaIsAnswerMoney")}]},{span:24,list:[{type:"text",label:"其他说明",prop:"finaDesc",hidden:Object(g["b"])("leave.form.employ.finaDesc"),disabled:Object(g["a"])("leave.form.employ.finaDesc")}]}]}),Se={finaIsImprest:{required:!0,trigger:"change",message:"请选择备用金是否已结清"},finaIsLoan:{required:!0,trigger:"change",message:"请选择个人借款是否已结清"},finaIsInvoice:{required:!0,trigger:"change",message:"请选择发票是否已交接"},finaIsAnswerMoney:{required:!0,trigger:"change",message:"请选择应收账款是否已交接"}},Fe={name:"FinanceApproval",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:Se}},computed:{formConfig:function(){return we(this)}},mounted:function(){},methods:{}},Le=Fe,Te=Object(f["a"])(Le,Oe,je,!1,null,"7211a760",null),_e=Te.exports,Ne=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"formContent"},[e._m(0),t("div",{staticClass:"formItem"},[t("zm-form",{ref:"sscApproval",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"170px"},on:{sscIsAssetsChange:e.sscIsAssetsChange}})],1)])])},ke=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"title",attrs:{id:"nav9"}},[t("span",[e._v("事业部SSC行政")])])}],Ae=D["a"].state.baseData.baseDataOptionList,Pe=function(e){return[{span:12,list:[{type:"radioGroup",label:"是否有公司资产需归还",prop:"sscIsAssets",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],changeFn:"sscIsAssetsChange",hidden:Object(g["b"])("leave.form.employ.sscIsAssets"),disabled:Object(g["a"])("leave.form.employ.sscIsAssets")}]},{span:12,list:[{type:"text",label:"归还公司资产名称",prop:"sscAssetsName",hidden:"TRUE"!==e.basicFormData.sscIsAssets,disabled:Object(g["a"])("leave.form.employ.sscAssetsName")}]},{span:12,list:[{type:"select",label:"归还固定资产是否完好",prop:"sscAssetsOk",placeholder:"请选择",optionList:Ae.IT_ZCWH,hidden:"TRUE"!==e.basicFormData.sscIsAssets,disabled:Object(g["a"])("leave.form.employ.sscAssetsOk")}]},{span:12,list:[{type:"select",label:"信息系统账号处理情况",prop:"sscInformation",placeholder:"请选择",optionList:Ae.IT_ZHCL,hidden:Object(g["b"])("leave.form.employ.sscInformation"),disabled:Object(g["a"])("leave.form.employ.sscInformation")}]},{span:12,list:[{type:"date",label:"离职日期",prop:"confirmLeaveDate",placeholder:"请选择",hidden:Object(g["b"])("leave.form.employ.confirmLeaveDate"),disabled:Object(g["a"])("leave.form.employ.confirmLeaveDate")}]},{span:12,list:[{type:"select",label:"离职手续办理方式",prop:"sscLeaveType",placeholder:"请选择",optionList:Ae.IT_LISX,hidden:Object(g["b"])("leave.form.employ.sscLeaveType"),disabled:Object(g["a"])("leave.form.employ.sscLeaveType")}]},{span:12,list:[{type:"text",label:"委托说明",prop:"sscEntrustDesc",hidden:"IT_LISX_002"!==e.basicFormData.sscLeaveType,disabled:Object(g["a"])("leave.form.employ.sscEntrustDesc")}]},{span:24,list:[{type:"text",label:"其他说明",prop:"sscOtherDesc",hidden:Object(g["b"])("leave.form.employ.sscOtherDesc"),disabled:Object(g["a"])("leave.form.employ.sscOtherDesc")}]}]},xe={sscIsAssets:{required:!0,trigger:"change",message:"请选择是否有公司资产需归还"},sscAssetsName:{required:!0,trigger:"blur",message:"请输入归还公司资产名称"},sscAssetsOk:{required:!0,trigger:"change",message:"请选择归还固定资产是否完好"},sscInformation:{required:!0,trigger:"change",message:"请选择信息系统账号处理情况"},sscLeaveType:{required:!0,trigger:"change",message:"请选择离职手续办理方式"},confirmLeaveDate:{required:!0,trigger:"change",message:"请选择离职日期"}},Ee={name:"FinanceApproval",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:xe}},computed:{formConfig:function(){return Pe(this)}},mounted:function(){},methods:{sscIsAssetsChange:function(e){e&&(this.basicFormData.sscAssetsName=null,this.basicFormData.sscAssetsOk=null)}}},Ue=Ee,Me=Object(f["a"])(Ue,Ne,ke,!1,null,"4b8a9267",null),Je=Me.exports,Re=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"page-dismissupload"},[t("div",{staticClass:"formContent"},[e._m(0),t("div",{staticClass:"formItem"},[t("zm-form",{ref:"firstForm",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"170px"}}),"TRUE"==e.basicFormData.hrIsLeaveFile?t("el-form",{ref:"secondForm",staticClass:"affix-upload-wrap",attrs:{rules:e.rules,labelWidth:"170px"}},[t("el-form-item",{staticClass:"leavefile",staticStyle:{color:"#333"},attrs:{label:"离职证明文件",prop:"leaveFiles"}},[t("el-upload",{attrs:{"list-type":"picture-card",action:e.fileLoadUrl,name:"files",limit:1,accept:".pdf,.jpg,.jpeg,.png","file-list":e.fileList,"on-success":e.uploadFileSuccess,"on-error":e.uploadFileError,"on-preview":e.handlePreview},scopedSlots:e._u([{key:"file",fn:function(a){var s=a.file;return t("div",{},[e.typeIsImg?e._e():t("span",[e._v(e._s(s.name))]),e.typeIsImg?t("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:s.url,alt:""}}):e._e(),t("span",{staticClass:"el-upload-list__item-actions"},[e.typeIsImg?t("span",{staticClass:"el-upload-list__item-preview",on:{click:function(a){return e.handlePreview(s)}}},[t("i",{staticClass:"el-icon-zoom-in"})]):e._e(),e.typeIsImg?e._e():t("span",{staticClass:"el-upload-list__item-delete",on:{click:function(a){return e.handleDownload(s)}}},[t("i",{staticClass:"el-icon-download"})]),e.disabled?e._e():t("span",{staticClass:"el-upload-list__item-delete",on:{click:function(a){return e.handleRemove(s)}}},[t("i",{staticClass:"el-icon-delete"})])])])}}],null,!1,1289755824)},[t("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1),t("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(a){e.dialogVisible=a}}},[t("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1):e._e()],1)])])},qe=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"title",attrs:{id:"nav10"}},[t("span",[e._v("离职证明")])])}],$e=(t("b0c0"),D["a"].state.baseData.baseDataOptionList,function(e){return[{span:12,list:[{type:"radioGroup",label:"是否已开具离职证明",prop:"hrIsLeaveFile",optionList:[{value:"TRUE",text:"是"},{value:"FALSE",text:"否"}],hidden:Object(g["b"])("leave.form.employ.hrIsLeaveFile"),disabled:Object(g["a"])("leave.form.employ.hrIsLeaveFile")}]},{span:12,list:[{type:"text",label:"未开离职证明原因",prop:"unLeaveCertifyCause",hidden:"TRUE"===e.basicFormData.hrIsLeaveFile||null===e.basicFormData.hrIsLeaveFile,disabled:Object(g["a"])("leave.form.employ.unLeaveCertifyCause")}]},{span:12,list:[{type:"date",label:"离职证明开具日期",prop:"hrLeaveFileDate",hidden:"TRUE"!==e.basicFormData.hrIsLeaveFile,disabled:Object(g["a"])("leave.form.employ.hrLeaveFileDate")}]}]}),He={hrIsLeaveFile:{required:!0,trigger:"change",message:"请选择是否已开具离职证明"},hrLeaveFileDate:{required:!0,trigger:"change",message:"请选择离职证明开具日期"},leaveFiles:{required:!0,trigger:"change",message:"请上传离职证明文件"}},Ze={name:"DismissDocument",components:{zmForm:h["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:He,fileLoadUrl:"https://www.tobowork.com/api/tobosoft-toms/strato/cloud/file/contract/toms-1255586777/upload",fileList:[],dialogVisible:!1,dialogImageUrl:"",disabled:!1,typeIsImg:!0}},computed:{formConfig:function(){return $e(this)}},mounted:function(){},methods:{handleRemove:function(e){this.basicFormData.leaveFiles=null,this.fileList=[]},handlePreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){console.log(e);var a=e.response[0].fileId,t="https://www.tobowork.com//api/tobosoft-toms/cos/file/download/"+a,s=document.createElement("a");s.setAttribute("download",e.name),s.href=t,document.body.appendChild(s),s.click(),s.remove()},uploadFileSuccess:function(e,a){".pdf"===e[0].fileSuffix?this.typeIsImg=!1:this.typeIsImg=!0,this.$message.success(a.name+"上传成功"),this.basicFormData.leaveFiles=e[0].fileId},uploadFileError:function(e,a){this.$message.error(a.name+"上传失败")}}},We=Ze,Be=(t("2931"),Object(f["a"])(We,Re,qe,!1,null,"ea9505ec",null)),ze=Be.exports,Ge=t("df86"),Ve=t("0df0"),Qe=t("c39e"),Xe=t("9e54"),Ye=t("63ad"),Ke=t("b1fe"),ea=t("056a"),aa=t("a11a"),ta=t("968d0"),sa=t("7e6f"),oa=t("052e"),la=t("f6f0"),ia=t("ac83"),na=t("2f62"),ra=function(e){return[{name:"基本信息",navId:0,hidden:!0},{name:"离职人信息",navId:1,hidden:e.isShowDismissInfo},{name:"交付意见",navId:2,hidden:e.isShowDlvOppinion},{name:"离职访谈信息",navId:3,hidden:e.dismissionTalkFormShow},{name:"员工离职申请",navId:4,hidden:e.dmissionHandoverFormShow},{name:"客户方交接信息",navId:6,hidden:e.clientDeliveryFormShow},{name:"总监审批",navId:7,hidden:e.directorApprovalFromShow},{name:"事业部SSC行政",navId:9,hidden:"070"===e.currentNode||"080"==e.currentNode},{name:"离职证明",navId:10,hidden:"080"==e.currentNode},{name:"流程信息",navId:11,hidden:e.isShowProcessInfoComputed}]},ca=["基本信息","离职人信息","交付意见","离职访谈信息","员工离职申请","员工离职交接","客户方交接信息","总监审批","财务审批","事业部SSC行政","离职证明","流程信息"],ma={dismissInfoPmsCode:["leave.form.employ.employNo","leave.form.employ.orgId1","leave.form.employ.clientCompanyId","leave.form.employ.contractId","leave.form.employ.clientPayJob","leave.form.employ.clientPayLevel","leave.form.employ.clientJob","leave.form.employ.entryOfDate","leave.form.employ.clientWork","leave.form.employ.clientWorkAddress","leave.form.employ.employPidSno","leave.form.employ.employSex","leave.form.employ.employType","leave.form.employ.employStatus","leave.form.employ.employMobile","leave.form.employ.employPreLeaveDate","leave.form.employ.employDeliverUserId","leave.form.employ.employViolateMoney","leave.form.employ.clientJoinUser","leave.form.employ.employClientHandUser"],deliveryPmsCode:["leave.form.employ.deliverLeaveType","leave.form.employ.deliverLeaveCause","leave.form.employ.deliverAddOrder","leave.form.employ.deliverAddOrderDesc","leave.form.employ.deliverDesc"],talkPmsCode:["leave.form.employ.talkPreOutsiteDate","leave.form.employ.talkPreLeaveDate","leave.form.employ.talkLeaveType","leave.form.employ.talkLeaveCause","leave.form.employ.talkLeaveDesc","leave.form.employ.isSpecial","leave.form.employ.talkLeaveDate","leave.form.employ.talkResult","leave.form.employ.talkMessage"],handoverPmsCode:["leave.form.employ.reqUser","leave.form.employ.wApplyNo","leave.form.employ.orgId2","leave.form.employ.wLeaveApplyDate","leave.form.employ.wEntryDate","leave.form.employ.wLeaveDate","leave.form.employ.wJoinItem","leave.form.employ.wJoinDoc","leave.form.employ.wLeaveCause","leave.form.employ.wLeaveRemark","leave.form.employ.wLeaveFiles","leave.form.employ.clientConnectUser","leave.form.employ.clientJoinDate","leave.form.employ.clientJoinItem","leave.form.employ.clientJoinDoc","leave.form.employ.clientJoinRemark"],clientHandoverPmsCode:["leave.form.employ.clientBalanceDate","leave.form.employ.clientHandDesc","leave.form.employ.clientIsAssets","leave.form.employ.clientAssetsName","leave.form.employ.clientAssetsOk","leave.form.employ.clientDesc","leave.form.employ.clientPreLeaveFileDate","leave.form.employ.clientMoneyEndDate","leave.form.employ.clientIsWork","leave.form.employ.clientIsLeave","leave.form.employ.clientWorkDesc"],financePmsCode:["leave.form.employ.finaIsImprest","leave.form.employ.finaIsLoan","leave.form.employ.finaIsInvoice","leave.form.employ.finaIsAnswerMoney","leave.form.employ.finaDesc"],sscPmsCode:["leave.form.employ.sscIsAssets","leave.form.employ.sscAssetsName","leave.form.employ.sscAssetsOk","leave.form.employ.sscInformation","leave.form.employ.sscLeaveType","leave.form.employ.sscEntrustDesc","leave.form.employ.sscOtherDesc"],documentPmsCode:["leave.form.employ.hrIsLeaveFile","leave.form.employ.hrLeaveFileDate","leave.form.employ.leaveFiles"]},pa={name:"Dismission",components:{navBar:r["a"],basicForm:u,deliveryForm:L,dismissionForm:q,dismissionTalkForm:X,dismissHandoverForm:le,clientDeliveryForm:ve,directorApprovalForm:Ce,financeApprovalForm:_e,sscApprovalForm:Je,dismissDocumentForm:ze,processBasicDetails:Ve["a"],dismissionInfoDetails:Qe["a"],deliveryOppinionDetails:Xe["a"],dismissionTalkDetails:Ye["a"],staffDismissHandoverDetails:Ke["a"],clentHandoverInfoDetails:ea["a"],directorApprovalDetails:aa["a"],financeApprovalDetails:ta["a"],sscApprovalDetails:sa["a"],dismissDocumentDetails:oa["a"],previewModal:Ge["a"],operationBtn:la["a"],processInfo:ia["a"]},data:function(){var e;return Object(n["a"])(Object(n["a"])({processListItemInfo:{},navListOfDetails:ca},ma),{},(e={isShowDismissInfo:!0,isShowDlvOppinion:!0,isShowdismissTalk:!0,isShowHandover:!0,isShowClientHandover:!0,isShowdirector:!0,isShowFinance:!0,isShowSsc:!0,isShowDocument:!0,isShowProcessInfo:!0,isBackNode:!1,moduleName:"leave",navFlag:0,basicFormData:{},onJobHistoryFormData:[],isShowImgModal:!1,processImgSrc:t("b2e0"),isShowCcModal:!1,isShowSubmitModal:!1,currentNode:"010",currentNodeName:"",basicProcessData:{taskName:"",flowName:"",launchPeople:"",nodeName:""}},Object(i["a"])(e,"onJobHistoryFormData",[]),Object(i["a"])(e,"aprvData",{auditType:"IT_RWSP_001",breakType:"",auditDesc:"",breakDesc:"",backType:"",backNodeId:""}),Object(i["a"])(e,"isShowImgModal",!1),Object(i["a"])(e,"entryProcessImage",t("6494")),Object(i["a"])(e,"isOpenModal",!1),Object(i["a"])(e,"taskFlowConfig",{}),Object(i["a"])(e,"taskNodeInstance",{}),Object(i["a"])(e,"taskInstance",{}),Object(i["a"])(e,"currenFlowInfo",{}),Object(i["a"])(e,"componentRefs",[{isHasSon:!0,ref:"dismissInfo"},{isHasSon:!0,ref:"deliveryInfo"},{isHasSon:!0,ref:"dissmissTalk"},{isHasSon:!0,ref:"clentDelivery"},{isHasSon:!0,ref:"directorApproval"},{isHasSon:!0,ref:"sscApproval"},{isHasSon:!0,ref:"dismissDocument",list:["firstForm","secondForm"]}]),Object(i["a"])(e,"dismissionInfo",{employViolateMoney:0,employDeliverUserId:"",clientJoinUser:"",clientCompanyId:"",clientSimpleName:"",clientTwoLevelName:"",clientContractId:"",clientSaleJob:"",clientSaleLevel:"",clientPosition:"",contractStartTime:"",clientEntryName:"",clientEntryAddress:"",employPidNo:"",employSex:"",employType:"",clientJoinUserCn:"",employDeliverUserIdCn:"",employName:"",employStatus:"",leaveStatus:"",recruitJoin:"IT_LZFT_001",employMobile:"",employClientHandUser:""}),Object(i["a"])(e,"deliveryOppinion",{deliverAddOrder:"IT_ATTR_003",deliverLeaveCause:""}),Object(i["a"])(e,"dissmissTalk",{talkLeaveCause:null,talkPreOutsiteDate:null,talkPreLeaveDate:null,talkLeaveType:null,talkLeaveDesc:null,isSpecial:null,specialDesc:null,talkLeaveDate:null,talkResult:null,talkMessage:null}),Object(i["a"])(e,"employDismissApply",{employId:"",wapplyNo:"",orgId:"",wleaveApplyDate:"",wentryDate:"",wleaveDate:"",wjoinItem:"",wjoinDoc:"",wleaveType:"",wleaveRemark:"",wleaveFiles:"",clientJoinUserTypeCn:"",clientJoinUserCn:"",clientJoinUserPhone:""}),Object(i["a"])(e,"clentDelivery",{clientBalanceDate:null,clientHandDesc:null,clientIsAssets:null,clientAssetsName:null,clientAssetsOk:null,clientPreLeaveFileDate:null,clientMoneyEndDate:null,clientIsWork:null,clientIsLeave:null,clientWorkDesc:null}),Object(i["a"])(e,"directorApproval",{isLeaderAudit:null}),Object(i["a"])(e,"sscApproval",{sscIsAssets:null,sscAssetsName:null,sscAssetsOk:null,sscInformation:null,sscLeaveType:null,confirmLeaveDate:null}),Object(i["a"])(e,"dismissDocument",{leaveFiles:null,hrIsLeaveFile:null,hrLeaveFileDate:null,unLeaveCertifyCause:null}),Object(i["a"])(e,"isDraftNode",!1),e))},watch:{"currenFlowInfo.taskFlowNodeConfig.nodeName":{handler:function(e){e&&this.$route.query.taskObj&&(e.includes("010")?this.$set(this.aprvData,"auditType","IT_RWSP_005"):this.$set(this.aprvData,"auditType","IT_RWSP_001"))},immediate:!0},"processListItemInfo.runStatus":{handler:function(e){console.log(e,"草稿？"),"IT_RUNS_001"===e?(this.isDraftNode=!0,console.log(this.isBackNode,"是true还是false")):this.isDraftNode=!1}},currentNodeName:{handler:function(e){this.currentNode=e.slice(0,3)}},hasFormPmsCodeList:{deep:!0,handler:function(e){e.length>0&&(this.isShowDismissInfo=Object(g["c"])(this.dismissInfoPmsCode),this.isShowDlvOppinion=Object(g["c"])(this.deliveryPmsCode),this.isShowdismissTalk=Object(g["c"])(this.talkPmsCode),this.isShowHandover=Object(g["c"])(this.handoverPmsCode),this.isShowClientHandover=Object(g["c"])(this.clientHandoverPmsCode),this.isShowdirector=Object(g["c"])(["leave.form.employ.isLeaderAudit"]),this.isShowFinance=Object(g["c"])(this.financePmsCode),this.isShowSsc=Object(g["c"])(this.sscPmsCode),this.isShowDocument=Object(g["c"])(this.documentPmsCode),this.isShowProcessInfo=this.hasFormPmsCodeList.includes("leave.form.flow.recordInfo"))}}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(na["e"])("baseData",["baseDataOptionList"])),Object(na["e"])("user",["userInfo"])),Object(na["e"])("processPermission",["buttonPermissionList","formPermissionList","hasFormPmsCodeList","hasBtnPmsCodeList"])),Object(na["e"])("entryCfmSalary",["isInitProcess","isEditProcess"])),{},{isShowProcessInfoComputed:function(){return!!this.isShowProcessInfo&&(!this.isDraftNode&&!this.$route.query.objStr)},navList:function(){return ra(this)},processFormParams:function(){var e=Object.assign({},this.dismissionInfo,this.deliveryOppinion,this.clentDelivery);return e},prepareCmtParams:function(){console.log("提交数据的对象：",this.dismissionInfo);var e={city:this.dismissionInfo.employSocialCity,orgId:this.dismissionInfo.orgId};return console.log("param",e),e},dismissionTalkFormShow:function(){return"IT_LZZT_001"==this.dismissionInfo.leaveStatus&&"IT_LZFT_001"==this.dismissionInfo.recruitJoin&&("020"==this.currentNode||"030"==this.currentNode||"040"==this.currentNode||"050"==this.currentNode||"060"==this.currentNode||"070"==this.currentNode||"080"==this.currentNode)},dmissionHandoverFormShow:function(){return"IT_LZZT_001"==this.dismissionInfo.leaveStatus&&("030"==this.currentNode||"040"==this.currentNode||"050"==this.currentNode||"060"==this.currentNode||"070"==this.currentNode||"080"==this.currentNode)},clientDeliveryFormShow:function(){return"IT_LZZT_001"==this.dismissionInfo.leaveStatus&&("040"==this.currentNode||"050"==this.currentNode||"060"==this.currentNode||"070"==this.currentNode||"080"==this.currentNode)||"IT_LZZT_002"==this.dismissionInfo.leaveStatus},directorApprovalFromShow:function(){return"050"==this.currentNode||"060"==this.currentNode||"070"==this.currentNode||"080"==this.currentNode}}),inject:["reload"],beforeRouteEnter:function(e,a,t){e.query.taskObj?t((function(e){e.isEditProcess&&(e.getProcessDetails(),e.taskInstance.creatorId=e.userInfo.userId,e.CHANGE_EDIT_PROCESS_STATUS(!1))})):t((function(e){e.isInitProcess&&(e.reload(),console.log(e.reload,"this.reload触发了"),e.CHANGE_PROCESS_STATUS(!1))}))},mounted:function(){this.getProcessInitInfo(),this.getProcessDetails()},methods:Object(n["a"])(Object(n["a"])({},Object(na["d"])("entryCfmSalary",["CHANGE_PROCESS_STATUS","CHANGE_EDIT_PROCESS_STATUS"])),{},{customValidate:function(){var e=!0;return e=!("090"===this.currentNode&&"TRUE"===this.dismissDocument.hrIsLeaveFile&&!this.dismissDocument.leaveFiles),e},getProcessInitInfo:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var t,s,o,l,i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log("init"),!e.$route.query.objStr){a.next=16;break}return t=JSON.parse(decodeURIComponent(e.$route.query.objStr)),s=t.flowName,o=t.version,a.next=6,Object(U["i"])({flowName:s,version:String(o)});case 6:l=a.sent,i=l.taskFlowConfig,n=l.taskFlowNodeConfig,e.taskFlowConfig=i,e.taskNodeInstance.currentNode=n.nodeId,e.basicProcessData.launchPeople="[".concat(e.userInfo.loginName,"] ").concat(e.userInfo.userName),e.basicProcessData.flowName=i.flowName||"",e.basicProcessData.nodeName=n.nodeName,e.$store.dispatch("processPermission/getProcessPermissionList",n.nodeId),e.taskInstance.creatorId=e.userInfo.userId;case 16:case"end":return a.stop()}}),a)})))()},getProcessDetails:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var t,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log("detail"),t=e.$route.query.taskObj,!t){a.next=36;break}return s=JSON.parse(decodeURIComponent(t)),e.taskFlowConfig.flowName=s.flowName,e.taskFlowConfig.version=s.version,console.log(s,"列表信息"),a.next=9,Object(U["p"])({taskInstanceId:s.taskInstanceId,taskFlowConfig:{flowName:s.flowName,version:s.version},taskNodeInstance:{nodeInstanceId:s.nodeInstanceId}});case 9:o=a.sent,e.currenFlowInfo=o,e.processListItemInfo=s,o.taskNodeInstance.upNode,e.isBackNode=!0,e.taskInstance=o.taskInstance,e.taskNodeInstance=o.taskNodeInstance,e.basicProcessData.launchPeople="[".concat(o.creatorNo,"] ").concat(o.taskInstance.creatorName),e.basicProcessData.flowName=o.taskFlowConfig.flowName||"",e.basicProcessData.nodeName=o.taskFlowNodeConfig.nodeName,e.basicProcessData.taskName=o.taskInstance.taskName,e.currentNodeName=o.taskFlowNodeConfig.nodeName,e.$store.dispatch("processPermission/getProcessPermissionList",o.taskFlowNodeConfig.nodeId),l=o.relatedObject||{},e.dismissionInfo=l,e.deliveryOppinion=l,e.dissmissTalk=l,e.employDismissApply=l,"IT_JNTY_002"==e.employDismissApply.clientJoinUserType&&e.$set(e.employDismissApply,"clientJoinUserCn",l.otherJoinUserName),e.clentDelivery=l,e.directorApproval=l,e.financeApproval=l,e.sscApproval=l,e.dismissDocument=l,e.getEmployInfo(l.employId),l.wleaveFilesJson&&(e.employDismissApply.wleaveFile=JSON.parse(l.wleaveFilesJson).originName),e.dismissionInfo.recruitJoin=l.recruitJoin?l.recruitJoin:"IT_LZFT_001",e.dismissionInfo.leaveStatus=l.leaveStatus?l.leaveStatus:"IT_LZZT_001";case 36:case"end":return a.stop()}}),a)})))()},closePage:function(){this.$route;this.$confirm("内容未保存, 是否直接关闭?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){}))},previewPage:function(){this.isOpenModal=!0},getEmployInfo:function(e){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(E["s"])({employId:e});case 4:s=t.sent,console.log(" 员工信息",s),a.$set(a.dismissionInfo,"clientCompanyIdCn",s.clientCompanyIdCn),a.$set(a.dismissionInfo,"employSex",s.employSex),a.dismissionInfo.employName="[".concat(s.employNo,"]").concat(s.employName),a.employDismissApply.employName="[".concat(s.employNo,"]").concat(s.employName),a.employDismissApply.orgCn=s.orgCn,a.employDismissApply.orgId=s.orgId,a.dismissionInfo.clientCompanyIdCn=s.clientCompanyIdCn,a.dismissionInfo.clientSimpleName=s.clientSimpleName,a.dismissionInfo.clientContractIdCn=s.clientContractIdCn,a.dismissionInfo.clientSaleJob=s.clientSaleJob,a.dismissionInfo.clientSaleLevel=s.clientSaleLevel,a.dismissionInfo.clientPosition=s.clientPosition,a.dismissionInfo.contractStartTime=s.contractStartTime,a.dismissionInfo.clientEntryName=s.clientEntryNameCn,a.dismissionInfo.clientEntryAddress=s.clientEntryAddress,a.dismissionInfo.employPidNo=s.employPidNo,a.dismissionInfo.employType=s.employType,a.dismissionInfo.employSocialCity=s.employSocialCity,a.dismissionInfo.orgCn=s.orgCn,a.dismissionInfo.orgId=s.orgId;case 26:case"end":return t.stop()}}),t)})))()},onUpload:function(){},navChange:function(e){this.navFlag=e;var a=document.querySelector("#nav".concat(e));a&&a.scrollIntoView()}})},da=pa,fa=Object(f["a"])(da,s,o,!1,null,"a81ffde0",null);a["default"]=fa.exports},b2e0:function(e,a,t){e.exports=t.p+"static/img/staff_dismiss.ef59d3b1.png"},bd92:function(e,a,t){}}]);