(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-155bb383"],{1:function(e,t){},"1c98":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-select",e._b({staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","remote-method":e.remoteMethod},on:{clear:e.clear,change:e.getSelectValue,blur:e.blur},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},"el-select",e.$attrs,!1),e._l(e.optionSelectList,(function(t,n){return i("el-option",{key:n,attrs:{label:e.getLabelField(t),value:e.getLabelField(t)}})})),1)},a=[],r=(i("159b"),i("23ba"),{name:"selectVmClientUsers",props:{optionListAsync:{type:Array},labelField:{type:Array},valueField:{type:Array},selectValueAsync:{type:String}},data:function(){return{selectValue:"",optionSelectList:[]}},mounted:function(){this.$emit("getOptionSelectList"),console.log},watch:{optionListAsync:{handler:function(e,t){this.optionSelectList=e}},selectValueAsync:{handler:function(e,t){this.selectValue=e}}},methods:{emptySelectValue:function(){this.$emit("getOptionSelectList")},getSelectValue:function(e){console.log("selectValue",e),this.$emit("getSelectValue",e)},remoteMethod:function(e){this.$emit("getOptionSelectList",e)},clear:function(){this.$emit("getOptionSelectList")},blur:function(){this.$emit("getOptionSelectList")},getLabelField:function(e){return this.labelField.forEach((function(t){e=e[t]})),e},getValueField:function(e){return this.valueField.forEach((function(t){e=e[t]})),e}}}),s=r,o=i("2877"),l=Object(o["a"])(s,n,a,!1,null,null,null);t["a"]=l.exports},2:function(e,t){},"23ba":function(e,t,i){"use strict";i.d(t,"h",(function(){return a})),i.d(t,"l",(function(){return r})),i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return l})),i.d(t,"g",(function(){return c})),i.d(t,"j",(function(){return u})),i.d(t,"e",(function(){return d})),i.d(t,"f",(function(){return p})),i.d(t,"i",(function(){return g})),i.d(t,"k",(function(){return m})),i.d(t,"b",(function(){return f}));var n=i("b775");i("ba0f");function a(e){return Object(n["a"])({url:"/business/client/queryClientGroupList",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/business/client/saveOrUpdateClientGroup",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/business/client/queryClientCompanySelectList",method:"post",params:e})}function o(e){return Object(n["a"])({url:"/business/client/queryClientCompanyRelationListByGroupId",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/business/client/checkReClientGroupName",method:"post",params:e})}function c(e){return Object(n["a"])({url:"/business/client/queryClientGroupInfo",method:"post",params:e})}function u(e){return Object(n["a"])({url:"/business/client/removeClientGroup",method:"post",params:e})}function d(e){return Object(n["a"])({url:"/business/client/queryClientCompanyWorkplaceInfo",method:"post",params:e})}function p(e){return Object(n["a"])({url:"/business/client/queryClientCompanyWorkplaceList",method:"post",data:e})}function g(e){return Object(n["a"])({url:"/business/client/removeClientCompanyWorkplace",method:"post",params:e})}function m(e){return Object(n["a"])({url:"/business/client/saveOrUpdateClientCompanyWorkplace",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/business/client/queryAllClientCompanySelectList",method:"post",data:e})}},2775:function(e,t,i){},3:function(e,t){},4:function(e,t){},5:function(e,t){},6682:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryCityListData}},[i("el-form-item",{attrs:{label:"区县名称"}},[i("zm-select",{ref:"regionNameSelect",attrs:{optionListAsync:this.regionNameList,selectValueAsync:e.queryCityListData.regionName,labelField:["regionName"],valueField:["regionId"]},on:{getOptionSelectList:e.getRegionNameist,getSelectValue:e.getRegionNameValue}})],1),i("el-form-item",{attrs:{label:"所属省"}},[i("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:""},on:{change:e.onGetCity},model:{value:e.queryCityListData.cityId,callback:function(t){e.$set(e.queryCityListData,"cityId",t)},expression:"queryCityListData.cityId"}},e._l(e.provinceListData,(function(e){return i("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})})),1)],1),i("el-form-item",{attrs:{label:"所属市"}},[i("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:""},on:{change:e.changeParentId},model:{value:e.queryCityListData.parentId,callback:function(t){e.$set(e.queryCityListData,"parentId",t)},expression:"queryCityListData.parentId"}},e._l(e.cityListData,(function(e){return i("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})})),1)],1),i("div",{staticClass:"right-btn"},[i("el-button",{directives:[{name:"has",rawName:"v-has",value:"database.county.add",expression:"'database.county.add'"}],staticClass:"but-91",on:{click:e.toNewProvince}},[e._v("新增")]),i("el-button",{staticClass:"but-91",on:{click:e.emptyBtn}},[e._v("重置")]),i("el-button",{directives:[{name:"has",rawName:"v-has",value:"database.county.list",expression:"'database.county.list'"}],staticClass:"but-91",on:{click:e.queryList}},[e._v("查询")])],1)],1),i("div",{staticClass:"table-min"},[i("el-table",{staticStyle:{width:"100%","border-radius":"6px"},attrs:{height:"542px",data:e.countyListData,size:"medium","header-cell-style":{background:"#fff",color:"#333"}}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center",index:e.indexMethod}}),i("el-table-column",{attrs:{prop:"regionName",label:"区县名称",align:"center"}}),i("el-table-column",{attrs:{prop:"parentVo.regionName",label:"所属市",align:"center"}}),i("el-table-column",{attrs:{prop:"parentVo.parentVo.regionName",label:"所属省",align:"center"}}),i("el-table-column",{attrs:{label:"操作",fixed:"right",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{directives:[{name:"has",rawName:"v-has",value:"database.county.edit",expression:"'database.county.edit'"}],staticClass:"customBtn",staticStyle:{"margin-right":"6px"},on:{click:function(i){return e.toEditPage(t.row)}}},[e._v("编辑")]),i("span",{directives:[{name:"has",rawName:"v-has",value:"database.county.delete",expression:"'database.county.delete'"}],staticClass:"customBtn",on:{click:function(i){return e.delBtn(t.row.regionId)}}},[e._v("删除")])]}}])})],1),i("el-dialog",{staticStyle:{"margin-top":"160px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,width:"30%",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"submitCityListData",attrs:{rules:e.rulesDialog,model:e.submitCityListData,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"所属省",prop:"parentIds"}},[i("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:""},model:{value:e.submitCityListData.parentIds,callback:function(t){e.$set(e.submitCityListData,"parentIds",t)},expression:"submitCityListData.parentIds"}},e._l(e.provinceListData,(function(e){return i("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})})),1)],1),i("el-form-item",{attrs:{label:"所属市",prop:"parentId"}},[i("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:""},model:{value:e.submitCityListData.parentId,callback:function(t){e.$set(e.submitCityListData,"parentId",t)},expression:"submitCityListData.parentId"}},e._l(e.cityListData,(function(e){return i("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})})),1)],1),i("el-form-item",{attrs:{label:"区县名称",prop:"regionName"}},[i("el-input",{staticStyle:{width:"200px"},model:{value:e.submitCityListData.regionName,callback:function(t){e.$set(e.submitCityListData,"regionName",t)},expression:"submitCityListData.regionName"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.preserveBtn("submitCityListData")}}},[e._v("确 定")])],1)],1)],1),i("div",{staticClass:"pagination-min"},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[15,30,50],layout:"total,sizes, prev, pager, next, jumper",total:e.paginationData.rowCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],1)],1)},a=[],r=i("1da1"),s=(i("96cf"),i("d81d"),i("ac1f"),i("5319"),i("b0c0"),i("fb6a"),i("a417")),o=i("1c98"),l={components:{zmSelect:o["a"]},data:function(){var e=function(e,t,i){""!=t?i():i(new Error("内容不能为空！"))};return{rulesDialog:{parentIds:[{required:!0,message:"请选择省",trigger:"change"}],parentId:[{required:!0,message:"请选择市",trigger:"change"}],regionName:[{required:!0,validator:e,trigger:"change"}]},countyListData:[],cityListData:[],provinceListData:[],dialogFormVisible:!1,formLabelWidth:"120px",formDialog:{parentId:"",name:""},regionNameList:[],queryCityListData:{regionName:"",parentId:"",cityId:"",regionLevel:3},submitCityListData:{parentIds:"",parentId:"",regionCode:"",regionId:"",regionLevel:"",regionList:[],regionName:"",regionNameEn:"",regionOrder:"",regionShortnameEn:""},currentRegionName:"",dialogTitle:"创建区/县",paginationData:{},currentPage:1,pageSize:15,pageIndex:1}},created:function(){var e=this;Object(s["B"])({regionLevel:1}).then((function(t){e.provinceListData=t})),Object(s["B"])({regionLevel:2}).then((function(t){e.cityListData=t})),this.baseList(this.pageIndex)},methods:{indexMethod:function(e){return this.pageSize*this.paginationData.pageIndex+e-this.pageSize+1},querySearchAsync:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(""!=e){i.next=4;break}t([]),i.next=11;break;case 4:return i.next=6,Object(s["B"])({regionName:e});case 6:n=i.sent,console.log(n),n&&(a=n.map((function(e){return{value:e.regionName}}))),console.log("arr",a),t(a);case 11:case"end":return i.stop()}}),i)})))()},baseList:function(e){var t=this;Object(s["C"])({input:this.queryCityListData,nextToken:"",pageEnd:0,pageIndex:e,pageSize:this.pageSize,pageStart:0}).then((function(e){t.paginationData=e,t.countyListData=e.result}))},emptyBtn:function(){this.queryCityListData={regionName:"",parentId:"",cityId:"",regionLevel:3},this.baseList(this.pageIndex),this.$refs.regionNameSelect.emptySelectValue()},toNewProvince:function(){var e=this;this.dialogFormVisible=!0,this.dialogTitle="创建区/县",this.submitCityListData={parentIds:"",parentId:"",regionCode:"",regionId:"",regionLevel:"",regionList:[],regionName:"",regionNameEn:"",regionOrder:"",regionShortnameEn:""},this.$nextTick((function(){e.$refs.submitCityListData.clearValidate()}))},toEditPage:function(e){var t=this;this.dialogFormVisible=!0;var i=JSON.parse(JSON.stringify(e));i.parentIds=e.parentVo.parentId,this.submitCityListData=i,this.dialogTitle="编辑区/县",this.$nextTick((function(){t.$refs.submitCityListData.clearValidate()}))},preserveBtn:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(s["W"])(t.submitCityListData).then((function(e){t.dialogFormVisible=!1,t.baseList(t.pageIndex),"创建区/县"==t.dialogTitle?t.$message({message:"新增成功！",type:"success"}):t.$message({message:"编辑成功！",type:"success"})}))}))},delBtn:function(e){var t=this;this.$confirm("此操作将永久删除该数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["P"])({regionId:e}).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.baseList()}))}))},toDetails:function(e){this.$router.push({path:"groupDetails",query:{clientGroupId:e}})},onGetCity:function(e){var t=this;this.queryCityListData.parentId="",Object(s["D"])({parentId:e,regionCode:"",regionId:"",regionLevel:"2",regionList:[],regionName:"",regionNameEn:"",regionOrder:"",regionShortnameEn:""}).then((function(e){t.cityListData=e}))},beforeHandleCommand:function(e,t){return{item:e,command:t}},queryList:function(){this.baseList(this.pageIndex)},handleCommand:function(e){var t=this;"a"==e.command?this.$router.push({path:"groupDetails",query:{clientGroupId:e.item.clientGroup.clientGroupId}}):"b"==e.command&&this.$confirm("此操作将永久删除该数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"删除成功!"})})).catch((function(e){}))},handleSizeChange:function(){this.baseList()},handleCurrentChange:function(e){this.baseList(e)},inputChange:function(e){var t=e.target;t.value=t.value.replace(/[^\u4E00-\u9FA5]/g,""),this.name=t.value},changeParentId:function(){this.getRegionNameist()},getRegionNameist:function(e){var t=this,i={regionLevel:3,parentId:this.queryCityListData.parentId,regionName:e||""};Object(s["B"])(i).then((function(e){console.log("res",e);var i=e;i.length>30&&(i=i.slice(0,30)),t.regionNameList=i,console.log("this.regionNameList",t.regionNameList)}))},getRegionNameValue:function(e){this.queryCityListData.regionName=e,console.log(e)}}},c=l,u=(i("781f"),i("2877")),d=Object(u["a"])(c,n,a,!1,null,"a76803de",null);t["default"]=d.exports},"781f":function(e,t,i){"use strict";i("2775")}}]);