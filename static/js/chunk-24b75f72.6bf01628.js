(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24b75f72"],{"122c":function(e,t,a){"use strict";a("ae5a")},"1f83":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toms-container"},[a("div",{staticClass:"toms-add-navBar"},e._l(e.navList,(function(t,n){return a("div",{key:t,class:{current:e.navFlag===n},on:{click:function(t){return e.navChange(n)}}},[e._v(" "+e._s(t)+" ")])})),0),a("div",{staticClass:"toms-add-contentWrap"},[a("div",{staticClass:"formContent"},[e._m(0),a("div",{staticClass:"formItem"},[a("basic-process-info",{ref:"basicProcessData",attrs:{basicProcessInfo:e.basicProcessData}})],1)]),a("div",{staticClass:"formContent"},[e._m(1),a("div",{staticClass:"formItem"},[a("employeeInfo",{ref:"employeeInfo",attrs:{basicFormData:e.basicFormData},on:{empChange:e.empChange,changeType:e.typeChange,employChange:e.employChange}})],1)]),["IT_XXBG_001"].includes(e.changeType)?a("div",{staticClass:"formContent"},[e._m(2),a("div",{staticClass:"formItem"},[a("oldCustomerInfo",{ref:"oldCustomerInfo",attrs:{basicFormData:e.oldCustomerInfoData}})],1)]):e._e(),["IT_XXBG_001"].includes(e.changeType)?a("div",{staticClass:"formContent"},[e._m(3),a("div",{staticClass:"formItem"},[a("newCustomerInfo",{ref:"newCustomerInfo",attrs:{basicFormData:e.newCustomerInfoData,orgId:e.queryEmployData.orgId}})],1)]):e._e(),["IT_XXBG_002"].includes(e.changeType)?a("div",{staticClass:"formContent"},[e._m(4),a("div",{staticClass:"formItem"},[a("jobsChange",{ref:"jobsChange",attrs:{basicFormData:e.jobsChangeData}})],1)]):e._e(),["IT_XXBG_007"].includes(e.changeType)?a("div",{staticClass:"formContent"},[e._m(5),a("div",{staticClass:"formItem"},[a("levelChangeInfo",{ref:"jobsChange",attrs:{basicFormData:e.levelChangeData}})],1)]):e._e(),["IT_XXBG_005","IT_XXBG_008","IT_XXBG_009"].includes(e.changeType)?a("div",{staticClass:"formContent"},[e._m(6),a("div",{staticClass:"formItem"},[a("calloutInfo",{ref:"calloutInfo",attrs:{basicFormData:e.calloutInfoData,orgId:e.queryEmployData.orgId}})],1)]):e._e(),["IT_XXBG_008"].includes(e.changeType)?a("div",{staticClass:"formContent"},[e._m(7),a("div",{staticClass:"formItem"},[a("callinInfo",{ref:"callinInfo",attrs:{basicFormData:e.callinInfoData,orgId:e.queryEmployData.orgId,currentNode:e.currentNode,outOrgIdList:e.calloutInfoData.outOrgIdList}})],1)]):e._e(),["IT_XXBG_009"].includes(e.changeType)?a("div",{staticClass:"formContent"},[e._m(8),a("div",{staticClass:"formItem"},[a("levelTwoCallinInfo",{ref:"callinInfo",attrs:{basicFormData:e.levelTwoCallinInfoData,orgId:e.queryEmployData.orgId,currentNode:e.currentNode,outOrgIdList:e.calloutInfoData.outOrgIdList}})],1)]):e._e(),["IT_XXBG_005"].includes(e.changeType)?a("div",{staticClass:"formContent"},[e._m(9),a("div",{staticClass:"formItem"},[a("levelAndTypeCallinInfo",{ref:"callinInfo",attrs:{basicFormData:e.levelAndTypeCallinData,orgId:e.queryEmployData.orgId,currentNode:e.currentNode,outOrgIdList:e.calloutInfoData.outOrgIdList}})],1)]):e._e(),["IT_XXBG_010"].includes(e.changeType)?a("div",{staticClass:"formContent"},[e._m(10),a("div",{staticClass:"formItem"},[a("employTypeChangeInfo",{ref:"jobsChange",attrs:{basicFormData:e.employTypeChangeData}})],1)]):e._e(),["IT_XXBG_006"].includes(e.changeType)?a("div",{staticClass:"formContent"},[e._m(11),a("div",{staticClass:"formItem"},[a("statusChangeInfo",{ref:"statusChangeInfo",attrs:{basicFormData:e.statusChangeInfoData}})],1)]):e._e(),e.isShowProcessInfoComputed?a("div",{staticClass:"formContent"},[e._m(12),a("process-info",{ref:"approvalForm",attrs:{isDetails:!1,aprvData:e.aprvData,processInfo:e.processInfoObj,moduleName:e.moduleName}})],1):e._e(),e._e()]),a("operation-btn",{attrs:{processFormParams:e.processFormParams,processImageSrc:e.entryProcessImage,prepareCommitParams:e.prepareCmtParams,taskFlowConfig:e.taskFlowConfig,taskNodeInstance:e.taskNodeInstance,taskInstance:e.taskInstance,uploadTableData:e.uploadTableData,aprvData:e.aprvData,componentRefs:e.componentRefs,moduleName:e.moduleName,currenFlowInfo:e.currenFlowInfo},on:{ccPeopleCallback:e.ccPeopleCallback,getAllFormData:e.getAllFormData}})],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav0"}},[a("span",[e._v("基本信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav1"}},[a("span",[e._v("变更信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav2"}},[a("span",[e._v("原客户方信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav3"}},[a("span",[e._v("新客户方信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav2"}},[a("span",[e._v("岗位变更")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav2"}},[a("span",[e._v("结算级别变动")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav2"}},[a("span",[e._v("调出信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav3"}},[a("span",[e._v("调入信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav3"}},[a("span",[e._v("调入信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav3"}},[a("span",[e._v("调入信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav2"}},[a("span",[e._v("员工类型信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav2"}},[a("span",[e._v("状态信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",staticStyle:{"margin-bottom":"10px"},attrs:{id:"navigation6"}},[a("span",[e._v("流程信息")]),a("div",{staticClass:"line"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title",attrs:{id:"nav6"}},[a("span",[e._v("抄送人")])])}],o=a("1da1"),i=a("5530"),s=(a("96cf"),a("caad"),a("2532"),a("d3b7"),a("d81d"),a("b64b"),a("99af"),a("a9e3"),a("fb6a"),a("159b"),a("ac1f"),a("1276"),a("9587")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("zm-form",{ref:"employeeInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"},on:{changeType:e.changeType,openSelectP:e.openSelectP,employNameChange:e.employNameChange}}),e.isShowCcModal?a("cc-people-modal",{attrs:{isShowCcModal:e.isShowCcModal,customEventName:"peopleNameChang",employType:"emp_type_001"},on:{"update:isShowCcModal":function(t){e.isShowCcModal=t},"update:is-show-cc-modal":function(t){e.isShowCcModal=t},peopleNameChang:e.peopleNameChang}}):e._e()],1)},l=[],d=a("c91b"),u=a("470f"),p=a("3881"),m=function(e){var t=e.$store.state.baseData.baseDataOptionList,a=JSON.parse(JSON.stringify(t["IT_XXBG"])).slice(0,8);return[{span:12,list:[{type:"select",prop:"changeType",label:"变更类型",placeholder:"请选择",customOption:{customLable:"请选择",customValue:""},optionList:a,changeFn:"changeType",hidden:Object(p["b"])("change.form.employ.changeType"),disabled:Object(p["a"])("change.form.employ.changeType")}]},{span:12,list:[{type:"text",label:"工号/姓名",prop:"employName",searchBtn:{icon:"el-icon-search",changeFn:function(){e.openSelectP()}},focus:"openSelectP",changeFn:"employNameChange",hidden:Object(p["b"])("change.form.employ.employId"),disabled:Object(p["a"])("change.form.employ.employId")}]}]},b={changeType:{required:!0,message:"请选择变更类型",trigger:"change"},employName:{required:!0,message:"请填写工号/姓名",trigger:"change"}},h={name:"Basic",components:{zmForm:d["a"],ccPeopleModal:u["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:b,isIdCard:!1,isShowCcModal:!1}},computed:{formConfig:function(){return m(this)}},watch:{"basicFormData.employName":{handler:function(e){}}},mounted:function(){console.log("变更信息",this.basicFormData)},methods:{employNameChange:function(e){},changeType:function(e){this.$emit("changeType",e)},openSelectP:function(){this.isShowCcModal=!0},peopleNameChang:function(e){Object.assign(this.basicFormData,e),this.basicFormData.employName=e.text,this.basicFormData.employId=e.value,this.$emit("empChange",e)}}},f=h,g=a("2877"),y=Object(g["a"])(f,c,l,!1,null,"47c93323",null),C=y.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("zm-form",{ref:"oldCustomerInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"150px"},on:{isFreeChange:e.isFreeChange,freeTimeEndChange:e.freeTimeEndChange}})],1)},w=[],v=a("ed08"),O=function(e){var t=e.$store.state.baseData.baseDataOptionList;return[{span:12,list:[{type:"text",label:"原客户方",prop:"oldClientIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientId1"),disabled:Object(p["a"])("change.form.employ.oldClientId1")}]},{span:12,list:[{type:"text",label:"原客户二级分类",prop:"oldClientTwoLevelIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.clientTwoLevelName1")||Object(v["j"])(e.$parent.oldCustomerInfoData.oldClientTwoLevelIdCN),disabled:Object(p["a"])("change.form.employ.clientTwoLevelName1")}]},{span:12,list:[{type:"text",label:"原客户合同",prop:"oldContactIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldContactId1"),disabled:Object(p["a"])("change.form.employ.oldContactId1")}]},{span:12,list:[{type:"text",label:"原结算岗位",prop:"oldPayJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldPayJob1"),disabled:Object(p["a"])("change.form.employ.oldPayJob1")}]},{span:12,list:[{type:"text",label:"原结算职级",prop:"oldPayLevel",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldPayLevel1"),disabled:Object(p["a"])("change.form.employ.oldPayLevel1")}]},{span:12,list:[{type:"text",label:"原客户方岗位",prop:"oldClientJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientJob1"),disabled:Object(p["a"])("change.form.employ.oldClientJob1")}]},{span:12,list:[{type:"text",label:"原对应交付",prop:"oldHandUserCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldHandUser1"),disabled:Object(p["a"])("change.form.employ.oldHandUser1")}]},{span:12,list:[{type:"text",label:"原客户职场名称",prop:"oldClientName",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientName"),disabled:Object(p["a"])("change.form.employ.oldClientName")}]},{span:12,list:[{type:"text",label:"原客户职场地址",prop:"oldClientAddress",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientAddress"),disabled:Object(p["a"])("change.form.employ.oldClientAddress")}]},{span:12,list:[{type:"date",label:"离场日期",prop:"leaveDate",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.leaveDate1"),disabled:Object(p["a"])("change.form.employ.leaveDate1")}]},{span:12,list:[{type:"date",label:"原客户结算截止日期",prop:"clientClosepayDate",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.clientClosepayDate"),disabled:Object(p["a"])("change.form.employ.clientClosepayDate")}]},{span:12,list:[{type:"radioGroup",label:"是否有闲置时间",prop:"freeTimeFlag",placeholder:"请输入",optionList:t["IS_YSNO"],changeFn:"isFreeChange",hidden:Object(p["b"])("change.form.employ.freeTimeFlag"),disabled:Object(p["a"])("change.form.employ.freeTimeFlag")}]},{span:12,list:[{type:"date",datePickerType:"daterange",label:"闲置时间段",prop:"freeTimeRange",changeFn:"freeTimeEndChange",hidden:!0,disabled:Object(p["a"])("change.form.employ.freeTimeStart1")}]},{span:12,list:[{type:"text",label:"闲置天数",prop:"freeDays",placeholder:"自动计算",hidden:!0,disabled:Object(p["a"])("change.form.employ.freeDay")}]},{span:12,list:[{type:"text",label:"变更原因",prop:"changeCause",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.changeCause1"),disabled:Object(p["a"])("change.form.employ.changeCause1")}]}]},D=function(e){var t=function(t,a,n){a||n(new Error("请选择离场日期")),console.log("95959",new Date(a),e.$parent.queryEmployData.clientEntryTime),new Date(a)<new Date(e.$parent.queryEmployData.clientEntryTime)&&n(new Error("离场日期不能小于该员工的入场日期")),n()},a=function(t,a,n){a||n(new Error("请选择原客户结算截止日期"));var r=new Date(e.basicFormData.leaveDate).getTime()-2592e6;r>new Date(a).getTime()&&n(new Error("截止日期不能小于离场日期 1 个月")),n()},n=function(t,a,n){a&&0!==a.length||n(new Error("请选择闲置时间段"));var r=new Date(a[0]).getTime();e.basicFormData.leaveDate?(new Date(e.basicFormData.leaveDate).getTime()-r)/1e3/60/60/24>=7&&n(new Error("开始日期不能小于离场日 期 7 天")):r<new Date(e.$parent.queryEmployData.clientEntryTime).getTime()&&n(new Error("开始日期不能小于入场日期")),n()};return{freeTimeFlag:{required:!0,message:"请选择是否有闲置时间",trigger:"change"},changeCause:{required:!0,message:"请输入变更原因",trigger:"blur"},leaveDate:{required:!0,validator:t},clientClosepayDate:{required:!0,validator:a},freeTimeRange:{required:!0,validator:n}}},j={name:"OldCustomerInfo",components:{zmForm:d["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{formConfig:[],rules:D(this),isShowCcModal:!1}},computed:{formConfigList:function(){return O(this)}},watch:{formConfigList:{handler:function(e){this.formConfig=e,console.log("原客户方信息",this.basicFormData)},deep:!0,immediate:!0}},mounted:function(){this.isFreeChange(this.basicFormData.freeTimeFlag)},beforeDestroy:function(){this.$refs["oldCustomerInfo"].resetFields()},methods:{isFreeChange:function(e){var t=this;"TRUE"===e?this.formConfig.forEach((function(e){"freeTimeRange"!==e.list[0].prop&&"freeDays"!==e.list[0].prop||t.$set(e.list[0],"hidden",!1)})):"FALSE"===e&&(this.formConfig.forEach((function(e){"freeTimeRange"!==e.list[0].prop&&"freeDays"!==e.list[0].prop||t.$set(e.list[0],"hidden",!0)})),this.basicFormData.freeTimeEnd="",this.basicFormData.freeTimeStart="",this.basicFormData.freeDays="")},freeTimeEndChange:function(e){if(console.log("freeTimeEndChange",this.basicFormData),Array.isArray(e)&&e.length){var t=new Date(e[1]).getTime()-new Date(e[0]).getTime();this.basicFormData.freeTimeStart=e[0],this.basicFormData.freeTimeEnd=e[1],this.basicFormData.freeDays=Math.floor(t/1e3/60/60/24)}else this.basicFormData.freeTimeStart="",this.basicFormData.freeTimeEnd="",this.basicFormData.freeDays=""}}},L=j,T=Object(g["a"])(L,I,w,!1,null,"ba7a5f30",null),P=T.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("zm-form",{ref:"newCustomerInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"150px"},on:{openSelectP:e.openSelectP,isIncreaseSalaryChange:e.isIncreaseSalaryChange,customerWorkplaceChange:e.customerWorkplaceChange,oldPayJobChange:e.oldPayJobChange,clientCompanyIdRemote:e.clientCompanyIdRemote,contractIdRemote:e.contractIdRemote,newClientIdChange:e.newClientIdChange,newContactIdChange:e.newContactIdChange,newEmployType:e.newEmployType}}),e.isShowCcModal?a("cc-people-modal",{attrs:{isQueryUser:!0,isQueryJfOrZp:!0,roleType:e.roleType,isShowCcModal:e.isShowCcModal,customEventName:"newHandUserChagne"},on:{"update:isShowCcModal":function(t){e.isShowCcModal=t},"update:is-show-cc-modal":function(t){e.isShowCcModal=t},newHandUserChagne:e.newHandUserChagne}}):e._e()],1)},k=[],x=(a("7db0"),a("4de4"),a("4360")),N=x["a"].state.baseData.baseDataOptionList,S=JSON.parse(JSON.stringify(N["IT_EMTY"])).slice(0,2),E=function(e){return[{span:12,list:[{type:"remoteSelectLoading",label:"新客户方",prop:"newClientId",selectOptionList:e.entryClientCompanyList,customOption:{customLabel:"clientCompanyName",customValue:"clientCompanyId"},remoteMethod:"clientCompanyIdRemote",changeFn:"newClientIdChange",filterable:!0,focus:"newClientIdFocus",noMatchText:"查无客户, 请换一个客户名称试试",hidden:Object(p["b"])("change.form.employ.newClientId1"),disabled:Object(p["a"])("change.form.employ.newClientId1")}]},{span:12,list:[{type:"text",label:"客户简称",prop:"newClientSimpleName",hidden:Object(p["b"])("change.form.employ.clientSimpleName"),disabled:Object(p["a"])("change.form.employ.clientSimpleName")}]},{span:12,list:[{type:"select",prop:"newClientTwoLevelId",label:"新客户二级分类",placeholder:"请选择",filterable:!0,optionList:e.ClientTwoLevelList,customOption:{customLabel:"clientTwoLevelName",customValue:"clientTwoLevelId"},rules:[{required:!0,message:"请输入客户二级分类",trigger:"change"}],hidden:Object(p["b"])("change.form.employ.clientTwoLevelName2")||!e.ClientTwoLevelList.length>0,disabled:Object(p["a"])("change.form.employ.clientTwoLevelName2")}]},{span:12,list:[{type:"remoteSelectLoading",label:"新客户合同",prop:"newContactId",filterable:!0,selectOptionList:e.entryContractList,remoteMethod:"contractIdRemote",customOption:{customLabel:"contractName",customValue:"contractId"},noMatchText:"查无合同, 请换一个合同名称试试",changeFn:"newContactIdChange",hidden:Object(p["b"])("change.form.employ.newContactId1"),disabled:Object(p["a"])("change.form.employ.newContactId1")}]},{span:12,list:[{type:"text",label:"新对应交付",prop:"newHandUserCN",searchBtn:{icon:"el-icon-search",changeFn:function(){e.openSelectP()}},changeFn:"newHandUserChagne",focus:"openSelectP",hidden:Object(p["b"])("change.form.employ.newHandUser1"),disabled:Object(p["a"])("change.form.employ.newHandUser1")}]},{span:12,list:[{type:"date",label:"入场日期",prop:"entryClientDate",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.entryClientDate1"),disabled:Object(p["a"])("change.form.employ.entryClientDate1")}]},{span:12,list:[{type:"date",label:"新客户结算开始日期",prop:"newClientPayDate",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.newClientPayDate1"),disabled:Object(p["a"])("change.form.employ.newClientPayDate1")}]},{span:12,list:[{type:e.jobInputType,label:"结算岗位",filterable:!0,prop:"newClientPayJob",optionList:e.jobList,changeFn:"oldPayJobChange",hidden:Object(p["b"])("change.form.employ.newClientPayJob1"),disabled:Object(p["a"])("change.form.employ.newClientPayJob1")}]},{span:12,list:[{type:e.jobInputType2,label:"结算职级",filterable:!0,optionList:e.jobLevelList,prop:"newClientPayLevel",hidden:Object(p["b"])("change.form.employ.newClientPayLevel1"),disabled:Object(p["a"])("change.form.employ.newClientPayLevel1")}]},{span:12,list:[{type:"text",label:"客户方岗位",prop:"newClientJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.newClientJob1"),disabled:Object(p["a"])("change.form.employ.newClientJob1")}]},{span:12,list:[{type:"select",label:"客户职场名称",prop:"newClientWorkId",optionList:e.workplaceList,customOption:{customLabel:"workplaceName",customValue:"workplaceId"},changeFn:"customerWorkplaceChange",hidden:Object(p["b"])("change.form.employ.newClientWorkName1"),disabled:Object(p["a"])("change.form.employ.newClientWorkName1")}]},{span:12,list:[{type:"text",label:"客户职场地址",prop:"newClientWorkAddress",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.newClientWorkAddress1"),disabled:Object(p["a"])("change.form.employ.newClientWorkAddress1")}]},{span:12,list:[{type:"select",label:"客户方结算价格",prop:"clientPayPrice",optionList:N["IT_CLPP"],changeFn:"",hidden:Object(p["b"])("change.form.employ.moneyChange1"),disabled:Object(p["a"])("change.form.employ.moneyChange1")}]},{span:12,list:[{type:"quotePrice",offsetBottom:"-17px",unitWidth:"100px",unitOptionList:N.IT_RUIT,unitProp:"quotedPriceUnit",label:"最新商务报价",prop:"newBusinessPrice",afterTxt:"元",width:"80%",tipContent:"商务报价是指客户方的结算价格",tipText:e.rangeTips,isShowBottomTip:e.rangeTips,hidden:Object(p["b"])("change.form.employ.moneyChange1"),disabled:Object(p["a"])("change.form.employ.moneyChange1")}]},{span:12,list:[{type:"select",label:"是否含税",placeholder:"请选择",prop:"isHasTax",optionList:[{text:"是",value:"TRUE"},{text:"否",value:"FALSE"}],hidden:!!Object(p["b"])("price.form.employ.isHasTax1")||!("IT_QTTP_003"===e.contractPriceType||"IT_QTTP_004"===e.contractPriceType),disabled:Object(p["a"])("price.form.employ.isHasTax1")}]},{span:12,list:[{type:"number",label:"薪酬倍数",placeholder:"请输入",prop:"salaryTimes",precision:2,max:10,hidden:!!Object(p["b"])("price.form.employ.salaryTimes1")||!("IT_QTTP_004"===e.contractPriceType),disabled:Object(p["a"])("price.form.employ.salaryTimes1")}]},{span:12,list:[{type:"date",label:"变动生效日期",prop:"effectiveDate",placeholder:"请选择",hidden:Object(p["b"])("change.form.employ.newClientPayDate1"),disabled:Object(p["a"])("change.form.employ.newClientPayDate1")}]},{span:12,list:[{type:"select",label:"员工类型是否改变",placeholder:"请选择",prop:"employTypeChangeFlag",optionList:N["IS_YSNO"],hidden:Object(p["b"])("change.form.employ.employTypeChangeFlag"),disabled:Object(p["a"])("change.form.employ.employTypeChangeFlag")}]},{span:12,list:[{type:"select",label:"原员工类型",placeholder:"请选择",prop:"oldEmployType",optionList:N["IT_EMTY"],hidden:"TRUE"!==e.basicFormData.employTypeChangeFlag,disabled:Object(p["a"])("change.form.employ.oldEmployType")}]},{span:12,list:[{type:"select",label:"新员工类型",placeholder:"请选择",prop:"newEmployType",optionList:S,changeFn:"newEmployType",hidden:"TRUE"!==e.basicFormData.employTypeChangeFlag,disabled:Object(p["a"])("change.form.employ.newEmployType")}]}]},_=function(e){var t=function(e,t,a){return t?Number(t)>0&&Number(t)<99999?a():a(new Error("仅可输入大于 0 或者小于 99999 的金额数字")):a(new Error("请输入最新商务报价"))},a=function(t,a,n){a||n(new Error("请选择入场日期"));var r=e.$parent.oldCustomerInfoData.leaveDate||"";r&&new Date(a)<new Date(r)&&n(new Error("入场日期不能小于原离场日期")),n()},n=function(t,a,n){a||n(new Error("请选择新客户结算开始日期"));var r=e.$parent.newCustomerInfoData.entryClientDate||"";r&&new Date(a)<new Date(r)&&n(new Error("新客户结算开始日期不能小于入场日期")),n()},r=function(e,t,a){t||a(new Error("请选择新客户合同")),a()};return{newClientId:{required:!0,message:"请选择新客户方",trigger:"change"},newContactId:{required:!0,validator:r},newHandUserCN:{required:!0,message:"请填写新对应交付",trigger:"change"},entryClientDate:{required:!0,validator:a},newClientPayDate:{required:!0,validator:n},newClientPayJob:{required:!0,message:"请选择或输入结算岗位",trigger:"change"},newClientPayLevel:{required:!0,message:"请选择或输入结算职级",trigger:"change"},newClientJob:{required:!0,message:"请填写客户方岗位",trigger:"change"},newClientWorkName:{required:!0,message:"请选择客户职场名称",trigger:"change"},clientPayPrice:{required:!0,message:"请选择客户方结算价格是否变化",trigger:"change"},newBusinessPrice:{required:!0,validator:t},quotedPriceUnit:{required:!0,message:"请选择报价单位",trigger:"change"},salaryTimes:{required:!0,message:"请输入薪酬倍数",trigger:"blur"},isHasTax:{required:!0,message:"请选择是否含税",trigger:"change"},employTypeChangeFlag:{required:!0,message:"请选择",trigger:"change"},newEmployType:{required:!0,message:"请选择",trigger:"change"},newClientWorkId:{required:!0,message:"请选择",trigger:"change"},newClientWorkAddress:{required:!0,message:"请选择",trigger:"change"}}},J=a("a417"),q=a("d14b"),R=a("f6b0"),A=a("f889"),U=a("2b6d"),$=a("35ad"),M={name:"NewCustomerInfo",components:{zmForm:d["a"],ccPeopleModal:u["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{formConfig:[],rules:_(this),isShowCcModal:!1,jobLevel:{},workplaceNameList:[],allContract:{},currentContract:{},entryClientCompanyList:[],entryContractList:[],workplaceList:[],jobList:[],jobLevelList:[],salaryTaskList:[],jobInputType:"select",jobInputType2:"select",jobParams:{},ClientTwoLevelList:[],roleType:"交付",contractPriceType:"",rangeTips:""}},computed:{formConfigList:function(){return E(this)},cityId:function(){return this.$parent.queryEmployData&&this.$parent.queryEmployData.employSocialCity},orgId:function(){return this.$parent.queryEmployData.orgId},city:function(){return this.$parent.queryEmployData.employSocialCity},education:function(){return this.$parent.queryEmployData.employEdu},isCallStationLevelBusinessUv:function(){return console.log("有合同&岗位&职级才查询商务报价",this.basicFormData.newContactId&&this.basicFormData.newClientPayJob&&this.basicFormData.newClientPayLevel),this.basicFormData.newContactId&&this.getPriceFlag&&this.basicFormData.newClientPayJob&&this.basicFormData.newClientPayLevel}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isIncreaseSalaryChange(e.basicFormData.moneyChange),!e.basicFormData.newContactId){t.next=10;break}return console.log("新客户方信息mounter生命周期：",e),t.next=5,Object($["s"])({contractId:e.basicFormData.newContactId});case 5:a=t.sent,n=a.priceType,r=a.ruleUnit,e.contractPriceType=n,e.basicFormData.quotedPriceUnit=r;case 10:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.$refs["newCustomerInfo"].resetFields()},watch:{"basicFormData.taskId":{handler:function(e){var t=this;this.salaryTaskList.map((function(a){console.log(a),a.taskInstanceId===e&&(t.basicFormData.uppriceHandLevel=a.relatedObject.uppriceHandLevel,t.basicFormData.uppriceAfterSalary=a.relatedObject.uppriceAfterSalary)}))},deep:!0,immediate:!0},"basicFormData.newHandUserCN":{handler:function(e){console.log("入场信息",e)},deep:!0,immediate:!0},formConfigList:{handler:function(e){this.formConfig=e},deep:!0,immediate:!0},orgId:{immediate:!0,handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=6;break}return n={orgId:e},a.next=4,Object(J["p"])(n);case 4:r=a.sent,t.entryClientCompanyList=Array.isArray(r)&&r;case 6:if(!e||!t.basicFormData.newClientId){a.next=19;break}return o={companyId:t.basicFormData.newClientId,orgId:t.orgId,keyword:""},a.next=10,Object(J["s"])(o);case 10:return i=a.sent,t.entryContractList=i,console.log("所属客户合同 ",t.entryContractList),console.log(t.basicFormData),a.next=16,Object(R["o"])({clientCompanyId:t.basicFormData.newClientId});case 16:s=a.sent,s.forEach((function(e){e.workplaceName=e.clientCompanyWorkplace.workplaceName,e.workplaceId=e.clientCompanyWorkplace.workplaceId,e.address=e.clientCompanyWorkplace.address})),t.workplaceList=s;case 19:t.isIncreaseSalaryChange(t.basicFormData.moneyChange);case 20:case"end":return a.stop()}}),a)})))()}},"basicFormData.newClientId":{immediate:!0,handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e||!t.orgId){a.next=14;break}return n={companyId:t.basicFormData.newClientId,orgId:t.orgId,keyword:""},a.next=4,Object(J["s"])(n);case 4:return r=a.sent,t.entryContractList=r,r.map((function(e){var t="WB"===e.contractId.split("-")[1]?"正式合同":"虚拟合同";e.contractName=e.contractName+"("+t+") "+e.contractId})),console.log("所属客户合同 ",t.entryContractList),console.log(t.basicFormData),a.next=11,Object(R["o"])({clientCompanyId:t.basicFormData.newClientId});case 11:o=a.sent,o.forEach((function(e){e.workplaceName=e.clientCompanyWorkplace.workplaceName,e.workplaceId=e.clientCompanyWorkplace.workplaceId,e.address=e.clientCompanyWorkplace.address})),t.workplaceList=o;case 14:if(!e){a.next=21;break}return a.next=17,Object(R["q"])({clientCompanyId:e});case 17:i=a.sent,t.ClientTwoLevelList=i,a.next=22;break;case 21:t.ClientTwoLevelList=[];case 22:case"end":return a.stop()}}),a)})))()}},"basicFormData.newContactId":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i,s,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=15;break}return a.next=3,Object($["s"])({contractId:e});case 3:n=a.sent,r=n.isEdu,o=n.isCity,i=n.priceType,s=n.ruleUnit,t.contractPriceType=i,t.basicFormData.quotedPriceUnit=s,t.getPriceFlag=!0,t.isQuoteByEdu=r,t.isQuoteCity=o,a.next=16;break;case 15:t.contractPriceType="";case 16:e&&t.entryContractList.length&&(t.currentContract=t.entryContractList.find((function(e){return e.contractId===t.basicFormData.newContactId})),console.log(t.currentContract),c={cityId:t.city,customerId:t.basicFormData.newClientId,education:t.education},t.getJobList(c));case 17:case"end":return a.stop()}}),a)})))()}},"basicFormData.newClientPayJob":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e&&{lineMainId:t.jobParams.lineMainId,version:t.jobParams.version,station:e};case 1:case"end":return a.stop()}}),a)})))()}},isCallStationLevelBusinessUv:{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e&&(console.log("再查商务报价222222222222"),t.queryBnsPrice());case 1:case"end":return a.stop()}}),a)})))()}}},methods:{queryBnsPrice:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,o,i,s,c,l,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.state.baseData.baseDataOptionList.IT_CITY.filter((function(t){return t.value===e.cityId})),n=a[0]&&a[0].text+"市",r=e.$store.state.baseData.baseDataOptionList.IT_EDUX.filter((function(t){return t.value===e.education})),o=r[0]&&r[0].text,console.log(o,n,"教育是否都能够匹配"),i={eduCn:e.isQuoteByEdu?o:"",cityCn:e.isQuoteCity?n:"",contractId:e.basicFormData.newContactId,jobCn:e.basicFormData.newClientPayJob,jobLevel:e.basicFormData.newClientPayLevel},t.next=8,Object($["g"])(i);case 8:s=t.sent,c=s.priceType,l=s.taxQuotation,d=s.taxQuotationLeft,u=s.taxQuotationRight,"IT_QTTP_001"===c?(e.rangeTips="",l?e.basicFormData.newBusinessPrice=l:(e.$message.warning("此结算岗位结算职级没有对应的商务报价，请选择正确的结算岗位和结算职级"),e.basicFormData.newBusinessPrice="")):"IT_QTTP_002"===c&&(d&&u?(e.taxQuotationLeft=d,e.taxQuotationRight=u,e.rangeTips="区间报价为".concat(d,"--").concat(u,",请填写实际商务报价。")):(e.$message.warning("此结算岗位结算职级没有对应的商务报价，请选择正确的结算岗位和结算职级"),e.rangeTips="",e.basicFormData.newBusinessPrice=""));case 14:case"end":return t.stop()}}),t)})))()},newEmployType:function(e){e===this.basicFormData.oldEmployType&&(this.$message.warning("新员工类型与旧员工类型一致，请重新选择"),this.basicFormData.newEmployType="")},clientCompanyIdRemote:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.orgId){a.next=2;break}return a.abrupt("return");case 2:return n=t.orgId,r=Array.isArray(n)?n[n.length-1]:n,o={orgId:r,clientCompanyName:e},a.next=7,Object(J["p"])(o);case 7:i=a.sent,t.entryClientCompanyList=Array.isArray(i)&&i;case 9:case"end":return a.stop()}}),a)})))()},contractIdRemote:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.basicFormData.newClientId&&t.orgId){a.next=2;break}return a.abrupt("return");case 2:return n=t.orgId,r=Array.isArray(n)?n[n.length-1]:n,a.next=6,Object(J["s"])({companyId:t.basicFormData.newClientId,keyword:e,orgId:r});case 6:o=a.sent,t.entryContractList=Array.isArray(o)&&o;case 8:case"end":return a.stop()}}),a)})))()},getJobList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.currentContract.contractId){e.next=7;break}return a={contractId:t.currentContract.contractId},e.next=4,Object(U["h"])(a);case 4:n=e.sent,console.log("查询结算岗位结果：",n),n&&n.length?n.forEach((function(e){"IT_DMST_003"===e.value?(t.basicFormData.quotedPriceUnit=e.ruleUnit,e.optionList&&e.optionList.length>0?(t.jobInputType="select",t.jobList=e.optionList):t.jobInputType="text"):"IT_DMST_004"===e.value&&(e.optionList&&e.optionList.length>0?(t.jobInputType2="select",t.jobLevelList=e.optionList):t.jobInputType2="text")})):(t.jobInputType="text",t.jobInputType2="text");case 7:case"end":return e.stop()}}),e)})))()},getJobLevel:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object($["u"])(e);case 2:n=a.sent,t.jobLevelList=Array.isArray(n.body.dataList)&&n.body.dataList.map((function(e){return{text:e,value:e}}));case 4:case"end":return a.stop()}}),a)})))()},customerWorkplaceChange:function(e){if(e){var t=this.workplaceList.find((function(t){return e==t.workplaceId}));this.basicFormData.newClientWorkName=t.workplaceName,console.log("customerWorkplaceChange",t),this.basicFormData.newClientWorkAddress=t.address}},openSelectP:function(){this.isShowCcModal=!0},newHandUserChagne:function(e){this.basicFormData.newHandUserCN=e.text||e.userName,this.basicFormData.newHandUser=e.userId||""},getClientCompanyWorkplaceList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=6;break}return n={clientCompanyId:e},a.next=4,queryClientCompanyWorkplaceList(n);case 4:r=a.sent,r&&r.length&&t.formConfig.forEach((function(e){"newClientWorkName"===e.list[0].prop&&(t.workplaceNameList=r.map((function(e){return Object(i["a"])({text:e.workplaceName,value:e.workplaceId},e)})),t.$set(e.list[0],"optionList",t.workplaceNameList))}));case 6:case"end":return a.stop()}}),a)})))()},newClientIdChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.getCustomerDetails(e);case 2:t.basicFormData.newContactId="",t.basicFormData.newHandUserCN="",t.basicFormData.newClientTwoLevelId="",t.basicFormData.newClientPayJob="",t.basicFormData.newClientPayLevel="",t.basicFormData.newClientWorkId="",t.basicFormData.newClientWorkAddress="";case 9:case"end":return a.stop()}}),a)})))()},getCustomerDetails:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(R["k"])({clientCompanyId:e});case 2:n=a.sent,t.$set(t.basicFormData,"newClientSimpleName",n.clientCompany.clientSimpleName);case 4:case"end":return a.stop()}}),a)})))()},newContactIdChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.basicFormData.newClientPayJob="",t.basicFormData.newClientWorkName="",a.next=4,Object($["s"])({contractId:e});case 4:n=a.sent,r=n.priceType,o=n.ruleUnit,t.contractPriceType=r,t.basicFormData.quotedPriceUnit=o;case 9:case"end":return a.stop()}}),a)})))()},oldPayJobChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.basicFormData.newClientPayLevel="";case 1:case"end":return e.stop()}}),e)})))()},isIncreaseSalaryChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("TRUE"!==e){a.next=11;break}if(t.formConfig.forEach((function(e){"taskId"!==e.list[0].prop&&"beforeSalary"!==e.list[0].prop&&"afterSalary"!==e.list[0].prop||t.$set(e.list[0],"hidden",!1)})),n=t.$parent.queryEmployData,!n||!n.employName){a.next=9;break}return r={empName:n.employName||"",flowName:n.flowName||"员工调薪流程",phoneNo:n.employPhone||""},a.next=7,Object(q["r"])(r);case 7:o=a.sent,t.salaryTaskList=o;case 9:a.next=12;break;case 11:"FALSE"===e&&t.formConfig.forEach((function(e){"taskId"!==e.list[0].prop&&"beforeSalary"!==e.list[0].prop&&"afterSalary"!==e.list[0].prop||t.$set(e.list[0],"hidden",!0)}));case 12:case"end":return a.stop()}}),a)})))()}}},W=M,B=Object(g["a"])(W,F,k,!1,null,"0d6eb914",null),H=B.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("zm-form",{ref:"jobsChange",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"150px"},on:{isIncreaseSalaryChange:e.isIncreaseSalaryChange,newClientPayJobChange:e.newClientPayJobChange,companyJobListChange:e.companyJobListChange}})],1)},X=[],V=(a("70391"),x["a"].state.baseData.baseDataOptionList,x["a"].state.baseData.jobTreeDate),G=function(e){var t=e.$store.state.baseData.baseDataOptionList;return[{span:12,list:[{type:"text",label:"所属客户",prop:"oldClientIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientId2"),disabled:Object(p["a"])("change.form.employ.oldClientId2")}]},{span:12,list:[{type:"text",label:"所属客户二级分类",prop:"oldClientTwoLevelIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.clientTwoLevelName3")||Object(v["j"])(e.$parent.jobsChangeData.oldClientTwoLevelIdCN),disabled:Object(p["a"])("change.form.employ.clientTwoLevelName3")}]},{span:12,list:[{type:"text",label:"所属合同",prop:"oldContactIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldContactId2"),disabled:Object(p["a"])("change.form.employ.oldContactId2")}]},{span:12,list:[{type:"text",label:"原结算岗位",prop:"oldPayJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldPayJob2"),disabled:Object(p["a"])("change.form.employ.oldPayJob2")}]},{span:12,list:[{type:"text",label:"原结算职级",prop:"oldPayLevel",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldPayLevel2"),disabled:Object(p["a"])("change.form.employ.oldPayLevel2")}]},{span:12,list:[{type:"text",label:"原客户方岗位",prop:"oldClientJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientJob2"),disabled:Object(p["a"])("change.form.employ.oldClientJob2")}]},{span:12,list:[{type:e.jobInputType,label:"新结算岗位",prop:"newClientPayJob",optionList:e.jobLevel,filterable:!0,placeholder:"请输入",changeFn:"newClientPayJobChange",hidden:Object(p["b"])("change.form.employ.newClientPayJob2"),disabled:Object(p["a"])("change.form.employ.newClientPayJob2")}]},{span:12,list:[{type:e.jobInputType2,label:"新结算职级",prop:"newClientPayLevel",optionList:e.levelLsit,placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.newClientPayLevel2"),disabled:Object(p["a"])("change.form.employ.newClientPayLevel2")}]},{span:12,list:[{type:"text",label:"新客户方岗位",prop:"newClientJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.newClientJob2"),disabled:Object(p["a"])("change.form.employ.newClientJob2")}]},{span:12,list:[{type:"cascader",label:"公司岗位",prop:"companyJobList",optionList:V,placeholder:"请输入",propLabel:"text",propValue:"value",changeFn:"companyJobListChange",hidden:Object(p["b"])("change.form.employ.newClientPayJob2"),disabled:Object(p["a"])("change.form.employ.newClientPayJob2")}]},{span:12,list:[{type:"select",label:"公司岗位职级",prop:"companyJobLevel",placeholder:"请输入",optionList:e.jobLevelList,hidden:Object(p["b"])("change.form.employ.newClientJob2"),disabled:Object(p["a"])("change.form.employ.newClientJob2")}]},{span:12,list:[{type:"select",label:"客户方结算价格",prop:"clientPayPrice",optionList:t["IT_CLPP"],changeFn:"",hidden:Object(p["b"])("change.form.employ.moneyChange2"),disabled:Object(p["a"])("change.form.employ.moneyChange2")}]},{span:12,list:[{type:"quotePrice",offsetBottom:"-17px",unitWidth:"100px",unitOptionList:t.IT_RUIT,unitProp:"quotedPriceUnit",label:"最新商务报价",prop:"newBusinessPrice",afterTxt:"元",width:"80%",tipContent:"商务报价是指客户方的结算价格",hidden:"IT_CLPP_001"!==e.basicFormData.clientPayPrice,disabled:Object(p["a"])("change.form.employ.moneyChange2")}]},{span:12,list:[{type:"date",label:"变动生效日期",prop:"effectiveDate",placeholder:"请选择",hidden:Object(p["b"])("change.form.employ.payChangeDate"),disabled:Object(p["a"])("change.form.employ.payChangeDate")}]},{span:12,list:[{type:"text",label:"变动原因",prop:"changeCause",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.changeCause2"),disabled:Object(p["a"])("change.form.employ.changeCause2")}]}]},Y=function(e,t,a){return t?Number(t)>0&&Number(t)<99999?a():a(new Error("仅可输入大于 0 或者小于 99999 的金额数字")):a(new Error("请输入最新商务报价"))},z={newClientPayJob:{required:!0,message:"请选择",trigger:"change"},newClientPayLevel:{required:!0,message:"请选择",trigger:"change"},newClientJob:{required:!0,message:"请输入",trigger:"blur"},newClientPayDate:{required:!0,message:"请选择",trigger:"change"},changeCause:{required:!0,message:"请输入",trigger:"blur"},clientPayPrice:{required:!0,message:"请选择客户方结算价格是否变化",trigger:"change"},newBusinessPrice:{required:!0,validator:Y},moneyChange:{required:!0,message:"请选择",trigger:"change"},taskId:{required:!0,message:"请选择",trigger:"change"},effectiveDate:{required:!0,message:"请选择变动生效日期",trigger:"change"},companyJobList:{required:!0,message:"请选择",trigger:"change"},companyJobLevel:{required:!0,message:"请选择",trigger:"change"}},Z=a("e55b"),K={name:"JobsChange",components:{zmForm:d["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:z,jobLevel:[],jobInputType:"select",jobInputType2:"select",jobParams:{},salaryTaskList:[],jobLevelList:[]}},computed:{formConfig:function(){return G(this)},cityId:function(){return this.$parent.queryEmployData&&this.$parent.queryEmployData.employSocialCity},education:function(){return this.$parent.queryEmployData&&this.$parent.queryEmployData.employEdu}},created:function(){this.getJobsList(),this.isIncreaseSalaryChange(this.basicFormData.moneyChange)},beforeDestroy:function(){this.$refs["jobsChange"].resetFields()},watch:{"basicFormData.taskId":{handler:function(e){var t=this;this.salaryTaskList.map((function(a){console.log(a),a.taskInstanceId===e&&(t.basicFormData.uppriceHandLevel=a.relatedObject.uppriceHandLevel,t.basicFormData.uppriceAfterSalary=a.relatedObject.uppriceAfterSalary)}))},deep:!0,immediate:!0},"basicFormData.oldContactId":{handler:function(e){e&&this.getJobsList()}},"basicFormData.newClientPayJob":{handler:function(e){}}},methods:{companyJobListChange:function(e){e&&e.length&&(this.jobLevelCode=Object(Z["b"])(e),this.basicFormData.companyJob=e[e.length-1],this.basicFormData.companyJobLevel="",this.jobLevelList=this.$store.state.baseData.baseDataOptionList[this.jobLevelCode],console.log("公司岗位变了change.....",this.jobLevelCode,this.$store.state.baseData.baseDataOptionList[this.jobLevelCode]))},isIncreaseSalaryChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("TRUE"!==e){a.next=12;break}if(t.formConfig.forEach((function(e){"taskId"!==e.list[0].prop&&"beforeSalary"!==e.list[0].prop&&"afterSalary"!==e.list[0].prop||t.$set(e.list[0],"hidden",!1)})),n=t.$parent.queryEmployData,!n||!n.employName){a.next=10;break}return r={empName:n.employName||"",flowName:n.flowName||"员工调薪流程",phoneNo:n.employPhone||""},a.next=7,Object(q["r"])(r);case 7:o=a.sent,console.log("调薪流程暂时没有数据，后续逻辑还没写",o,r),t.salaryTaskList=o;case 10:a.next=13;break;case 12:"FALSE"===e&&t.formConfig.forEach((function(e){"taskId"!==e.list[0].prop&&"beforeSalary"!==e.list[0].prop&&"afterSalary"!==e.list[0].prop||t.$set(e.list[0],"hidden",!0)}));case 13:case"end":return a.stop()}}),a)})))()},getJobsList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,o,s,c,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.basicFormData.oldContactId){t.next=6;break}return a={contractId:e.basicFormData.oldContactId},t.next=4,Object(U["h"])(a);case 4:n=t.sent,n&&n.length?n.forEach((function(t){"IT_DMST_003"===t.value?(e.basicFormData.quotedPriceUnit=t.ruleUnit,t.optionList&&t.optionList.length>0?(e.jobInputType="select",e.jobLevel=t.optionList):e.jobInputType="text"):"IT_DMST_004"===t.value&&(t.optionList&&t.optionList.length>0?(e.jobInputType2="select",e.levelLsit=t.optionList):e.jobInputType2="text")})):(e.jobInputType="text",e.jobInputType2="text");case 6:return t.abrupt("return");case 11:if(o=t.sent,"0000"===o.head.code&&!o.body.dataList){t.next=30;break}if(!(Object.getOwnPropertyNames(o.body.dataList).length<1)){t.next=16;break}return e.jobInputType="text",t.abrupt("return");case 16:return s=Object(i["a"])(Object(i["a"])({},r),{},{contractId:e.basicFormData.oldContactId}),t.next=19,Object(A["p"])(s);case 19:if(c=t.sent,"0000"!==c.head.code){t.next=26;break}e.jobInputType="select",e.jobParams.lineMainId=c.body.lineMainId,e.jobParams.version=c.body.version,t.next=28;break;case 26:return e.jobInputType="text",t.abrupt("return");case 28:t.next=33;break;case 30:e.jobInputType="select",e.jobParams.lineMainId=o.body.lineMainId,e.jobParams.version=o.body.version;case 33:return t.next=35,Object($["i"])(e.jobParams);case 35:l=t.sent,d=l.body.dataList,e.jobLevel=Array.isArray(d)&&d.map((function(e){return{text:e,value:e}})),e.formConfig.forEach((function(t){"newClientPayJob"===t.list[0].prop&&e.$set(t.list[0],"optionList",e.jobLevel)}));case 39:case"end":return t.stop()}}),t)})))()},newClientPayJobChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.basicFormData.newClientPayLevel="",t.basicFormData.newClientJob="",e.abrupt("return");case 6:a=e.sent,n=Array.isArray(a.body.dataList)&&a.body.dataList.map((function(e){return{text:e,value:e}})),t.formConfig.forEach((function(e){"newClientPayLevel"===e.list[0].prop&&t.$set(e.list[0],"optionList",n)}));case 9:case"end":return e.stop()}}),e)})))()}}},ee=K,te=Object(g["a"])(ee,Q,X,!1,null,"120bdd54",null),ae=te.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("zm-form",{ref:"callinInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"},on:{openSelectP:e.openSelectP,newClientIdChange:e.newClientIdChange,oldPayJobChange:e.oldPayJobChange,entryOrgIdChange:e.entryOrgIdChange,clientCompanyIdRemote:e.clientCompanyIdRemote,contractIdRemote:e.contractIdRemote,newClientPayJobChange:e.newClientPayJobChange,newContactIdChange:e.newContactIdChange,newClientWorkNameChange:e.newClientWorkNameChange}}),e.isShowCcModal?a("cc-people-modal",{attrs:{isShowCcModal:e.isShowCcModal,customEventName:"newHandUserChagne",isQueryUser:!0},on:{"update:isShowCcModal":function(t){e.isShowCcModal=t},"update:is-show-cc-modal":function(t){e.isShowCcModal=t},newHandUserChagne:e.newHandUserChagne}}):e._e()],1)},re=[],oe=a("2909"),ie=a("ade3"),se=function(e){var t=e.$store.state.baseData.baseDataOptionList,a=e.$store.state.baseData.orgTreeData[0].children;return[{span:12,list:[{type:"cascader",prop:"entryOrgIdList",label:"调入部门",propLabel:"orgName",propValue:"orgId",optionList:a,checkStrictly:!0,changeFn:"entryOrgIdChange",hidden:Object(p["b"])("change.form.employ.entryOrgId1"),disabled:Object(p["a"])("change.form.employ.entryOrgId1")}]},{span:12,list:[{type:"text",label:"调入所属交付",prop:"newHandUserCN",searchBtn:{icon:"el-icon-search",changeFn:function(){e.openSelectP()}},focus:"openSelectP",hidden:Object(p["b"])("change.form.employ.newHandUser4"),disabled:Object(p["a"])("change.form.employ.newHandUser4")}]},{span:12,list:[{type:"remoteSelectLoading",label:"调入客户",prop:"newClientId",changeFn:"newClientIdChange",customOption:{customLabel:"clientCompanyName",customValue:"clientCompanyId"},remoteMethod:"clientCompanyIdRemote",filterable:!0,noMatchText:"查无客户, 请换一个客户名称试试",selectOptionList:e.newClientIdChangeList,hidden:Object(p["b"])("change.form.employ.newClientId4"),disabled:Object(p["a"])("change.form.employ.newClientId4")}]},{span:12,list:[{type:"text",label:"客户简称",prop:"clientSimpleName",hidden:Object(p["b"])("change.form.employ.clientSimpleName1"),disabled:Object(p["a"])("change.form.employ.clientSimpleName1")}]},{span:12,list:[{type:"select",prop:"newClientTwoLevelId",label:"调入客户二级分类",placeholder:"请选择",optionList:e.ClientTwoLevelList,customOption:{customLabel:"clientTwoLevelName",customValue:"clientTwoLevelId"},rules:[{required:!0,message:"请输入客户二级分类",trigger:"change"}],hidden:Object(p["b"])("change.form.employ.clientTwoLevelName10")||!e.ClientTwoLevelList.length>0,disabled:Object(p["a"])("change.form.employ.clientTwoLevelName10")}]},{span:12,list:[{type:"remoteSelectLoading",label:"调入客户合同",prop:"newContactId",changeFn:"newContactIdChange",filterable:!0,selectOptionList:e.newContactIdList,customOption:{customLabel:"contractName",customValue:"contractId"},remoteMethod:"contractIdRemote",noMatchText:"查无合同, 请换一个合同名称试试",hidden:Object(p["b"])("change.form.employ.newContactId4"),disabled:Object(p["a"])("change.form.employ.newContactId4")}]},{span:12,list:[{type:e.jobInputType,label:"调入结算岗位",prop:"newClientPayJob",filterable:!0,optionList:e.newClientPayJobList,changeFn:"newClientPayJobChange",hidden:Object(p["b"])("change.form.employ.newClientPayJob4"),disabled:Object(p["a"])("change.form.employ.newClientPayJob4")}]},{span:12,list:[{type:e.jobInputType2,label:"调入结算职级",prop:"newClientPayLevel",filterable:!0,optionList:e.jobLevelList,hidden:Object(p["b"])("change.form.employ.newClientPayLevel5"),disabled:Object(p["a"])("change.form.employ.newClientPayLevel5")}]},{span:12,list:[{type:"text",label:"调入客户方岗位",prop:"newClientJob",hidden:Object(p["b"])("change.form.employ.newClientJob4"),disabled:Object(p["a"])("change.form.employ.newClientJob4")}]},{span:12,list:[{type:"date",label:"调入日期",prop:"entryCompanyDate",hidden:Object(p["b"])("change.form.employ.entryCompanyDate1"),disabled:Object(p["a"])("change.form.employ.entryCompanyDate1")}]},{span:12,list:[{type:"quotePrice",offsetBottom:"-17px",unitWidth:"100px",unitOptionList:t.IT_RUIT,unitProp:"quotedPriceUnit",label:"最新商务报价",prop:"newBusinessPrice",afterTxt:"元",width:"80%",tipContent:"商务报价是指客户方的结算价格",tipText:e.rangeTips,isShowBottomTip:e.rangeTips,hidden:Object(p["b"])("change.form.employ.newBusinessPrice1"),disabled:Object(p["a"])("change.form.employ.newBusinessPrice1")}]},{span:12,list:[{type:"select",label:"是否含税",placeholder:"请选择",prop:"isHasTax",optionList:[{text:"是",value:"TRUE"},{text:"否",value:"FALSE"}],hidden:!!Object(p["b"])("price.form.employ.isHasTax4")||!("IT_QTTP_003"===e.contractPriceType||"IT_QTTP_004"===e.contractPriceType),disabled:Object(p["a"])("price.form.employ.isHasTax4")}]},{span:12,list:[{type:"number",label:"薪酬倍数",placeholder:"请输入",prop:"salaryTimes",precision:2,max:10,hidden:!!Object(p["b"])("price.form.employ.salaryTimes4")||!("IT_QTTP_004"===e.contractPriceType),disabled:Object(p["a"])("price.form.employ.salaryTimes4")}]},{span:12,list:[{type:"date",label:"变动生效日期",prop:"effectiveDate",placeholder:"请选择",hidden:Object(p["b"])("change.form.employ.effectiveDate4"),disabled:Object(p["a"])("change.form.employ.effectiveDate4")}]},{span:12,list:[{type:"select",label:"客户职场名称",prop:"newClientWorkId",optionList:e.clientWorkPlaceList,customOption:{customLabel:"workplaceName",customValue:"workplaceId"},changeFn:"newClientWorkNameChange",hidden:Object(p["b"])("change.form.employ.newClientWorkName2"),disabled:Object(p["a"])("change.form.employ.newClientWorkName2")}]},{span:12,list:[{type:"text",label:"客户职场地址",prop:"newClientWorkAddress",hidden:Object(p["b"])("change.form.employ.newClientWorkAddress2"),disabled:Object(p["a"])("change.form.employ.newClientWorkAddress2")}]}]},ce=function(e){var t=function(t,a,n){a||n(new Error("请选择调入日期"));var r=e.$parent.calloutInfoData.outTime||"";r&&new Date(a)<new Date(r)&&n(new Error("调入日期不能小于调出日期")),n()},a=function(e,t,a){return t?Number(t)>0&&Number(t)<99999?a():a(new Error("仅可输入大于 0 或者小于 99999 的金额数字")):a(new Error("请输入最新商务报价"))};return{entryOrgId:{required:!0,message:"请选择调入部门",trigger:"change"},entryOrgIdList:{required:!0,message:"请选择调入部门",trigger:"change"},newHandUserCN:{required:!0,message:"请选择调入所属交付",trigger:"change"},newClientId:{required:!0,message:"请选择调入客户",trigger:"change"},newContactId:{required:!0,message:"请选择调入客户合同",trigger:"change"},newClientPayJob:{required:!0,message:"请选择调入结算岗位",trigger:"change"},newClientPayLevel:{required:!0,message:"请选择调入结算职级",trigger:"change"},newClientJob:{required:!0,message:"请选择调入客户方岗位",trigger:"change"},entryCompanyDate:{required:!0,validator:t},clientPayPrice:{required:!0,message:"请选择客户方结算价格是否变化",trigger:"change"},newBusinessPrice:{required:!0,validator:a},quotedPriceUnit:{required:!0,message:"请选择报价单位",trigger:"change"},salaryTimes:{required:!0,message:"请输入薪酬倍数",trigger:"blur"},isHasTax:{required:!0,message:"请选择是否含税",trigger:"change"},effectiveDate:{required:!0,trigger:"change",message:"请选择变更生效日期"},newClientWorkId:{required:!0,message:"请选择客户职场名称",trigger:"change"},newClientWorkAddress:{required:!0,message:"请选择客户职场地址",trigger:"blur"}}},le=(a("4788"),{name:"CallinInfo",components:{zmForm:d["a"],ccPeopleModal:u["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},orgId:{type:String,default:function(){return""}},currentNode:{type:String,default:function(){return""}},outOrgIdList:{type:Array,default:function(){return[]}}},data:function(){var e;return e={formConfig:[],rules:ce(this),isShowCcModal:!1,allContract:[],jobLevel:[],currentContract:{},isShownewHandUser:!0,newClientIdChangeList:[],newContactIdList:[],newClientPayJobList:[]},Object(ie["a"])(e,"currentContract",{}),Object(ie["a"])(e,"jobLevelList",[]),Object(ie["a"])(e,"jobInputType","select"),Object(ie["a"])(e,"jobInputType2","select"),Object(ie["a"])(e,"jobParams",{}),Object(ie["a"])(e,"ClientTwoLevelList",[]),Object(ie["a"])(e,"contractPriceType",""),Object(ie["a"])(e,"clientWorkPlaceList",[]),Object(ie["a"])(e,"rangeTips",""),e},computed:{formConfigList:function(){return se(this)},cityId:function(){return this.$parent.queryEmployData&&this.$parent.queryEmployData.employSocialCity},callOutOrgId:function(){return this.$parent.calloutInfoData.outOrgIdList},city:function(){return this.$parent.queryEmployData.employSocialCity},education:function(){return this.$parent.queryEmployData.employEdu},isCallStationLevelBusinessUv:function(){return console.log("有合同&岗位&职级才查询商务报价",this.basicFormData.newContactId&&this.basicFormData.newClientPayJob&&this.basicFormData.newClientPayLevel),this.basicFormData.newContactId&&this.getPriceFlag&&this.basicFormData.newClientPayJob&&this.basicFormData.newClientPayLevel}},watch:{"basicFormData.entryOrgId":{handler:function(e){Array.isArray(e)&&e.length&&this.getClientCompanySelectLists(e)},immediate:!0,deep:!0},"basicFormData.entryOrgIdList":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e||!e.length){a.next=9;break}return console.log("新旧orgid相等",e,t.callOutOrgId),console.log("newVal[0] == this.callOutOrgId[0]",e[0]==t.callOutOrgId[0]),n={orgId:Array.isArray(e)?e[e.length-1]:e},a.next=6,Object(J["p"])(n);case 6:r=a.sent,console.log(r,"所属客户哈"),t.newClientIdChangeList=Array.isArray(r)&&r;case 9:case"end":return a.stop()}}),a)})))()},immediate:!0,deep:!0},"basicFormData.newClientId":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.getCustomerDetails(e),t.getClientWorkPlaceList(e),!(e&&t.basicFormData.entryOrgIdList.length>0)){a.next=9;break}return n={companyId:e,orgId:Array.isArray(t.basicFormData.entryOrgIdList)?t.basicFormData.entryOrgIdList[t.basicFormData.entryOrgIdList.length-1]:t.basicFormData.entryOrgIdList,keyword:""},a.next=6,Object(J["s"])(n);case 6:r=a.sent,r.map((function(e){var t="WB"===e.contractId.split("-")[1]?"正式合同":"虚拟合同";e.contractName=e.contractName+"("+t+") "+e.contractId})),t.newContactIdList=r;case 9:if(!e){a.next=14;break}return a.next=12,Object(R["q"])({clientCompanyId:e});case 12:o=a.sent,t.ClientTwoLevelList=o;case 14:case"end":return a.stop()}}),a)})))()}},"basicFormData.newContactId":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i,s,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=15;break}return a.next=3,Object($["s"])({contractId:e});case 3:n=a.sent,r=n.isEdu,o=n.isCity,i=n.priceType,s=n.ruleUnit,t.contractPriceType=i,t.basicFormData.quotedPriceUnit=s,t.getPriceFlag=!0,t.isQuoteByEdu=r,t.isQuoteCity=o,a.next=16;break;case 15:t.contractPriceType="";case 16:e&&t.newContactIdList.length&&(t.currentContract=t.newContactIdList.find((function(e){return e.contractId===t.basicFormData.newContactId}))||{},console.log("结算岗位: ",t.currentContract),c={cityId:t.city,customerId:t.basicFormData.newClientId,education:t.education},t.getJobList(c));case 17:case"end":return a.stop()}}),a)})))()}},"basicFormData.newClientPayJob":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e&&{lineMainId:t.jobParams.lineMainId,version:t.jobParams.version,station:e};case 1:case"end":return a.stop()}}),a)})))()}},formConfigList:{handler:function(e){this.formConfig=e},deep:!0,immediate:!0},isCallStationLevelBusinessUv:{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e&&(console.log("再查商务报价222222222222"),t.queryBnsPrice());case 1:case"end":return a.stop()}}),a)})))()}}},beforeDestroy:function(){this.$refs["callinInfo"].resetFields()},methods:{queryBnsPrice:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,o,i,s,c,l,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.state.baseData.baseDataOptionList.IT_CITY.filter((function(t){return t.value===e.cityId})),n=a[0]&&a[0].text+"市",r=e.$store.state.baseData.baseDataOptionList.IT_EDUX.filter((function(t){return t.value===e.education})),o=r[0]&&r[0].text,console.log(o,n,"教育是否都能够匹配"),i={eduCn:e.isQuoteByEdu?o:"",cityCn:e.isQuoteCity?n:"",contractId:e.basicFormData.newContactId,jobCn:e.basicFormData.newClientPayJob,jobLevel:e.basicFormData.newClientPayLevel},t.next=8,Object($["g"])(i);case 8:s=t.sent,c=s.priceType,l=s.taxQuotation,d=s.taxQuotationLeft,u=s.taxQuotationRight,"IT_QTTP_001"===c?(e.rangeTips="",l?e.basicFormData.newBusinessPrice=l:(e.$message.warning("此结算岗位结算职级没有对应的商务报价，请选择正确的结算岗位和结算职级"),e.basicFormData.newBusinessPrice="")):"IT_QTTP_002"===c?d&&u?(e.taxQuotationLeft=d,e.taxQuotationRight=u,e.rangeTips="区间报价为".concat(d,"--").concat(u,",请填写实际商务报价。")):(e.$message.warning("此结算岗位结算职级没有对应的商务报价，请选择正确的结算岗位和结算职级"),e.rangeTips="",e.basicFormData.newBusinessPrice=""):"IT_QTTP_004"===c&&(e.noJobAndLevel=!0);case 14:case"end":return t.stop()}}),t)})))()},newClientWorkNameChange:function(e){var t=this.clientWorkPlaceList.find((function(t){return t.workplaceId===e}));this.basicFormData.newClientWorkAddress=t.address},getClientWorkPlaceList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(R["o"])({clientCompanyId:e});case 2:n=a.sent,t.clientWorkPlaceList=[],n.forEach((function(e){t.clientWorkPlaceList.push(e.clientCompanyWorkplace)}));case 5:case"end":return a.stop()}}),a)})))()},getCustomerDetails:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(R["k"])({clientCompanyId:e});case 2:n=a.sent,t.$set(t.basicFormData,"clientSimpleName",n.clientCompany.clientSimpleName);case 4:case"end":return a.stop()}}),a)})))()},clientCompanyIdRemote:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.basicFormData.entryOrgIdList){a.next=2;break}return a.abrupt("return");case 2:return n=t.basicFormData.entryOrgIdList,r=Array.isArray(n)?n[n.length-1]:n,o={orgId:r,clientCompanyName:e},a.next=7,Object(J["p"])(o);case 7:i=a.sent,t.newClientIdChangeList=Array.isArray(i)&&i;case 9:case"end":return a.stop()}}),a)})))()},contractIdRemote:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.basicFormData.newClientId&&t.basicFormData.entryOrgIdList){a.next=2;break}return a.abrupt("return");case 2:return t.basicFormData.newClientPayJob="",n=t.basicFormData.entryOrgIdList,r=Array.isArray(n)?n[n.length-1]:n,a.next=7,Object(J["s"])({companyId:t.basicFormData.newClientId,keyword:e,orgId:r});case 7:o=a.sent,o.map((function(e){var t="WB"===e.contractId.split("-")[1]?"正式合同":"虚拟合同";e.contractName=e.contractName+"("+t+") "+e.contractId})),t.newContactIdList=o;case 10:case"end":return a.stop()}}),a)})))()},entryOrgIdChange:function(e){this.outOrgIdList.length?e.length&&(e[0]===this.outOrgIdList[0]?(this.$message.warning("调入部门的一级部门与所在部门一致，请重新选择调入的部门"),this.basicFormData.entryOrgIdList=[]):1===e.length?(this.$message.warning("不允许只选一级部门，请重新选择调入的部门"),this.basicFormData.entryOrgIdList=[]):e[e.length-1]===this.outOrgIdList[this.outOrgIdList.length-1]?(this.$message.warning("调入部门与所在部门一致，请重新选择调入的部门"),this.basicFormData.entryOrgIdList=[]):this.basicFormData.entryOrgId=this.basicFormData.entryOrgIdList[this.basicFormData.entryOrgIdList.length-1]):(this.$message.warning("请先选择员工"),this.basicFormData.entryOrgIdList=[]),console.log("调入部门变化了...：",e),this.basicFormData.newHandUserCN="",this.basicFormData.newHandUser="",this.basicFormData.newClientId=""},getJobList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.currentContract.contractId){e.next=6;break}return a={contractId:t.currentContract.contractId},e.next=4,Object(U["h"])(a);case 4:n=e.sent,n&&n.length?n.forEach((function(e){"IT_DMST_003"===e.value?(t.basicFormData.quotedPriceUnit=e.ruleUnit,e.optionList&&e.optionList.length>0?(t.jobInputType="select",t.newClientPayJobList=e.optionList):t.jobInputType="text"):"IT_DMST_004"===e.value&&(e.optionList&&e.optionList.length>0?(t.jobInputType2="select",t.jobLevelList=e.optionList):t.jobInputType2="text")})):(t.jobInputType="text",t.jobInputType2="text");case 6:case"end":return e.stop()}}),e)})))()},getJobLevel:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object($["u"])(e);case 2:n=a.sent,t.jobLevelList=Array.isArray(n.body.dataList)&&n.body.dataList.map((function(e){return{text:e,value:e}}));case 4:case"end":return a.stop()}}),a)})))()},openSelectP:function(){this.isShowCcModal=!0},newHandUserChagne:function(e){this.basicFormData.newHandUserCN=e.text||e.employName,this.basicFormData.newHandUser=e.value||e.userId},getClientCompanySelectLists:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={orgId:e[e.length-1]||""},a.next=3,Object(J["m"])(n);case 3:r=a.sent,t.formConfig.forEach((function(e){if("newClientId"===e.list[0].prop){var t,a=r&&r.map((function(e){return Object(i["a"])({text:e.clientCompanyName,value:e.clientCompanyId},e)}));(t=e.list[0].optionList).push.apply(t,Object(oe["a"])(a))}}));case 5:case"end":return a.stop()}}),a)})))()},newClientIdChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.basicFormData.newContactId="",t.basicFormData.newClientTwoLevelId="",t.basicFormData.newClientPayJob="",t.basicFormData.newClientPayLevel="",t.basicFormData.newClientWorkId="",t.basicFormData.newClientWorkAddress="",!e){a.next=21;break}if(Array.isArray(t.basicFormData.entryOrgId)&&t.basicFormData.entryOrgId.length>0){a.next=9;break}return a.abrupt("return");case 9:return a.next=11,Object($["j"])({clientCompanyId:e,orgId:t.basicFormData.entryOrgId[t.basicFormData.entryOrgId.length-1]});case 11:return n=a.sent,n=n&&n.map((function(e){return Object(i["a"])({text:e.contractName,value:e.contractId},e)})),t.allContract=n,t.formConfig.forEach((function(e){"newContactId"===e.list[0].prop&&t.$set(e.list[0],"optionList",n)})),a.next=17,Object(R["q"])({clientCompanyId:e});case 17:r=a.sent,t.ClientTwoLevelList=r,a.next=22;break;case 21:t.ClientTwoLevelList=[];case 22:case"end":return a.stop()}}),a)})))()},newContactIdChange:function(){this.basicFormData.newClientPayJob=""},newClientPayJobChange:function(){this.basicFormData.newClientPayLevel=""},oldPayJobChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={cityId:t.cityId,contractId:t.currentContract.contractId,station:e},a.next=3,Object($["u"])(n);case 3:r=a.sent,o=Array.isArray(r)&&r.map((function(e){return{text:e,value:e}})),t.formConfig.forEach((function(e){"newClientPayLevel"===e.list[0].prop&&t.$set(e.list[0],"optionList",o)}));case 6:case"end":return a.stop()}}),a)})))()}}}),de=le,ue=Object(g["a"])(de,ne,re,!1,null,"074e39ef",null),pe=ue.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("zm-form",{ref:"calloutInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"160px"},on:{isRecruitmentChange:e.isRecruitmentChange,openSelectP:e.openSelectP}}),e.isShowCcModal?a("cc-people-modal",{attrs:{isQueryUser:!0,isShowCcModal:e.isShowCcModal,customEventName:e.nameChangStr},on:{"update:isShowCcModal":function(t){e.isShowCcModal=t},"update:is-show-cc-modal":function(t){e.isShowCcModal=t},nameChang:e.nameChang}}):e._e()],1)},be=[],he=x["a"].state.baseData.baseDataOptionList,fe=function(e){return[{span:12,list:[{type:"cascader",label:"调出部门",prop:"outOrgIdList",placeholder:"请选择",optionList:x["a"].state.baseData.orgTreeData[0].children,checkStrictly:!0,propLabel:"orgName",propValue:"orgId",hidden:Object(p["b"])("change.form.employ.outOrgId"),disabled:Object(p["a"])("change.form.employ.outOrgId")}]},{span:12,list:[{type:"text",label:"调出客户",prop:"oldClientIdCN",hidden:Object(p["b"])("change.form.employ.oldClientId4"),disabled:Object(p["a"])("change.form.employ.oldClientId4")}]},{span:12,list:[{type:"text",label:"调出客户二级分类",prop:"oldClientTwoLevelIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.clientTwoLevelName7")||Object(v["j"])(e.$parent.calloutInfoData.oldClientTwoLevelIdCN),disabled:Object(p["a"])("change.form.employ.clientTwoLevelName7")}]},{span:12,list:[{type:"text",label:"调出结算岗位",prop:"oldPayJob",hidden:Object(p["b"])("change.form.employ.oldPayJob4"),disabled:Object(p["a"])("change.form.employ.oldPayJob4")}]},{span:12,list:[{type:"text",label:"调出结算职级",prop:"oldPayLevel",hidden:Object(p["b"])("change.form.employ.oldPayLevel4"),disabled:Object(p["a"])("change.form.employ.oldPayLevel4")}]},{span:12,list:[{type:"text",label:"调出客户方岗位",prop:"oldClientJob",hidden:Object(p["b"])("change.form.employ.oldPayJob4"),disabled:Object(p["a"])("change.form.employ.oldPayJob4")}]},{span:12,list:[{type:"text",label:"调出所属交付",prop:"oldHandUserCN",hidden:Object(p["b"])("change.form.employ.oldHandUser"),disabled:Object(p["a"])("change.form.employ.oldHandUser")}]},{span:12,list:[{type:"date",label:"调出日期",prop:"outTime",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.outTime"),disabled:Object(p["a"])("change.form.employ.outTime")}]},{span:12,list:[{type:"date",label:"客户结算截止日期",prop:"clientPayEnddate",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.clientPayEnddate"),disabled:Object(p["a"])("change.form.employ.clientPayEnddate")}]},{span:12,list:[{type:"radioGroup",label:"是否是招聘安排",prop:"recruitMake",placeholder:"请输入",optionList:he["IS_YSNO"],changeFn:"isRecruitmentChange",hidden:Object(p["b"])("change.form.employ.recruitMake"),disabled:Object(p["a"])("change.form.employ.recruitMake")}]},{span:12,list:[{type:"text",label:"招聘专员姓名",prop:"recruitUserCN",searchBtn:{icon:"el-icon-search",changeFn:function(){e.openSelectP()}},focus:"openSelectP",hidden:"TRUE"!==e.basicFormData.recruitMake,disabled:Object(p["a"])("change.form.employ.recruitMake")}]},{span:12,list:[{type:"text",label:"变动原因",prop:"changeCause",hidden:Object(p["b"])("change.form.employ.changeCause4"),disabled:Object(p["a"])("change.form.employ.changeCause4")}]}]},ge={outTime:{required:!0,message:"请选择",trigger:"change"},clientPayEnddate:{required:!0,message:"请选择",trigger:"change"},recruitMake:{required:!0,message:"请选择",trigger:"change"},recruitUserCN:{required:!0,message:"请选择",trigger:"change"},changeCause:{required:!0,message:"请输入",trigger:"blur"}},ye={name:"CalloutInfo",components:{zmForm:d["a"],ccPeopleModal:u["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},orgId:{type:String,default:function(){return""}}},watch:{formConfigList:{handler:function(e){this.formConfig=e},deep:!0,immediate:!0}},data:function(){return{formConfig:[],rules:ge,isShowCcModal:!1,nameChangStr:"nameChang"}},computed:{formConfigList:function(){return fe(this)}},mounted:function(){this.isRecruitmentChange(this.basicFormData.recruitMake)},beforeDestroy:function(){this.$refs["calloutInfo"].resetFields()},methods:{isRecruitmentChange:function(e){var t=this;"TRUE"===e?this.formConfig.forEach((function(e){"recruitMake"===e.list[0].prop&&t.$set(e,"span",12),"recruitUserCN"===e.list[0].prop&&t.$set(e.list[0],"hidden",!1)})):"FALSE"===e&&this.formConfig.forEach((function(e){e.list[0].prop,"recruitUserCN"===e.list[0].prop&&t.$set(e.list[0],"hidden",!0)}))},openSelectP:function(){this.isShowCcModal=!0},getOrgName:function(e){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},nameChang:function(e){this.basicFormData.recruitUserCN=e.text||e.employName,this.basicFormData.recruitUser=e.userId}}},Ce=ye,Ie=Object(g["a"])(Ce,me,be,!1,null,"03abad74",null),we=Ie.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("zm-form",{ref:"statusChangeInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"170px"}})],1)},Oe=[],De=function(e){var t=e.$store.state.baseData.baseDataOptionList;return[{span:12,list:[{type:"text",label:"所属客户",prop:"oldClientIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientId"),disabled:Object(p["a"])("change.form.employ.oldClientId")}]},{span:12,list:[{type:"text",label:"所属合同",prop:"oldContactIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldContactId"),disabled:Object(p["a"])("change.form.employ.oldContactId")}]},{span:12,list:[{type:"text",label:"结算岗位",prop:"oldPayJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldPayJob"),disabled:Object(p["a"])("change.form.employ.oldPayJob")}]},{span:12,list:[{type:"text",label:"结算职级",prop:"oldPayLevel",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldPayLevel"),disabled:Object(p["a"])("change.form.employ.oldPayLevel")}]},{span:12,list:[{type:"text",label:"客户方岗位",prop:"oldClientJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientJob"),disabled:Object(p["a"])("change.form.employ.oldClientJob")}]},{span:12,list:[{type:"text",label:"公司岗位",prop:"companyJobCn",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.companyJob"),disabled:Object(p["a"])("change.form.employ.companyJob")}]},{span:12,list:[{type:"select",label:"在场状态",prop:"onSiteStatus",optionList:t["IT_OSIT"],hidden:Object(p["b"])("change.form.employ.onSiteStatus"),disabled:Object(p["a"])("change.form.employ.onSiteStatus")}]},{span:12,list:[{type:"select",label:"岗位状态",prop:"employJobStatus",optionList:t["IT_GWZT"],hidden:Object(p["b"])("change.form.employ.employJobStatus"),disabled:Object(p["a"])("change.form.employ.employJobStatus")}]},{span:12,list:[{type:"date",label:"变动生效日期",prop:"changeDate",placeholder:"请输入",dateConfig:e.statusChangeDisabledDate,hidden:Object(p["b"])("change.form.employ.changeDate"),disabled:Object(p["a"])("change.form.employ.changeDate")}]},{span:12,list:[{type:"text",label:"变动原因",prop:"changeCause",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.changeCause"),disabled:Object(p["a"])("change.form.employ.changeCause")}]}]},je={employStatus:{required:!0,message:"请选择员工状态",trigger:"change"},employAttr:{required:!0,message:"请选择员工属性",trigger:"change"},onSiteStatus:{required:!0,message:"请选择在场状态",trigger:"change"},changeDate:{required:!0,message:"请选择变动日期",trigger:"change"},changeCause:{required:!0,message:"请输入变动原因",trigger:"change"},employJobStatus:{required:!0,message:"请输入岗位状态",trigger:"change"}},Le={name:"StatusChangeInfo",components:{zmForm:d["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){var e=this;return{rules:je,isIdCard:!1,statusChangeDisabledDate:{disabledDate:function(t){if(e.basicFormData.contractStartTime){var a=new Date(e.basicFormData.contractStartTime)-864e5;return t.getTime()<a}}}}},computed:{formConfig:function(){return De(this)}},mounted:function(){},updated:function(){console.log(this.basicFormData)},beforeDestroy:function(){this.$refs["statusChangeInfo"].resetFields()},watch:{},methods:{}},Te=Le,Pe=Object(g["a"])(Te,ve,Oe,!1,null,"c365f11c",null),Fe=Pe.exports,ke=a("6d07"),xe=a("86c5"),Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("zm-form",{ref:"jobsChange",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"150px"},on:{companyJobListChange:e.companyJobListChange}})],1)},Se=[],Ee=(x["a"].state.baseData.baseDataOptionList,x["a"].state.baseData.jobTreeDate),_e=function(e){return[{span:12,list:[{type:"text",label:"所属客户",prop:"oldClientIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientId4"),disabled:Object(p["a"])("change.form.employ.oldClientId4")}]},{span:12,list:[{type:"text",label:"所属合同",prop:"oldContactIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldContactId4"),disabled:Object(p["a"])("change.form.employ.oldContactId4")}]},{span:12,list:[{type:"text",label:"原结算岗位",prop:"oldPayJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldPayJob5"),disabled:Object(p["a"])("change.form.employ.oldPayJob5")}]},{span:12,list:[{type:"text",label:"原客户方岗位",prop:"oldClientJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientJob5"),disabled:Object(p["a"])("change.form.employ.oldClientJob5")}]},{span:12,list:[{type:"text",label:"原结算职级",prop:"oldPayLevel",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldPayLevel3"),disabled:Object(p["a"])("change.form.employ.oldPayLevel3")}]},{span:12,list:[{type:e.jobInputType2,label:"新结算职级",prop:"newClientPayLevel",optionList:e.levelLsit,placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.newClientPayLevel4"),disabled:Object(p["a"])("change.form.employ.newClientPayLevel4")}]},{span:12,list:[{type:"cascader",label:"公司岗位",prop:"companyJobList",optionList:Ee,placeholder:"请输入",propLabel:"text",propValue:"value",changeFn:"companyJobListChange",hidden:Object(p["b"])("change.form.employ.companyJob2"),disabled:Object(p["a"])("change.form.employ.companyJob2")}]},{span:12,list:[{type:"select",label:"公司岗位职级",prop:"companyJobLevel",placeholder:"请输入",optionList:e.jobLevelList,hidden:Object(p["b"])("change.form.employ.companyJobLevel1"),disabled:Object(p["a"])("change.form.employ.companyJobLevel1")}]},{span:12,list:[{type:"date",label:"变动生效日期",prop:"effectiveDate",placeholder:"请选择",hidden:Object(p["b"])("change.form.employ.effectiveDate1"),disabled:Object(p["a"])("change.form.employ.effectiveDate1")}]},{span:12,list:[{type:"text",label:"变动原因",prop:"changeCause",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.changeCause3"),disabled:Object(p["a"])("change.form.employ.changeCause3")}]}]},Je={newClientPayJob:{required:!0,message:"请选择",trigger:"change"},newClientPayLevel:{required:!0,message:"请选择",trigger:"change"},newClientJob:{required:!0,message:"请输入",trigger:"blur"},taskId:{required:!0,message:"请选择",trigger:"change"},effectiveDate:{required:!0,message:"请选择变更生效日期",trigger:"change"},changeCause:{required:!0,message:"请输入",trigger:"blur"},companyJobList:{required:!0,message:"请选择",trigger:"change"},companyJobLevel:{required:!0,message:"请选择",trigger:"change"}},qe={name:"LevelChange",components:{zmForm:d["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:Je,jobLevel:[],jobInputType:"select",jobInputType2:"select",jobParams:{},salaryTaskList:[],jobLevelList:[],levelLsit:[]}},computed:{formConfig:function(){return _e(this)},cityId:function(){return this.$parent.queryEmployData&&this.$parent.queryEmployData.employSocialCity},education:function(){return this.$parent.queryEmployData&&this.$parent.queryEmployData.employEdu}},created:function(){this.getJobsList()},beforeDestroy:function(){this.$refs["jobsChange"].resetFields()},watch:{"basicFormData.companyJobList":{deep:!0,handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log("公司岗位变了companyJobList",e),e&&e.length&&(t.jobLevelCode=Object(Z["b"])(e),t.jobLevelList=t.$store.state.baseData.baseDataOptionList[t.jobLevelCode]);case 2:case"end":return a.stop()}}),a)})))()}},"basicFormData.oldContactId":{handler:function(e){e&&this.getJobsList()}},"basicFormData.newClientPayJob":{handler:function(e){}}},methods:{companyJobListChange:function(e){e&&e.length&&(this.jobLevelCode=Object(Z["b"])(e),this.basicFormData.companyJobLevel="",this.jobLevelList=this.$store.state.baseData.baseDataOptionList[this.jobLevelCode],console.log("公司岗位变了change.....",this.jobLevelCode,this.$store.state.baseData.baseDataOptionList[this.jobLevelCode]))},getJobsList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.basicFormData.oldContactId){t.next=6;break}return a={contractId:e.basicFormData.oldContactId},t.next=4,Object(U["h"])(a);case 4:n=t.sent,n&&n.length?n.forEach((function(t){"IT_DMST_003"===t.value?(e.basicFormData.quotedPriceUnit=t.ruleUnit,t.optionList&&t.optionList.length>0?(e.jobInputType="select",e.jobLevel=t.optionList):e.jobInputType="text"):"IT_DMST_004"===t.value&&(console.log("get结算职级了吗",t.optionList),t.optionList&&t.optionList.length>0?(e.jobInputType2="select",e.levelLsit=t.optionList):e.jobInputType2="text")})):(e.jobInputType="text",e.jobInputType2="text");case 6:return t.abrupt("return");case 7:case"end":return t.stop()}}),t)})))()}}},Re=qe,Ae=Object(g["a"])(Re,Ne,Se,!1,null,"eda272f6",null),Ue=Ae.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("zm-form",{ref:"callinInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"},on:{openSelectP:e.openSelectP,newClientIdChange:e.newClientIdChange,oldPayJobChange:e.oldPayJobChange,entryOrgIdChange:e.entryOrgIdChange,clientCompanyIdRemote:e.clientCompanyIdRemote,contractIdRemote:e.contractIdRemote,newClientPayJobChange:e.newClientPayJobChange,newContactIdChange:e.newContactIdChange,newClientWorkNameChange:e.newClientWorkNameChange}}),e.isShowCcModal?a("cc-people-modal",{attrs:{isShowCcModal:e.isShowCcModal,customEventName:"newHandUserChagne",isQueryUser:!0},on:{"update:isShowCcModal":function(t){e.isShowCcModal=t},"update:is-show-cc-modal":function(t){e.isShowCcModal=t},newHandUserChagne:e.newHandUserChagne}}):e._e()],1)},Me=[],We=function(e){var t=e.$store.state.baseData.baseDataOptionList,a=e.$store.state.baseData.orgTreeData[0].children;return[{span:12,list:[{type:"cascader",prop:"entryOrgIdList",label:"调入部门",propLabel:"orgName",propValue:"orgId",optionList:a,checkStrictly:!0,changeFn:"entryOrgIdChange",hidden:Object(p["b"])("change.form.employ.entryOrgId2"),disabled:Object(p["a"])("change.form.employ.entryOrgId2")}]},{span:12,list:[{type:"text",label:"调入所属交付",prop:"newHandUserCN",searchBtn:{icon:"el-icon-search",changeFn:function(){e.openSelectP()}},focus:"openSelectP",hidden:Object(p["b"])("change.form.employ.newHandUser2"),disabled:Object(p["a"])("change.form.employ.newHandUser2")}]},{span:12,list:[{type:"remoteSelectLoading",label:"调入客户",prop:"newClientId",changeFn:"newClientIdChange",customOption:{customLabel:"clientCompanyName",customValue:"clientCompanyId"},remoteMethod:"clientCompanyIdRemote",filterable:!0,noMatchText:"查无客户, 请换一个客户名称试试",selectOptionList:e.newClientIdChangeList,hidden:Object(p["b"])("change.form.employ.newClientId2"),disabled:Object(p["a"])("change.form.employ.newClientId2")}]},{span:12,list:[{type:"text",label:"客户简称",prop:"clientSimpleName",hidden:Object(p["b"])("change.form.employ.clientSimpleName2"),disabled:Object(p["a"])("change.form.employ.clientSimpleName2")}]},{span:12,list:[{type:"select",prop:"newClientTwoLevelId",label:"调入客户二级分类",placeholder:"请选择",optionList:e.ClientTwoLevelList,customOption:{customLabel:"clientTwoLevelName",customValue:"clientTwoLevelId"},rules:[{required:!0,message:"请输入客户二级分类",trigger:"change"}],hidden:Object(p["b"])("change.form.employ.clientTwoLevelName11")||!e.ClientTwoLevelList.length>0,disabled:Object(p["a"])("change.form.employ.clientTwoLevelName11")}]},{span:12,list:[{type:"remoteSelectLoading",label:"调入客户合同",prop:"newContactId",changeFn:"newContactIdChange",filterable:!0,selectOptionList:e.newContactIdList,customOption:{customLabel:"contractName",customValue:"contractId"},remoteMethod:"contractIdRemote",noMatchText:"查无合同, 请换一个合同名称试试",hidden:Object(p["b"])("change.form.employ.newContactId2"),disabled:Object(p["a"])("change.form.employ.newContactId2")}]},{span:12,list:[{type:e.jobInputType,label:"调入结算岗位",prop:"newClientPayJob",filterable:!0,optionList:e.newClientPayJobList,changeFn:"newClientPayJobChange",hidden:Object(p["b"])("change.form.employ.newClientPayJob5"),disabled:Object(p["a"])("change.form.employ.newClientPayJob5")}]},{span:12,list:[{type:e.jobInputType2,label:"调入结算职级",prop:"newClientPayLevel",filterable:!0,optionList:e.jobLevelList,hidden:Object(p["b"])("change.form.employ.newClientPayLevel6"),disabled:Object(p["a"])("change.form.employ.newClientPayLevel6")}]},{span:12,list:[{type:"text",label:"调入客户方岗位",prop:"newClientJob",hidden:Object(p["b"])("change.form.employ.newClientJob5"),disabled:Object(p["a"])("change.form.employ.newClientJob5")}]},{span:12,list:[{type:"date",label:"调入日期",prop:"entryCompanyDate",hidden:Object(p["b"])("change.form.employ.entryCompanyDate2"),disabled:Object(p["a"])("change.form.employ.entryCompanyDate2")}]},{span:12,list:[{type:"quotePrice",offsetBottom:"-17px",unitWidth:"100px",unitOptionList:t.IT_RUIT,unitProp:"quotedPriceUnit",label:"最新商务报价",prop:"newBusinessPrice",afterTxt:"元",width:"80%",tipContent:"商务报价是指客户方的结算价格",tipText:e.rangeTips,isShowBottomTip:e.rangeTips,hidden:Object(p["b"])("change.form.employ.newBusinessPrice2"),disabled:Object(p["a"])("change.form.employ.newBusinessPrice2")}]},{span:12,list:[{type:"select",label:"是否含税",placeholder:"请选择",prop:"isHasTax",optionList:[{text:"是",value:"TRUE"},{text:"否",value:"FALSE"}],hidden:!!Object(p["b"])("price.form.employ.isHasTax5")||!("IT_QTTP_003"===e.contractPriceType||"IT_QTTP_004"===e.contractPriceType),disabled:Object(p["a"])("price.form.employ.isHasTax5")}]},{span:12,list:[{type:"number",label:"薪酬倍数",placeholder:"请输入",prop:"salaryTimes",precision:2,max:10,hidden:!!Object(p["b"])("price.form.employ.salaryTimes5")||!("IT_QTTP_004"===e.contractPriceType),disabled:Object(p["a"])("price.form.employ.salaryTimes5")}]},{span:12,list:[{type:"date",label:"变动生效日期",prop:"effectiveDate",placeholder:"请选择",hidden:Object(p["b"])("change.form.employ.effectiveDate5"),disabled:Object(p["a"])("change.form.employ.effectiveDate5")}]},{span:12,list:[{type:"select",label:"客户职场名称",prop:"newClientWorkId",optionList:e.clientWorkPlaceList,customOption:{customLabel:"workplaceName",customValue:"workplaceId"},changeFn:"newClientWorkNameChange",hidden:Object(p["b"])("change.form.employ.newClientWorkName3"),disabled:Object(p["a"])("change.form.employ.newClientWorkName3")}]},{span:12,list:[{type:"text",label:"客户职场地址",prop:"newClientWorkAddress",hidden:Object(p["b"])("change.form.employ.newClientWorkAddress3"),disabled:Object(p["a"])("change.form.employ.newClientWorkAddress3")}]}]},Be=function(e){var t=function(t,a,n){a||n(new Error("请选择调入日期"));var r=e.$parent.calloutInfoData.outTime||"";r&&new Date(a)<new Date(r)&&n(new Error("调入日期不能小于调出日期")),n()},a=function(e,t,a){return t?Number(t)>0&&Number(t)<99999?a():a(new Error("仅可输入大于 0 或者小于 99999 的金额数字")):a(new Error("请输入最新商务报价"))};return{entryOrgId:{required:!0,message:"请选择调入部门",trigger:"change"},entryOrgIdList:{required:!0,message:"请选择调入部门",trigger:"change"},newHandUserCN:{required:!0,message:"请选择调入所属交付",trigger:"change"},newClientId:{required:!0,message:"请选择调入客户",trigger:"change"},newContactId:{required:!0,message:"请选择调入客户合同",trigger:"change"},newClientPayJob:{required:!0,message:"请选择调入结算岗位",trigger:"change"},newClientPayLevel:{required:!0,message:"请选择调入结算职级",trigger:"change"},newClientJob:{required:!0,message:"请选择调入客户方岗位",trigger:"change"},entryCompanyDate:{required:!0,validator:t},clientPayPrice:{required:!0,message:"请选择客户方结算价格是否变化",trigger:"change"},newBusinessPrice:{required:!0,validator:a},quotedPriceUnit:{required:!0,message:"请选择报价单位",trigger:"change"},salaryTimes:{required:!0,message:"请输入薪酬倍数",trigger:"blur"},isHasTax:{required:!0,message:"请选择是否含税",trigger:"change"},effectiveDate:{required:!0,trigger:"change",message:"请选择变更生效日期"},newClientWorkId:{required:!0,message:"请选择客户职场名称",trigger:"change"},newClientWorkAddress:{required:!0,message:"请选择客户职场地址",trigger:"blur"}}},He={name:"LevelTwoCallinInfo",components:{zmForm:d["a"],ccPeopleModal:u["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},orgId:{type:String,default:function(){return""}},currentNode:{type:String,default:function(){return""}},outOrgIdList:{type:Array,default:function(){return[]}}},data:function(){var e;return e={formConfig:[],rules:Be(this),isShowCcModal:!1,allContract:[],jobLevel:[],currentContract:{},newClientIdChangeList:[],newContactIdList:[],newClientPayJobList:[]},Object(ie["a"])(e,"currentContract",{}),Object(ie["a"])(e,"jobLevelList",[]),Object(ie["a"])(e,"jobInputType","select"),Object(ie["a"])(e,"jobInputType2","select"),Object(ie["a"])(e,"jobParams",{}),Object(ie["a"])(e,"ClientTwoLevelList",[]),Object(ie["a"])(e,"contractPriceType",""),Object(ie["a"])(e,"clientWorkPlaceList",[]),Object(ie["a"])(e,"rangeTips",""),e},computed:{formConfigList:function(){return We(this)},cityId:function(){return this.$parent.queryEmployData&&this.$parent.queryEmployData.employSocialCity},callOutOrgId:function(){return this.$parent.calloutInfoData.outOrgIdList},city:function(){return this.$parent.queryEmployData.employSocialCity},education:function(){return this.$parent.queryEmployData.employEdu},isCallStationLevelBusinessUv:function(){return console.log("有合同&岗位&职级才查询商务报价",this.basicFormData.newContactId&&this.basicFormData.newClientPayJob&&this.basicFormData.newClientPayLevel),this.basicFormData.newContactId&&this.getPriceFlag&&this.basicFormData.newClientPayJob&&this.basicFormData.newClientPayLevel}},watch:{"basicFormData.entryOrgId":{handler:function(e){Array.isArray(e)&&e.length&&this.getClientCompanySelectLists(e)},immediate:!0,deep:!0},"basicFormData.entryOrgIdList":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e||!e.length){a.next=9;break}return console.log("新旧orgid相等",e,t.callOutOrgId),console.log("newVal[0] == this.callOutOrgId[0]",e[0]==t.callOutOrgId[0]),n={orgId:Array.isArray(e)?e[e.length-1]:e},a.next=6,Object(J["p"])(n);case 6:r=a.sent,console.log(r,"所属客户哈"),t.newClientIdChangeList=Array.isArray(r)&&r;case 9:case"end":return a.stop()}}),a)})))()},immediate:!0,deep:!0},"basicFormData.newClientId":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.getCustomerDetails(e),t.getClientWorkPlaceList(e),!(e&&t.basicFormData.entryOrgIdList.length>0)){a.next=9;break}return n={companyId:e,orgId:Array.isArray(t.basicFormData.entryOrgIdList)?t.basicFormData.entryOrgIdList[t.basicFormData.entryOrgIdList.length-1]:t.basicFormData.entryOrgIdList,keyword:""},a.next=6,Object(J["s"])(n);case 6:r=a.sent,r.map((function(e){var t="WB"===e.contractId.split("-")[1]?"正式合同":"虚拟合同";e.contractName=e.contractName+"("+t+") "+e.contractId})),t.newContactIdList=r;case 9:if(!e){a.next=14;break}return a.next=12,Object(R["q"])({clientCompanyId:e});case 12:o=a.sent,t.ClientTwoLevelList=o;case 14:case"end":return a.stop()}}),a)})))()}},"basicFormData.newContactId":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i,s,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=15;break}return a.next=3,Object($["s"])({contractId:e});case 3:n=a.sent,r=n.isEdu,o=n.isCity,i=n.priceType,s=n.ruleUnit,t.contractPriceType=i,t.basicFormData.quotedPriceUnit=s,t.getPriceFlag=!0,t.isQuoteByEdu=r,t.isQuoteCity=o,a.next=16;break;case 15:t.contractPriceType="";case 16:e&&t.newContactIdList.length&&(t.currentContract=t.newContactIdList.find((function(e){return e.contractId===t.basicFormData.newContactId}))||{},console.log("结算岗位: ",t.currentContract),c={cityId:t.city,customerId:t.basicFormData.newClientId,education:t.education},t.getJobList(c));case 17:case"end":return a.stop()}}),a)})))()}},"basicFormData.newClientPayJob":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e&&{lineMainId:t.jobParams.lineMainId,version:t.jobParams.version,station:e};case 1:case"end":return a.stop()}}),a)})))()}},formConfigList:{handler:function(e){this.formConfig=e},deep:!0,immediate:!0},isCallStationLevelBusinessUv:{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e&&(console.log("再查商务报价222222222222"),t.queryBnsPrice());case 1:case"end":return a.stop()}}),a)})))()}}},beforeDestroy:function(){this.$refs["callinInfo"].resetFields()},methods:{queryBnsPrice:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,o,i,s,c,l,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.state.baseData.baseDataOptionList.IT_CITY.filter((function(t){return t.value===e.cityId})),n=a[0]&&a[0].text+"市",r=e.$store.state.baseData.baseDataOptionList.IT_EDUX.filter((function(t){return t.value===e.education})),o=r[0]&&r[0].text,console.log(o,n,"教育是否都能够匹配"),i={eduCn:e.isQuoteByEdu?o:"",cityCn:e.isQuoteCity?n:"",contractId:e.basicFormData.newContactId,jobCn:e.basicFormData.newClientPayJob,jobLevel:e.basicFormData.newClientPayLevel},t.next=8,Object($["g"])(i);case 8:s=t.sent,c=s.priceType,l=s.taxQuotation,d=s.taxQuotationLeft,u=s.taxQuotationRight,"IT_QTTP_001"===c?(e.rangeTips="",l?e.basicFormData.newBusinessPrice=l:(e.$message.warning("此结算岗位结算职级没有对应的商务报价，请选择正确的结算岗位和结算职级"),e.basicFormData.newBusinessPrice="")):"IT_QTTP_002"===c?d&&u?(e.taxQuotationLeft=d,e.taxQuotationRight=u,e.rangeTips="区间报价为".concat(d,"--").concat(u,",请填写实际商务报价。")):(e.$message.warning("此结算岗位结算职级没有对应的商务报价，请选择正确的结算岗位和结算职级"),e.rangeTips="",e.basicFormData.newBusinessPrice=""):"IT_QTTP_004"===c&&(e.noJobAndLevel=!0);case 14:case"end":return t.stop()}}),t)})))()},newClientWorkNameChange:function(e){var t=this.clientWorkPlaceList.find((function(t){return t.workplaceId===e}));this.basicFormData.newClientWorkAddress=t.address},getClientWorkPlaceList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(R["o"])({clientCompanyId:e});case 2:n=a.sent,t.clientWorkPlaceList=[],n.forEach((function(e){t.clientWorkPlaceList.push(e.clientCompanyWorkplace)}));case 5:case"end":return a.stop()}}),a)})))()},getCustomerDetails:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(R["k"])({clientCompanyId:e});case 2:n=a.sent,t.$set(t.basicFormData,"clientSimpleName",n.clientCompany.clientSimpleName);case 4:case"end":return a.stop()}}),a)})))()},clientCompanyIdRemote:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.basicFormData.entryOrgIdList){a.next=2;break}return a.abrupt("return");case 2:return n=t.basicFormData.entryOrgIdList,r=Array.isArray(n)?n[n.length-1]:n,o={orgId:r,clientCompanyName:e},a.next=7,Object(J["p"])(o);case 7:i=a.sent,t.newClientIdChangeList=Array.isArray(i)&&i;case 9:case"end":return a.stop()}}),a)})))()},contractIdRemote:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.basicFormData.newClientId&&t.basicFormData.entryOrgIdList){a.next=2;break}return a.abrupt("return");case 2:return t.basicFormData.newClientPayJob="",n=t.basicFormData.entryOrgIdList,r=Array.isArray(n)?n[n.length-1]:n,a.next=7,Object(J["s"])({companyId:t.basicFormData.newClientId,keyword:e,orgId:r});case 7:o=a.sent,o.map((function(e){var t="WB"===e.contractId.split("-")[1]?"正式合同":"虚拟合同";e.contractName=e.contractName+"("+t+") "+e.contractId})),t.newContactIdList=o;case 10:case"end":return a.stop()}}),a)})))()},entryOrgIdChange:function(e){this.outOrgIdList.length?e.length&&(e[0]!==this.outOrgIdList[0]?(this.$message.warning("调入部门的一级部门不允许变更，请重新选择调入的部门"),this.basicFormData.entryOrgIdList=[]):1===e.length?(this.$message.warning("不允许只选一级部门，请选择该部门下的二级部门"),this.basicFormData.entryOrgIdList=[]):e[e.length-1]===this.outOrgIdList[this.outOrgIdList.length-1]?(this.$message.warning("调入部门与所在部门一致，请重新选择调入的部门"),this.basicFormData.entryOrgIdList=[]):this.basicFormData.entryOrgId=this.basicFormData.entryOrgIdList[this.basicFormData.entryOrgIdList.length-1]):(this.$message.warning("请先选择员工"),this.basicFormData.entryOrgIdList=[]),console.log("调入部门变化了...：",e),this.basicFormData.newHandUserCN="",this.basicFormData.newHandUser="",this.basicFormData.newClientId=""},getJobList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.currentContract.contractId){e.next=6;break}return a={contractId:t.currentContract.contractId},e.next=4,Object(U["h"])(a);case 4:n=e.sent,n&&n.length?n.forEach((function(e){"IT_DMST_003"===e.value?(t.basicFormData.quotedPriceUnit=e.ruleUnit,e.optionList&&e.optionList.length>0?(t.jobInputType="select",t.newClientPayJobList=e.optionList):t.jobInputType="text"):"IT_DMST_004"===e.value&&(e.optionList&&e.optionList.length>0?(t.jobInputType2="select",t.jobLevelList=e.optionList):t.jobInputType2="text")})):(t.jobInputType="text",t.jobInputType2="text");case 6:case"end":return e.stop()}}),e)})))()},getJobLevel:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object($["u"])(e);case 2:n=a.sent,t.jobLevelList=Array.isArray(n.body.dataList)&&n.body.dataList.map((function(e){return{text:e,value:e}}));case 4:case"end":return a.stop()}}),a)})))()},openSelectP:function(){this.isShowCcModal=!0},newHandUserChagne:function(e){this.basicFormData.newHandUserCN=e.text||e.employName,this.basicFormData.newHandUser=e.value||e.userId},getClientCompanySelectLists:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={orgId:e[e.length-1]||""},a.next=3,Object(J["m"])(n);case 3:r=a.sent,t.formConfig.forEach((function(e){if("newClientId"===e.list[0].prop){var t,a=r&&r.map((function(e){return Object(i["a"])({text:e.clientCompanyName,value:e.clientCompanyId},e)}));(t=e.list[0].optionList).push.apply(t,Object(oe["a"])(a))}}));case 5:case"end":return a.stop()}}),a)})))()},newClientIdChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.basicFormData.newContactId="",t.basicFormData.newClientTwoLevelId="",t.basicFormData.newClientPayJob="",t.basicFormData.newClientPayLevel="",t.basicFormData.newClientWorkId="",t.basicFormData.newClientWorkAddress="",!e){a.next=21;break}if(Array.isArray(t.basicFormData.entryOrgId)&&t.basicFormData.entryOrgId.length>0){a.next=9;break}return a.abrupt("return");case 9:return a.next=11,Object($["j"])({clientCompanyId:e,orgId:t.basicFormData.entryOrgId[t.basicFormData.entryOrgId.length-1]});case 11:return n=a.sent,n=n&&n.map((function(e){return Object(i["a"])({text:e.contractName,value:e.contractId},e)})),t.allContract=n,t.formConfig.forEach((function(e){"newContactId"===e.list[0].prop&&t.$set(e.list[0],"optionList",n)})),a.next=17,Object(R["q"])({clientCompanyId:e});case 17:r=a.sent,t.ClientTwoLevelList=r,a.next=22;break;case 21:t.ClientTwoLevelList=[];case 22:case"end":return a.stop()}}),a)})))()},newContactIdChange:function(){this.basicFormData.newClientPayJob=""},newClientPayJobChange:function(){this.basicFormData.newClientPayLevel=""},oldPayJobChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={cityId:t.cityId,contractId:t.currentContract.contractId,station:e},a.next=3,Object($["u"])(n);case 3:r=a.sent,o=Array.isArray(r)&&r.map((function(e){return{text:e,value:e}})),t.formConfig.forEach((function(e){"newClientPayLevel"===e.list[0].prop&&t.$set(e.list[0],"optionList",o)}));case 6:case"end":return a.stop()}}),a)})))()}}},Qe=He,Xe=Object(g["a"])(Qe,$e,Me,!1,null,"5c19deaa",null),Ve=Xe.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("zm-form",{ref:"jobsChange",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"150px"},on:{workAreaChange:e.workAreaChange,workplaceChange:e.workplaceChange,newEmployTypeChange:e.newEmployTypeChange}})],1)},Ye=[],ze=x["a"].state.baseData.baseDataOptionList,Ze=JSON.parse(JSON.stringify(ze["IT_EMTY"])).slice(0,3),Ke=function(e){var t=e.$store.state.baseData.baseDataOptionList;return[{span:12,list:[{type:"text",label:"所属客户",prop:"oldClientIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientId5"),disabled:Object(p["a"])("change.form.employ.oldClientId5")}]},{span:12,list:[{type:"text",label:"所属合同",prop:"oldContactIdCN",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldContactId5"),disabled:Object(p["a"])("change.form.employ.oldContactId5")}]},{span:12,list:[{type:"text",label:"结算岗位",prop:"oldPayJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldPayJob6"),disabled:Object(p["a"])("change.form.employ.oldPayJob6")}]},{span:12,list:[{type:"text",label:"结算职级",prop:"oldPayLevel",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldPayLevel4"),disabled:Object(p["a"])("change.form.employ.oldPayLevel4")}]},{span:12,list:[{type:"text",label:"客户方岗位",prop:"oldClientJob",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.oldClientJob6"),disabled:Object(p["a"])("change.form.employ.oldClientJob6")}]},{span:12,list:[{type:"select",label:"原员工类型",placeholder:"请选择",prop:"oldEmployType",optionList:t["IT_EMTY"],hidden:Object(p["b"])("change.form.employ.oldEmployType1"),disabled:Object(p["a"])("change.form.employ.oldEmployType1")}]},{span:12,list:[{type:"select",label:"新员工类型",placeholder:"请选择",prop:"newEmployType",optionList:Ze,changeFn:"newEmployTypeChange",hidden:Object(p["b"])("change.form.employ.newEmployType1"),disabled:Object(p["a"])("change.form.employ.newEmployType1")}]},{span:12,list:[{type:"date",label:"变动生效日期",prop:"effectiveDate",placeholder:"请选择",hidden:Object(p["b"])("change.form.employ.effectiveDate3"),disabled:Object(p["a"])("change.form.employ.effectiveDate3")}]},{span:12,list:[{type:"text",label:"变动原因",prop:"changeCause",placeholder:"请输入",hidden:Object(p["b"])("change.form.employ.changeCause5"),disabled:Object(p["a"])("change.form.employ.changeCause5")}]},{span:12,list:[{type:"date",label:"客户结算截止日期",prop:"clientPayEnddate",placeholder:"请选择",hidden:"IT_EMTY_003"!==e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.clientPayEnddate2")}]},{span:12,list:[{type:"select",label:"办公区域",prop:"workArea",placeholder:"请输入",optionList:t["IT_CITY"],changeFn:"workAreaChange",hidden:"IT_EMTY_003"!==e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.workArea")}]},{span:12,list:[{type:"select",label:"办公职场",prop:"employWorkplaceId",placeholder:"请输入",optionList:e.workAreaList,customOption:{customLabel:"officeName",customValue:"employWorkplaceId"},changeFn:"workplaceChange",hidden:"IT_EMTY_003"!==e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.officeName")}]},{span:12,list:[{type:"text",label:"职场地址",prop:"officeAddress",placeholder:"请输入",hidden:"IT_EMTY_003"!==e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.officeAddress")}]}]},et={newEmployType:{required:!0,message:"请选择",trigger:"change"},clientPayEnddate:{required:!0,message:"请选择",trigger:"change"},changeCause:{required:!0,message:"请输入",trigger:"blur"},effectiveDate:{required:!0,message:"请选择变更生效日期",trigger:"change"},workArea:{required:!0,message:"请选择",trigger:"change"},employWorkplaceId:{required:!0,message:"请选择",trigger:"change"},officeAddress:{required:!0,message:"请输入",trigger:"blur"}},tt=a("f8af"),at={name:"JobsChange",components:{zmForm:d["a"]},props:{basicFormData:{type:Object,default:function(){return{}}}},data:function(){return{rules:et,workAreaList:[]}},computed:{formConfig:function(){return Ke(this)},cityId:function(){return this.$parent.queryEmployData&&this.$parent.queryEmployData.employSocialCity},education:function(){return this.$parent.queryEmployData&&this.$parent.queryEmployData.employEdu}},created:function(){},beforeDestroy:function(){this.$refs["jobsChange"].resetFields()},watch:{"basicFormData.oldContactId":{handler:function(e){}},"basicFormData.newClientPayJob":{handler:function(e){}},"basicFormData.workArea":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=5;break}return a.next=3,Object(tt["f"])({workArea:e});case 3:n=a.sent,t.workAreaList=n;case 5:case"end":return a.stop()}}),a)})))()}}},methods:{workAreaChange:function(e){this.basicFormData.employWorkplaceId="",this.basicFormData.officeAddress=""},workplaceChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=4;break}t.companyFormData.officeAddress="",a.next=8;break;case 4:return a.next=6,Object(tt["i"])({employWorkplaceId:e});case 6:n=a.sent,t.basicFormData.officeAddress=n.officeAddress;case 8:case"end":return a.stop()}}),a)})))()},newEmployTypeChange:function(e){this.basicFormData.oldEmployType?this.basicFormData.oldEmployType===e&&(this.$message.warning("新员工类型与旧员工类型一致，请重新选择"),this.basicFormData.newEmployType=""):(this.$message.warning("请先选择员工"),this.basicFormData.newEmployType="")}}},nt=at,rt=Object(g["a"])(nt,Ge,Ye,!1,null,"fdf2b7ce",null),ot=rt.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("zm-form",{ref:"callinInfo",attrs:{formData:e.basicFormData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"},on:{openSelectP:e.openSelectP,newClientIdChange:e.newClientIdChange,oldPayJobChange:e.oldPayJobChange,entryOrgIdChange:e.entryOrgIdChange,clientCompanyIdRemote:e.clientCompanyIdRemote,contractIdRemote:e.contractIdRemote,newClientPayJobChange:e.newClientPayJobChange,newContactIdChange:e.newContactIdChange,newClientWorkNameChange:e.newClientWorkNameChange,workAreaChange:e.workAreaChange,workplaceChange:e.workplaceChange,newEmployTypeChange:e.newEmployTypeChange}}),e.isShowCcModal?a("cc-people-modal",{attrs:{isShowCcModal:e.isShowCcModal,customEventName:"newHandUserChagne",isQueryUser:!0},on:{"update:isShowCcModal":function(t){e.isShowCcModal=t},"update:is-show-cc-modal":function(t){e.isShowCcModal=t},newHandUserChagne:e.newHandUserChagne}}):e._e()],1)},st=[],ct=x["a"].state.baseData.baseDataOptionList,lt=x["a"].state.baseData.orgTreeData[0].children,dt=JSON.parse(JSON.stringify(ct["IT_EMTY"])).slice(0,3),ut=function(e){return[{span:12,list:[{type:"cascader",prop:"entryOrgIdList",label:"调入部门",propLabel:"orgName",propValue:"orgId",optionList:lt,checkStrictly:!0,changeFn:"entryOrgIdChange",hidden:Object(p["b"])("change.form.employ.entryOrgId3"),disabled:Object(p["a"])("change.form.employ.entryOrgId3")}]},{span:12,list:[{type:"select",label:"原员工类型",placeholder:"请选择",prop:"oldEmployType",optionList:ct["IT_EMTY"],hidden:Object(p["b"])("change.form.employ.oldEmployType2"),disabled:Object(p["a"])("change.form.employ.oldEmployType2")}]},{span:12,list:[{type:"select",label:"新员工类型",placeholder:"请选择",prop:"newEmployType",optionList:dt,changeFn:"newEmployTypeChange",hidden:Object(p["b"])("change.form.employ.newEmployType2"),disabled:Object(p["a"])("change.form.employ.newEmployType2")}]},{span:12,list:[{type:"text",label:"调入所属交付",prop:"newHandUserCN",searchBtn:{icon:"el-icon-search",changeFn:function(){e.openSelectP()}},focus:"openSelectP",hidden:"IT_EMTY_003"===e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.newHandUser3")}]},{span:12,list:[{type:"remoteSelectLoading",label:"调入客户",prop:"newClientId",changeFn:"newClientIdChange",customOption:{customLabel:"clientCompanyName",customValue:"clientCompanyId"},remoteMethod:"clientCompanyIdRemote",filterable:!0,noMatchText:"查无客户, 请换一个客户名称试试",selectOptionList:e.newClientIdChangeList,hidden:"IT_EMTY_003"===e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.newClientId3")}]},{span:12,list:[{type:"text",label:"客户简称",prop:"clientSimpleName",hidden:"IT_EMTY_003"===e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.clientSimpleName3")}]},{span:12,list:[{type:"select",prop:"newClientTwoLevelId",label:"调入客户二级分类",placeholder:"请选择",optionList:e.ClientTwoLevelList,customOption:{customLabel:"clientTwoLevelName",customValue:"clientTwoLevelId"},rules:[{required:!0,message:"请输入客户二级分类",trigger:"change"}],hidden:"IT_EMTY_003"===e.basicFormData.newEmployType||!e.ClientTwoLevelList.length>0,disabled:Object(p["a"])("change.form.employ.clientTwoLevelName12")}]},{span:12,list:[{type:"remoteSelectLoading",label:"调入客户合同",prop:"newContactId",changeFn:"newContactIdChange",filterable:!0,selectOptionList:e.newContactIdList,customOption:{customLabel:"contractName",customValue:"contractId"},remoteMethod:"contractIdRemote",noMatchText:"查无合同, 请换一个合同名称试试",hidden:"IT_EMTY_003"===e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.newContactId3")}]},{span:12,list:[{type:e.jobInputType,label:"调入结算岗位",prop:"newClientPayJob",filterable:!0,optionList:e.newClientPayJobList,changeFn:"newClientPayJobChange",hidden:"IT_EMTY_003"===e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.newClientPayJob6")}]},{span:12,list:[{type:e.jobInputType2,label:"调入结算职级",prop:"newClientPayLevel",filterable:!0,optionList:e.jobLevelList,hidden:"IT_EMTY_003"===e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.newClientPayLevel7")}]},{span:12,list:[{type:"text",label:"调入客户方岗位",prop:"newClientJob",hidden:"IT_EMTY_003"===e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.newClientJob6")}]},{span:12,list:[{type:"date",label:"调入日期",prop:"entryCompanyDate",hidden:"IT_EMTY_003"===e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.entryCompanyDate3")}]},{span:12,list:[{type:"quotePrice",offsetBottom:"-17px",unitWidth:"100px",unitOptionList:ct.IT_RUIT,unitProp:"quotedPriceUnit",label:"最新商务报价",prop:"newBusinessPrice",afterTxt:"元",width:"80%",tipContent:"商务报价是指客户方的结算价格",hidden:"IT_EMTY_003"===e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.newBusinessPrice3")}]},{span:12,list:[{type:"select",label:"是否含税",placeholder:"请选择",prop:"isHasTax",optionList:[{text:"是",value:"TRUE"},{text:"否",value:"FALSE"}],hidden:!!Object(p["b"])("price.form.employ.isHasTax6")||!("IT_QTTP_003"===e.contractPriceType||"IT_QTTP_004"===e.contractPriceType),disabled:Object(p["a"])("price.form.employ.isHasTax6")}]},{span:12,list:[{type:"number",label:"薪酬倍数",placeholder:"请输入",prop:"salaryTimes",precision:2,max:10,hidden:!!Object(p["b"])("price.form.employ.salaryTimes6")||!("IT_QTTP_004"===e.contractPriceType),disabled:Object(p["a"])("price.form.employ.salaryTimes6")}]},{span:12,list:[{type:"date",label:"变动生效日期",prop:"effectiveDate",placeholder:"请选择",hidden:Object(p["b"])("change.form.employ.effectiveDate6"),disabled:Object(p["a"])("change.form.employ.effectiveDate6")}]},{span:12,list:[{type:"select",label:"客户职场名称",prop:"newClientWorkId",optionList:e.clientWorkPlaceList,customOption:{customLabel:"workplaceName",customValue:"workplaceId"},changeFn:"newClientWorkNameChange",hidden:"IT_EMTY_003"===e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.newClientWorkName4")}]},{span:12,list:[{type:"text",label:"客户职场地址",prop:"newClientWorkAddress",hidden:"IT_EMTY_003"===e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.newClientWorkAddress4")}]},{span:12,list:[{type:"select",label:"办公区域",prop:"workArea",placeholder:"请输入",optionList:ct["IT_CITY"],changeFn:"workAreaChange",hidden:"IT_EMTY_003"!==e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.workArea1")}]},{span:12,list:[{type:"select",label:"办公职场",prop:"employWorkplaceId",placeholder:"请输入",optionList:e.workAreaList,customOption:{customLabel:"officeName",customValue:"employWorkplaceId"},changeFn:"workplaceChange",hidden:"IT_EMTY_003"!==e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.officeName1")}]},{span:12,list:[{type:"text",label:"职场地址",prop:"officeAddress",placeholder:"请输入",hidden:"IT_EMTY_003"!==e.basicFormData.newEmployType,disabled:Object(p["a"])("change.form.employ.officeAddress1")}]}]},pt=function(e){var t=function(t,a,n){a||n(new Error("请选择调入日期"));var r=e.$parent.calloutInfoData.outTime||"";r&&new Date(a)<new Date(r)&&n(new Error("调入日期不能小于调出日期")),n()},a=function(e,t,a){return t?Number(t)>0&&Number(t)<99999?a():a(new Error("仅可输入大于 0 或者小于 99999 的金额数字")):a(new Error("请输入最新商务报价"))};return{entryOrgId:{required:!0,message:"请选择调入部门",trigger:"change"},newEmployType:{required:!0,message:"请选择",trigger:"change"},entryOrgIdList:{required:!0,message:"请选择调入部门",trigger:"change"},newHandUserCN:{required:!0,message:"请选择调入所属交付",trigger:"change"},newClientId:{required:!0,message:"请选择调入客户",trigger:"change"},newContactId:{required:!0,message:"请选择调入客户合同",trigger:"change"},newClientPayJob:{required:!0,message:"请选择调入结算岗位",trigger:"change"},newClientPayLevel:{required:!0,message:"请选择调入结算职级",trigger:"change"},newClientJob:{required:!0,message:"请选择调入客户方岗位",trigger:"change"},entryCompanyDate:{required:!0,validator:t},clientPayPrice:{required:!0,message:"请选择客户方结算价格是否变化",trigger:"change"},newBusinessPrice:{required:!0,validator:a},quotedPriceUnit:{required:!0,message:"请选择报价单位",trigger:"change"},salaryTimes:{required:!0,message:"请输入薪酬倍数",trigger:"blur"},isHasTax:{required:!0,message:"请选择是否含税",trigger:"change"},effectiveDate:{required:!0,trigger:"change",message:"请选择变更生效日期"},newClientWorkId:{required:!0,message:"请选择客户职场名称",trigger:"change"},newClientWorkAddress:{required:!0,message:"请选择客户职场地址",trigger:"blur"},workArea:{required:!0,message:"请选择",trigger:"change"},employWorkplaceId:{required:!0,message:"请选择",trigger:"change"},officeAddress:{required:!0,message:"请输入",trigger:"blur"}}},mt={name:"LevelAndTypeCallinInfo",components:{zmForm:d["a"],ccPeopleModal:u["a"]},props:{basicFormData:{type:Object,default:function(){return{}}},orgId:{type:String,default:function(){return""}},currentNode:{type:String,default:function(){return""}},outOrgIdList:{type:Array,default:function(){return[]}}},data:function(){var e;return e={formConfig:[],rules:pt(this),isShowCcModal:!1,allContract:[],jobLevel:[],currentContract:{},isShownewHandUser:!0,newClientIdChangeList:[],newContactIdList:[],newClientPayJobList:[]},Object(ie["a"])(e,"currentContract",{}),Object(ie["a"])(e,"jobLevelList",[]),Object(ie["a"])(e,"jobInputType","select"),Object(ie["a"])(e,"jobInputType2","select"),Object(ie["a"])(e,"jobParams",{}),Object(ie["a"])(e,"ClientTwoLevelList",[]),Object(ie["a"])(e,"contractPriceType",""),Object(ie["a"])(e,"clientWorkPlaceList",[]),Object(ie["a"])(e,"workAreaList",[]),Object(ie["a"])(e,"rangeTips",""),e},computed:{formConfigList:function(){return ut(this)},cityId:function(){return this.$parent.queryEmployData&&this.$parent.queryEmployData.employSocialCity},callOutOrgId:function(){return this.$parent.calloutInfoData.outOrgIdList},city:function(){return this.$parent.queryEmployData.employSocialCity},education:function(){return this.$parent.queryEmployData.employEdu},isCallStationLevelBusinessUv:function(){return console.log("有合同&岗位&职级才查询商务报价",this.basicFormData.newContactId&&this.basicFormData.newClientPayJob&&this.basicFormData.newClientPayLevel),this.basicFormData.newContactId&&this.getPriceFlag&&this.basicFormData.newClientPayJob&&this.basicFormData.newClientPayLevel}},watch:{"basicFormData.entryOrgId":{handler:function(e){Array.isArray(e)&&e.length&&this.getClientCompanySelectLists(e)},immediate:!0,deep:!0},"basicFormData.entryOrgIdList":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e||!e.length){a.next=9;break}return console.log("新旧orgid相等",e,t.callOutOrgId),console.log("newVal[0] == this.callOutOrgId[0]",e[0]==t.callOutOrgId[0]),n={orgId:Array.isArray(e)?e[e.length-1]:e},a.next=6,Object(J["p"])(n);case 6:r=a.sent,console.log(r,"所属客户哈"),t.newClientIdChangeList=Array.isArray(r)&&r;case 9:case"end":return a.stop()}}),a)})))()},immediate:!0,deep:!0},"basicFormData.newClientId":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.getCustomerDetails(e),t.clientWorkPlaceList=[],t.getClientWorkPlaceList(e),!(e&&t.basicFormData.entryOrgIdList.length>0)){a.next=10;break}return n={companyId:e,orgId:Array.isArray(t.basicFormData.entryOrgIdList)?t.basicFormData.entryOrgIdList[t.basicFormData.entryOrgIdList.length-1]:t.basicFormData.entryOrgIdList,keyword:""},a.next=7,Object(J["s"])(n);case 7:r=a.sent,r.map((function(e){var t="WB"===e.contractId.split("-")[1]?"正式合同":"虚拟合同";e.contractName=e.contractName+"("+t+") "+e.contractId})),t.newContactIdList=r;case 10:if(!e){a.next=15;break}return a.next=13,Object(R["q"])({clientCompanyId:e});case 13:o=a.sent,t.ClientTwoLevelList=o;case 15:case"end":return a.stop()}}),a)})))()}},"basicFormData.newContactId":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i,s,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=15;break}return a.next=3,Object($["s"])({contractId:e});case 3:n=a.sent,r=n.isEdu,o=n.isCity,i=n.priceType,s=n.ruleUnit,t.contractPriceType=i,t.basicFormData.quotedPriceUnit=s,t.getPriceFlag=!0,t.isQuoteByEdu=r,t.isQuoteCity=o,a.next=16;break;case 15:t.contractPriceType="";case 16:e&&t.newContactIdList.length&&(t.currentContract=t.newContactIdList.find((function(e){return e.contractId===t.basicFormData.newContactId}))||{},console.log("结算岗位: ",t.currentContract),c={cityId:t.city,customerId:t.basicFormData.newClientId,education:t.education},t.getJobList(c));case 17:case"end":return a.stop()}}),a)})))()}},"basicFormData.newClientPayJob":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e&&{lineMainId:t.jobParams.lineMainId,version:t.jobParams.version,station:e};case 1:case"end":return a.stop()}}),a)})))()}},formConfigList:{handler:function(e){this.formConfig=e},deep:!0,immediate:!0},"basicFormData.workArea":{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=5;break}return a.next=3,Object(tt["f"])({workArea:e});case 3:n=a.sent,t.workAreaList=n;case 5:case"end":return a.stop()}}),a)})))()}},isCallStationLevelBusinessUv:{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e&&(console.log("再查商务报价222222222222"),t.queryBnsPrice());case 1:case"end":return a.stop()}}),a)})))()}}},beforeDestroy:function(){this.$refs["callinInfo"].resetFields()},methods:{queryBnsPrice:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,o,i,s,c,l,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.state.baseData.baseDataOptionList.IT_CITY.filter((function(t){return t.value===e.cityId})),n=a[0]&&a[0].text+"市",r=e.$store.state.baseData.baseDataOptionList.IT_EDUX.filter((function(t){return t.value===e.education})),o=r[0]&&r[0].text,console.log(o,n,"教育是否都能够匹配"),i={eduCn:e.isQuoteByEdu?o:"",cityCn:e.isQuoteCity?n:"",contractId:e.basicFormData.newContactId,jobCn:e.basicFormData.newClientPayJob,jobLevel:e.basicFormData.newClientPayLevel},t.next=8,Object($["g"])(i);case 8:s=t.sent,c=s.priceType,l=s.taxQuotation,d=s.taxQuotationLeft,u=s.taxQuotationRight,"IT_QTTP_001"===c?(e.rangeTips="",l?e.basicFormData.newBusinessPrice=l:(e.$message.warning("此结算岗位结算职级没有对应的商务报价，请选择正确的结算岗位和结算职级"),e.basicFormData.newBusinessPrice="")):"IT_QTTP_002"===c?d&&u?(e.taxQuotationLeft=d,e.taxQuotationRight=u,e.rangeTips="区间报价为".concat(d,"--").concat(u,",请填写实际商务报价。")):(e.$message.warning("此结算岗位结算职级没有对应的商务报价，请选择正确的结算岗位和结算职级"),e.rangeTips="",e.basicFormData.newBusinessPrice=""):"IT_QTTP_004"===c&&(e.noJobAndLevel=!0);case 14:case"end":return t.stop()}}),t)})))()},workAreaChange:function(e){this.basicFormData.employWorkplaceId="",this.basicFormData.officeAddress=""},newEmployTypeChange:function(e){this.basicFormData.oldEmployType?this.basicFormData.oldEmployType===e&&(this.$message.warning("新员工类型与旧员工类型一致，请重新选择"),this.basicFormData.newEmployType=""):(this.$message.warning("请先选择员工"),this.basicFormData.newEmployType="")},workplaceChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=4;break}t.companyFormData.officeAddress="",a.next=8;break;case 4:return a.next=6,Object(tt["i"])({employWorkplaceId:e});case 6:n=a.sent,t.basicFormData.officeAddress=n.officeAddress;case 8:case"end":return a.stop()}}),a)})))()},newClientWorkNameChange:function(e){var t=this.clientWorkPlaceList.find((function(t){return t.workplaceId===e}));this.basicFormData.newClientWorkAddress=t.address},getClientWorkPlaceList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(R["o"])({clientCompanyId:e});case 2:n=a.sent,t.clientWorkPlaceList=[],n.forEach((function(e){t.clientWorkPlaceList.push(e.clientCompanyWorkplace)}));case 5:case"end":return a.stop()}}),a)})))()},getCustomerDetails:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(R["k"])({clientCompanyId:e});case 2:n=a.sent,t.$set(t.basicFormData,"clientSimpleName",n.clientCompany.clientSimpleName);case 4:case"end":return a.stop()}}),a)})))()},clientCompanyIdRemote:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.basicFormData.entryOrgIdList){a.next=2;break}return a.abrupt("return");case 2:return n=t.basicFormData.entryOrgIdList,r=Array.isArray(n)?n[n.length-1]:n,o={orgId:r,clientCompanyName:e},a.next=7,Object(J["p"])(o);case 7:i=a.sent,t.newClientIdChangeList=Array.isArray(i)&&i;case 9:case"end":return a.stop()}}),a)})))()},contractIdRemote:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.basicFormData.newClientId&&t.basicFormData.entryOrgIdList){a.next=2;break}return a.abrupt("return");case 2:return t.basicFormData.newClientPayJob="",n=t.basicFormData.entryOrgIdList,r=Array.isArray(n)?n[n.length-1]:n,a.next=7,Object(J["s"])({companyId:t.basicFormData.newClientId,keyword:e,orgId:r});case 7:o=a.sent,o.map((function(e){var t="WB"===e.contractId.split("-")[1]?"正式合同":"虚拟合同";e.contractName=e.contractName+"("+t+") "+e.contractId})),t.newContactIdList=o;case 10:case"end":return a.stop()}}),a)})))()},entryOrgIdChange:function(e){this.outOrgIdList.length?e.length&&(e[0]!==this.outOrgIdList[0]?(this.$message.warning("调入部门的一级部门不允许变更，请重新选择调入的部门"),this.basicFormData.entryOrgIdList=[]):1===e.length?(this.$message.warning("不允许只选一级部门，请选择该部门下的二级部门"),this.basicFormData.entryOrgIdList=[]):e[e.length-1]===this.outOrgIdList[this.outOrgIdList.length-1]?(this.$message.warning("调入部门与所在部门一致，请重新选择调入的部门"),this.basicFormData.entryOrgIdList=[]):this.basicFormData.entryOrgId=this.basicFormData.entryOrgIdList[this.basicFormData.entryOrgIdList.length-1]):(this.$message.warning("请先选择员工"),this.basicFormData.entryOrgIdList=[]),console.log("调入部门变化了...：",e),this.basicFormData.newHandUserCN="",this.basicFormData.newHandUser="",this.basicFormData.newClientId=""},getJobList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.currentContract.contractId){e.next=6;break}return a={contractId:t.currentContract.contractId},e.next=4,Object(U["h"])(a);case 4:n=e.sent,n&&n.length?n.forEach((function(e){"IT_DMST_003"===e.value?(t.basicFormData.quotedPriceUnit=e.ruleUnit,e.optionList&&e.optionList.length>0?(t.jobInputType="select",t.newClientPayJobList=e.optionList):t.jobInputType="text"):"IT_DMST_004"===e.value&&(e.optionList&&e.optionList.length>0?(t.jobInputType2="select",t.jobLevelList=e.optionList):t.jobInputType2="text")})):(t.jobInputType="text",t.jobInputType2="text");case 6:case"end":return e.stop()}}),e)})))()},getJobLevel:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object($["u"])(e);case 2:n=a.sent,t.jobLevelList=Array.isArray(n.body.dataList)&&n.body.dataList.map((function(e){return{text:e,value:e}}));case 4:case"end":return a.stop()}}),a)})))()},openSelectP:function(){this.isShowCcModal=!0},newHandUserChagne:function(e){this.basicFormData.newHandUserCN=e.text||e.employName,this.basicFormData.newHandUser=e.value||e.userId},getClientCompanySelectLists:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={orgId:e[e.length-1]||""},a.next=3,Object(J["m"])(n);case 3:r=a.sent,t.formConfig.forEach((function(e){if("newClientId"===e.list[0].prop){var t,a=r&&r.map((function(e){return Object(i["a"])({text:e.clientCompanyName,value:e.clientCompanyId},e)}));(t=e.list[0].optionList).push.apply(t,Object(oe["a"])(a))}}));case 5:case"end":return a.stop()}}),a)})))()},newClientIdChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.basicFormData.newContactId="",t.basicFormData.newClientTwoLevelId="",t.basicFormData.newClientPayJob="",t.basicFormData.newClientPayLevel="",t.basicFormData.newClientWorkId="",t.basicFormData.newClientWorkAddress="",!e){a.next=21;break}if(Array.isArray(t.basicFormData.entryOrgId)&&t.basicFormData.entryOrgId.length>0){a.next=9;break}return a.abrupt("return");case 9:return a.next=11,Object($["j"])({clientCompanyId:e,orgId:t.basicFormData.entryOrgId[t.basicFormData.entryOrgId.length-1]});case 11:return n=a.sent,n=n&&n.map((function(e){return Object(i["a"])({text:e.contractName,value:e.contractId},e)})),t.allContract=n,t.formConfig.forEach((function(e){"newContactId"===e.list[0].prop&&t.$set(e.list[0],"optionList",n)})),a.next=17,Object(R["q"])({clientCompanyId:e});case 17:r=a.sent,t.ClientTwoLevelList=r,a.next=22;break;case 21:t.ClientTwoLevelList=[];case 22:case"end":return a.stop()}}),a)})))()},newContactIdChange:function(){this.basicFormData.newClientPayJob=""},newClientPayJobChange:function(){this.basicFormData.newClientPayLevel=""},oldPayJobChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={cityId:t.cityId,contractId:t.currentContract.contractId,station:e},a.next=3,Object($["u"])(n);case 3:r=a.sent,o=Array.isArray(r)&&r.map((function(e){return{text:e,value:e}})),t.formConfig.forEach((function(e){"newClientPayLevel"===e.list[0].prop&&t.$set(e.list[0],"optionList",o)}));case 6:case"end":return a.stop()}}),a)})))()}}},bt=mt,ht=Object(g["a"])(bt,it,st,!1,null,"50341ded",null),ft=ht.exports,gt=a("ac83"),yt=a("f6f0"),Ct=a("dc27"),It=a("2f62"),wt={name:"InfoChangeSSCProcess",components:{basicProcessInfo:s["a"],employeeInfo:C,oldCustomerInfo:P,newCustomerInfo:H,jobsChange:ae,callinInfo:pe,calloutInfo:we,statusChangeInfo:Fe,ccPeopleModal:u["a"],processInfo:gt["a"],processImage:ke["a"],submitModal:xe["a"],operationBtn:yt["a"],levelChangeInfo:Ue,levelTwoCallinInfo:Ve,employTypeChangeInfo:ot,levelAndTypeCallinInfo:ft},data:function(){return{isBackNode:!1,isShowProcessInfo:!0,navList:["基本信息","变更信息"],basicNavList:["基本信息","变更信息"],basicProcessData:{taskName:"",flowName:"",launchPeople:"",nodeName:""},basicFormData:{employName:"",changeType:"",employId:""},oldCustomerInfoData:{oldClientId:"",oldClientIdCN:"",oldClientTwoLevelId:"",oldClientTwoLevelIdCN:"",oldContactId:"",oldContactCN:"",oldContactIdCN:"",oldPayJob:"",oldPayLevel:"",oldClientJob:"",oldHandUser:"",oldHandUserCN:"",oldClientName:"",oldClientAddress:"",leaveDate:"",clientClosepayDate:"",freeTimeFlag:"",changeCause:"",freeTimeEnd:"",freeTimeStart:"",freeTimeRange:null,freeDays:""},newCustomerInfoData:{clientPayPrice:"",newBusinessPrice:"",quotedPriceUnit:"",effectiveDate:"",newHandUserCN:"",newClientId:"",newClientIdCN:"",newClientTwoLevelId:"",newContactId:"",newContactIdCN:"",newHandUser:"",entryClientDate:"",newClientPayDate:"",newClientPayJob:"",newClientPayLevel:"",newClientJob:null,newClientWorkId:null,newClientWorkName:"",newClientWorkAddress:"",moneyChange:"",taskId:"",beforeSalary:"",uppriceHandLevel:"",uppriceAfterSalary:"",afterSalary:"",isHasTax:"",salaryTimes:"",employTypeChangeFlag:"FALSE",oldEmployType:"",newEmployType:"",newClientSimpleName:""},jobsChangeData:{clientPayPrice:"",newBusinessPrice:"",quotedPriceUnit:"",effectiveDate:"",oldClientId:"",oldClientIdCN:"",oldClientTwoLevelId:"",oldClientTwoLevelIdCN:"",oldContactId:"",oldContactIdCN:"",oldPayJob:"",oldPayLevel:"",oldClientJob:"",newClientPayJob:"",newClientPayLevel:"",newClientJob:"",newClientPayDate:"",changeCause:"",moneyChange:"",taskId:"",afterSalary:"",uppriceHandLevel:"",uppriceAfterSalary:"",beforeSalary:"",companyJob:"",companyJobList:[],companyJobLevel:""},levelChangeData:{oldClientId:"",oldClientIdCN:"",oldClientTwoLevelId:"",oldClientTwoLevelIdCN:"",oldContactId:"",oldContactIdCN:"",oldPayJob:"",oldPayLevel:"",oldClientJob:"",newClientPayJob:"",newClientPayLevel:"",newClientJob:"",companyJob:"",companyJobList:[],companyJobLevel:"",effectiveDate:"",changeCause:""},calloutInfoData:{outOrgId:"",outOrgIdList:[],oldClientId:"",oldClientIdCN:"",oldClientTwoLevelId:"",oldClientTwoLevelIdCN:"",oldPayJob:"",oldPayLevel:"",oldClientJob:"",oldHandUser:"",oldHandUserCN:"",companyDeliver:"",companyDeliverCn:"",outTime:"",clientPayEnddate:"",recruitMake:"",leaderFlow:"",recruitUser:"",recruitUserCN:"",changeCause:""},callinInfoData:{newBusinessPrice:"",quotedPriceUnit:"",effectiveDate:"",entryOrgIdList:[],entryOrgId:"",newClientSimpleName:"",newHandUser:"",newHandUserCN:"",newClientId:"",newClientTwoLevelId:"",newContactId:"",newClientPayJob:"",newClientPayLevel:"",newClientJob:"",entryCompanyDate:"",newClientWorkId:"",newClientWorkName:"",newClientWorkAddress:"",isHasTax:"",salaryTimes:""},levelTwoCallinInfoData:{newBusinessPrice:"",quotedPriceUnit:"",effectiveDate:"",entryOrgIdList:[],entryOrgId:"",newHandUser:"",newHandUserCN:"",newClientId:"",newClientTwoLevelId:"",newContactId:"",newClientPayJob:"",newClientPayLevel:"",newClientJob:"",entryCompanyDate:"",newClientWorkId:"",newClientWorkName:"",newClientWorkAddress:"",isHasTax:"",salaryTimes:""},levelAndTypeCallinData:{newBusinessPrice:"",quotedPriceUnit:"",effectiveDate:"",entryOrgIdList:[],entryOrgId:"",newHandUser:"",newHandUserCN:"",newClientId:"",newClientTwoLevelId:"",newContactId:"",newClientPayJob:"",newClientPayLevel:"",newClientJob:"",entryCompanyDate:"",newClientWorkId:"",newClientWorkName:"",newClientWorkAddress:"",oldEmployType:"",newEmployType:"",workArea:"",employWorkplaceId:"",officeAddress:"",isHasTax:"",salaryTimes:""},statusChangeInfoData:{oldClientId:"",oldClientIdCN:"",oldClientTwoLevelId:"",oldClientTwoLevelIdCN:"",oldContactId:"",oldContactIdCN:"",oldPayJob:"",oldPayLevel:"",oldClientJob:"",companyJob:"",companyJobCn:"",onSiteStatus:"",changeDate:"",changeCause:"",employJobStatus:""},ccPeopleLists:[],navFlag:0,changeType:"",isShowCcModal:!1,isShowImgModal:!1,entryProcessImage:a("c818"),taskFlowConfig:{},taskNodeInstance:{},submitInfo:{approverList:[],ccPeopleList:[]},queryEmployData:{},isNextNode:!1,taskNextAssignList:[],taskInstance:{},uploadTableData:[],aprvData:{auditType:"IT_RWSP_001",breakType:"",auditDesc:"",breakDesc:"",backType:"",backNodeId:""},componentRefs:[{isHasSon:!0,ref:"employeeInfo"},{isHasSon:!0,ref:"oldCustomerInfo"},{isHasSon:!0,ref:"newCustomerInfo"},{isHasSon:!0,ref:"jobsChange"},{isHasSon:!0,ref:"calloutInfo"},{isHasSon:!0,ref:"callinInfo"},{isHasSon:!0,ref:"statusChangeInfo"}],moduleName:"change",processInfoObj:{},currentNode:"010",currentNodeName:"",currenFlowInfo:{},isDraftNode:!1,processListItemInfo:{},employTypeChangeData:{oldClientId:"",oldClientIdCN:"",oldContactId:"",oldContactIdCN:"",oldPayJob:"",oldPayLevel:"",oldClientJob:"",companyJob:"",companyJobList:[],companyJobLevel:"",oldEmployType:"",newEmployType:"",changeCause:"",effectiveDate:"",clientPayEnddate:"",workArea:"",employWorkplaceId:"",officeAddress:""}}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(It["e"])("baseData",["jobTreeDate"])),Object(It["e"])("user",["userInfo"])),Object(It["e"])("entryCfmSalary",["isInitProcess","isEditProcess"])),Object(It["e"])("processPermission",["buttonPermissionList","formPermissionList","hasFormPmsCodeList","hasBtnPmsCodeList"])),{},{isShowProcessInfoComputed:function(){return!!this.isShowProcessInfo&&(!this.isDraftNode&&!this.$route.query.objStr)},processFormParams:function(){var e=Object.assign({},this.basicFormData,this.oldCustomerInfoData,this.newCustomerInfoData,this.jobsChangeData,this.calloutInfoData,this.callinInfoData,this.statusChangeInfoData,this.publicData,this.levelTwoCallinInfoData,this.levelAndTypeCallinData);return e},prepareCmtParams:function(){var e={city:this.queryEmployData.employSocialCityCn||"",orgId:this.callInOrgId||this.queryEmployData.orgId||""};return console.log("准备提交orgID是否okk",this.callInOrgId,this.queryEmployData.orgId),e},callInOrgId:function(){return this.callinInfoData.entryOrgIdList[this.callinInfoData.entryOrgIdList.length-1]}}),watch:{"currenFlowInfo.taskFlowNodeConfig.nodeName":{handler:function(e){e&&this.$route.query.taskObj&&(e.includes("010")?this.$set(this.aprvData,"auditType","IT_RWSP_005"):this.$set(this.aprvData,"auditType","IT_RWSP_001"))},immediate:!0},hasFormPmsCodeList:{deep:!0,handler:function(e){e.length>0&&(this.isShowProcessInfo=this.hasFormPmsCodeList.includes("change.form.flow.recordInfo"))}},"processListItemInfo.runStatus":{handler:function(e){this.isDraftNode="IT_RUNS_001"===e}}},created:function(){this.getProcessInitInfo(),this.getProcessDetails()},mounted:function(){this.assignAgain()},methods:Object(i["a"])(Object(i["a"])({},Object(It["d"])("entryCfmSalary",["CHANGE_PROCESS_STATUS","CHANGE_EDIT_PROCESS_STATUS"])),{},{employChange:function(){this.formReset()},formReset:function(){var e=this,t=["newCustomerInfoData","oldCustomerInfoData","jobsChangeData","calloutInfoData","callinInfoData","statusChangeInfoData","levelChangeData","levelTwoCallinInfoData","employTypeChangeData","levelAndTypeCallinData"];t.forEach((function(t){for(var a in e[t]){var n=Object.prototype.toString.call(e[t][a]);switch(n){case"[object String]":e[t][a]="";break;case"[object Array]":e[t][a]=[];break;case"[object Object]":e[t][a]=null;break;case"[object Number]":e[t][a]=0;break;default:e[t][a]=null;break}}}))},getAllFormData:function(){var e=[];switch(this.changeType){case"IT_XXBG_001":e=[this.basicFormData,this.oldCustomerInfoData,this.newCustomerInfoData];break;case"IT_XXBG_002":e=[this.basicFormData,this.jobsChangeData];break;case"IT_XXBG_005":e=[this.basicFormData,this.calloutInfoData,this.levelAndTypeCallinData];break;case"IT_XXBG_006":e=[this.basicFormData,this.statusChangeInfoData];break;case"IT_XXBG_007":e=[this.basicFormData,this.levelChangeData];break;case"IT_XXBG_008":e=[this.basicFormData,this.calloutInfoData,this.callinInfoData];break;case"IT_XXBG_009":e=[this.basicFormData,this.calloutInfoData,this.levelTwoCallinInfoData];break;case"IT_XXBG_010":e=[this.basicFormData,this.employTypeChangeData];break}var t={};e.map((function(e){Object.keys(e).map((function(a){("undefined"===t[a]||e[a])&&(t[a]=e[a])}))})),t.freeTimeRange&&t.freeTimeRange.length&&delete t.freeTimeRange,console.log("提交参数",t),Object.assign(this.processFormParams,t)},getProcessInitInfo:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.query.objStr){t.next=14;break}return a=JSON.parse(decodeURIComponent(e.$route.query.objStr)),n=a.flowName,r=a.version,t.next=5,Object(q["i"])({flowName:n,version:String(r)});case 5:o=t.sent,e.taskFlowConfig=o.taskFlowConfig,e.taskNodeInstance.currentNode=o.taskFlowNodeConfig.nodeId,e.basicProcessData.launchPeople="[".concat(e.userInfo.loginName,"] ").concat(e.userInfo.userName),e.basicProcessData.flowName=o.taskFlowConfig.flowName||"",e.basicProcessData.nodeName=o.taskFlowNodeConfig.nodeName,e.currentNodeName=o.taskFlowNodeConfig.nodeName,e.taskInstance.creatorId=e.userInfo.userId,e.$store.dispatch("processPermission/getProcessPermissionList",o.taskFlowNodeConfig.nodeId);case 14:case"end":return t.stop()}}),t)})))()},navChange:function(e){this.navFlag=e;var t=document.querySelector("#nav".concat(e));t&&t.scrollIntoView()},closePage:function(){var e=this,t=this.$route;this.$confirm("内容未保存, 是否直接关闭?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$store.dispatch("tagsView/delView",t).then((function(t){t.visitedViews;e.$router.push("/customer/customer")}))}))},empChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.queryEmployData=e,t.assignAgain();case 2:case"end":return a.stop()}}),a)})))()},typeChange:function(e){this.formReset(),this.basicFormData.employName="",this.basicFormData.employId="",this.changeType=e;var t=[[],["原客户方信息","新客户方信息"],["岗位变更"],["离场信息"],["离场信息","闲置信息","入场信息"],["调出信息","调入信息"],["状态信息"],["结算级别变动"],["调出信息","调入信息"],["调出信息","调入信息"],["员工类型信息"]];this.changeType?this.navList=this.basicNavList.concat(t[Number(this.changeType.slice(-2))]):(this.navList=this.basicNavList,this.assignAgain())},ccPeopleCallback:function(e){this.ccPeopleLists.push(e)},getEmployDetail:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={keyWord:e.slice(1,7)},a.next=3,Object(Ct["R"])(n);case 3:r=a.sent,t.basicFormData.employName="[".concat(r[0].employNo,"] ").concat(r[0].employName),t.basicFormData.employId=r[0].employId,t.queryEmployData=r[0];case 7:case"end":return a.stop()}}),a)})))()},assignAllPro:function(e,t){Object.keys(e).forEach((function(a){"undefined"!==t[a]&&(e[a]=t[a]||"")}))},getProcessDetails:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$route.query.taskObj,!a){t.next=50;break}return n=JSON.parse(decodeURIComponent(a)),e.taskFlowConfig.flowName=n.flowName,e.taskFlowConfig.version=n.version,t.next=7,Object(q["p"])({taskInstance:{taskInstanceId:n.taskInstanceId},taskFlowConfig:{flowName:n.flowName,version:n.version},taskNodeInstance:{nodeInstanceId:n.nodeInstanceId}});case 7:r=t.sent,e.processInfoObj=r,e.$store.dispatch("processPermission/getProcessPermissionList",r.taskFlowNodeConfig.nodeId),e.currenFlowInfo=r,e.isBackNode=!0,e.processListItemInfo=n,e.taskFlowConfig=r.taskFlowConfig,e.taskNodeInstance=r.taskNodeInstance,e.taskInstance=r.taskInstance,Object.assign(e.basicFormData,r.relatedObject),e.basicProcessData.launchPeople="[".concat(r.creatorNo,"] ").concat(r.taskInstance.creatorName),e.basicProcessData.flowName=r.taskFlowConfig.flowName||"",e.basicProcessData.nodeName=r.taskFlowNodeConfig.nodeName,e.basicProcessData.taskName=r.taskInstance.taskName,e.currentNodeName=r.taskFlowNodeConfig.nodeName,e.getEmployDetail(r.relatedObject.employIdCN||""),e.typeChange(r.relatedObject.changeType||""),e.basicFormData.employId=r.relatedObject.employId,e.basicFormData.employName=r.relatedObject.employIdCN,e.basicFormData.changeType=r.relatedObject.changeType,r.relatedObject.outOrgId&&(e.calloutInfoData.outOrgIdList=Object(Z["c"])(r.relatedObject.outOrgId,!1)||[]),console.log("xiangqing orgid",Object(Z["c"])(r.relatedObject.outOrgId,!1)),console.log("xiangqing orgid...",e.calloutInfoData.outOrgIdList),e.calloutInfoData.outOrgId=r.relatedObject.outOrgId,e.calloutInfoData.oldClientId=r.relatedObject.oldClientId,e.calloutInfoData.oldClientIdCN=r.relatedObject.oldClientIdCN,e.calloutInfoData.oldClientTwoLevelId=r.relatedObject.oldClientTwoLevelId,e.calloutInfoData.oldClientTwoLevelIdCN=r.relatedObject.oldClientTwoLevelIdCN,e.calloutInfoData.oldPayJob=r.relatedObject.oldPayJob,e.calloutInfoData.oldPayLevel=r.relatedObject.oldPayLevel,e.calloutInfoData.oldClientJob=r.relatedObject.oldClientJob,e.calloutInfoData.oldHandUserCN=r.relatedObject.oldHandUserCN,e.calloutInfoData.oldHandUser=r.relatedObject.oldHandUser,e.calloutInfoData.outTime=r.relatedObject.outTime,e.calloutInfoData.clientPayEnddate=r.relatedObject.clientPayEnddate,e.calloutInfoData.recruitMake=r.relatedObject.recruitMake,e.calloutInfoData.recruitUserCN=r.relatedObject.recruitUserCN,e.calloutInfoData.recruitUser=r.relatedObject.recruitUser,e.calloutInfoData.changeCause=r.relatedObject.changeCause,e.callinInfoData.entryOrgId=r.relatedObject.entryOrgId,e.callinInfoData.entryOrgIdList=Object(Z["c"])(e.callinInfoData.entryOrgId,!1),e.callinInfoData.newHandUserCN=r.relatedObject.newHandUserCN,e.callinInfoData.newHandUser=r.relatedObject.newHandUser;case 50:case"end":return t.stop()}}),t)})))()},assignAgain:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.basicFormData.changeType||!e.basicFormData.employName){t.next=78;break}a=e.queryEmployData,console.log("xinxibiangeng choose",a),n="WB"===a.clientContractId.split("-")[1]?"正式合同":"虚拟合同",a.clientContractIdCn=a.clientContractIdCn+"("+n+") "+a.clientContractId,e.publicData={outOrgId:a.orgId,companyJob:a.companyJob,oldClientId:a.clientCompanyId,oldClientJob:a.clientSaleJob,oldPayLevel:a.clientSaleLevel},t.t0=e.basicFormData.changeType,t.next="IT_XXBG_001"===t.t0?9:"IT_XXBG_002"===t.t0?25:"IT_XXBG_006"===t.t0?35:"IT_XXBG_007"===t.t0?44:"IT_XXBG_005"===t.t0||"IT_XXBG_008"===t.t0||"IT_XXBG_009"===t.t0?56:"IT_XXBG_010"===t.t0?69:78;break;case 9:return e.oldCustomerInfoData.oldClientId=a.clientCompanyId||"",e.oldCustomerInfoData.oldClientIdCN=a.clientCompanyIdCn||"",e.oldCustomerInfoData.oldClientTwoLevelId=a.clientTwoLevelId||"",e.oldCustomerInfoData.oldClientTwoLevelIdCN=a.clientTwoLevelName||"",e.oldCustomerInfoData.oldContactId=a.clientContractId||"",e.oldCustomerInfoData.oldContactIdCN=a.clientContractIdCn||"",e.oldCustomerInfoData.oldPayLevel=a.clientSaleLevel||"",e.oldCustomerInfoData.oldPayJob=a.clientSaleJob||"",e.oldCustomerInfoData.oldClientJob=a.clientPosition||"",e.oldCustomerInfoData.oldHandUser=a.companyDeliver||"",e.oldCustomerInfoData.oldHandUserCN=a.companyDeliverCn||"",e.oldCustomerInfoData.oldClientName=a.clientEntryNameCn||"",e.oldCustomerInfoData.oldClientAddress=a.clientEntryAddress||"",e.newCustomerInfoData.oldEmployType=a.employType||"",e.newCustomerInfoData.employTypeChangeFlag="FALSE",t.abrupt("break",78);case 25:return e.jobsChangeData.oldClientId=a.clientCompanyId||"",e.jobsChangeData.oldClientIdCN=a.clientCompanyIdCn||"",e.jobsChangeData.oldClientTwoLevelId=a.clientTwoLevelId||"",e.jobsChangeData.oldClientTwoLevelIdCN=a.clientTwoLevelName||"",e.jobsChangeData.oldContactId=a.clientContractId||"",e.jobsChangeData.oldContactIdCN=a.clientContractIdCn||"",e.jobsChangeData.oldPayLevel=a.clientSaleLevel||"",e.jobsChangeData.oldPayJob=a.clientSaleJob||"",e.jobsChangeData.oldClientJob=a.clientPosition||"",t.abrupt("break",78);case 35:return e.statusChangeInfoData.oldClientId=a.clientCompanyId||"",e.statusChangeInfoData.oldClientIdCN=a.clientCompanyIdCn||"",e.statusChangeInfoData.oldContactId=a.clientContractId||"",e.statusChangeInfoData.oldContactIdCN=a.clientContractIdCn||"",e.statusChangeInfoData.oldPayLevel=a.clientSaleLevel||"",e.statusChangeInfoData.oldPayJob=a.clientSaleJob||"",e.statusChangeInfoData.oldClientJob=a.clientPosition||"",e.statusChangeInfoData.companyJobCn=a.companyJobCn||"",t.abrupt("break",78);case 44:return e.levelChangeData.oldClientId=a.clientCompanyId||"",e.levelChangeData.oldClientIdCN=a.clientCompanyIdCn||"",e.levelChangeData.oldClientTwoLevelId=a.clientTwoLevelId||"",e.levelChangeData.oldClientTwoLevelIdCN=a.clientTwoLevelName||"",e.levelChangeData.oldContactId=a.clientContractId||"",e.levelChangeData.oldContactIdCN=a.clientContractIdCn||"",e.levelChangeData.oldPayLevel=a.clientSaleLevel||"",e.levelChangeData.oldPayJob=a.clientSaleJob||"",e.levelChangeData.oldClientJob=a.clientPosition||"",e.levelChangeData.companyJob=a.companyJob||"",e.$set(e.levelChangeData,"companyJobList",Object(Z["a"])(e.jobTreeDate,a.companyJob)),t.abrupt("break",78);case 56:return e.calloutInfoData.outOrgId=a.orgId||"",e.calloutInfoData.outOrgIdList=Object(Z["c"])(a.orgId,!1),e.calloutInfoData.oldClientId=a.clientCompanyId||"",e.calloutInfoData.oldClientIdCN=a.clientCompanyIdCn||"",e.calloutInfoData.oldClientTwoLevelId=a.clientTwoLevelId||"",e.calloutInfoData.oldClientTwoLevelIdCN=a.clientTwoLevelName||"",e.calloutInfoData.oldPayLevel=a.clientSaleLevel||"",e.calloutInfoData.oldPayJob=a.clientSaleJob||"",e.calloutInfoData.oldClientJob=a.clientPosition||"",e.calloutInfoData.oldHandUser=a.companyDeliver||"",e.calloutInfoData.oldHandUserCN=a.companyDeliverCn||"",e.levelAndTypeCallinData.oldEmployType=a.employType||"",t.abrupt("break",78);case 69:return e.employTypeChangeData.oldClientId=a.clientCompanyId||"",e.employTypeChangeData.oldClientIdCN=a.clientCompanyIdCn||"",e.employTypeChangeData.oldContactId=a.clientContractId||"",e.employTypeChangeData.oldContactIdCN=a.clientContractIdCn||"",e.employTypeChangeData.oldPayLevel=a.clientSaleLevel||"",e.employTypeChangeData.oldPayJob=a.clientSaleJob||"",e.employTypeChangeData.oldClientJob=a.clientPosition||"",e.employTypeChangeData.oldEmployType=a.employType||"",t.abrupt("break",78);case 78:case"end":return t.stop()}}),t)})))()}}),inject:["reload"],beforeRouteEnter:function(e,t,a){e.query.taskObj?a((function(e){e.isEditProcess&&(e.getProcessDetails(),e.taskInstance.creatorId=e.userInfo.userId,e.CHANGE_EDIT_PROCESS_STATUS(!1))})):a((function(e){e.isInitProcess&&(e.reload(),e.CHANGE_PROCESS_STATUS(!1))}))}},vt=wt,Ot=(a("122c"),Object(g["a"])(vt,n,r,!1,null,"34078064",null));t["default"]=Ot.exports},"2b6d":function(e,t,a){"use strict";a.d(t,"l",(function(){return r})),a.d(t,"k",(function(){return o})),a.d(t,"o",(function(){return i})),a.d(t,"p",(function(){return s})),a.d(t,"q",(function(){return c})),a.d(t,"r",(function(){return l})),a.d(t,"m",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"t",(function(){return p})),a.d(t,"i",(function(){return m})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return h})),a.d(t,"n",(function(){return f})),a.d(t,"d",(function(){return g})),a.d(t,"e",(function(){return y})),a.d(t,"f",(function(){return C})),a.d(t,"s",(function(){return I})),a.d(t,"j",(function(){return w})),a.d(t,"g",(function(){return v})),a.d(t,"h",(function(){return O}));a("99af");var n=a("b775");function r(e){return Object(n["a"])({url:"/business/vmclient/queryVmClientList",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/business/vmclient/queryVmClientInfo",method:"post",params:e})}function i(e){return Object(n["a"])({url:"/business/vmclient/removeVmClientCompany",method:"post",params:e})}function s(e){return Object(n["a"])({url:"/business/vmclient/removeVmClientTail",method:"post",params:e})}function c(e){return Object(n["a"])({url:"/business/vmclient/saveOrUpdateVmClient",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/business/vmclient/saveOrUpdateVmClientTail",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/business/vmclient/queryVmClientTailList",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/business/vmclient/clientFlow",method:"post",params:e})}function p(e){return Object(n["a"])({url:"/business/vmclient/updateNewsStatus",method:"post",params:e})}function m(e){return Object(n["a"])({url:"/business/vmclient/newsFlow",method:"post",params:e})}function b(e){return Object(n["a"])({url:"/business/vmclient/exportVmClientList",method:"post",data:e})}function h(e){return Object(n["a"])({url:"/commons/exportfile/download",method:"get",params:e})}function f(e){return Object(n["a"])({url:"/business/vmclient/queryVmClientUsers",method:"post",data:e})}function g(e){return Object(n["a"])({url:"/commons/tianyancha/getBaseInfoV2",method:"post",data:e})}function y(e){return Object(n["a"])({url:"/commons/tianyancha/getCompanyLawSuit",method:"post",data:e})}function C(e){return Object(n["a"])({url:"/commons/tianyancha/getCompanyProfile",method:"post",data:e})}function I(e){return Object(n["a"])({url:"/commons/tianyancha/searchCompany",method:"post",data:e})}function w(e){return Object(n["a"])({url:"/business/client/queryClientCompanySelectListByOrgId",method:"post",data:e})}function v(e){return Object(n["a"])({url:"/business/contract/getContractPrice?cityCn=".concat(e.cityCn,"&contractId=").concat(e.contractId,"&jobCn=").concat(e.jobCn,"&jobLevel=").concat(e.jobLevel),method:"post"})}function O(e){return Object(n["a"])({url:"/business/contract/queryContractPriceDimension?contractId=".concat(e.contractId),method:"post"})}},"35ad":function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"k",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"y",(function(){return s})),a.d(t,"A",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"j",(function(){return d})),a.d(t,"l",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"p",(function(){return m})),a.d(t,"z",(function(){return b})),a.d(t,"x",(function(){return h})),a.d(t,"e",(function(){return f})),a.d(t,"h",(function(){return g})),a.d(t,"w",(function(){return y})),a.d(t,"a",(function(){return C})),a.d(t,"v",(function(){return I})),a.d(t,"B",(function(){return w})),a.d(t,"r",(function(){return v})),a.d(t,"q",(function(){return O})),a.d(t,"s",(function(){return D})),a.d(t,"i",(function(){return j})),a.d(t,"u",(function(){return L})),a.d(t,"o",(function(){return T})),a.d(t,"n",(function(){return P})),a.d(t,"t",(function(){return F})),a.d(t,"g",(function(){return k})),a.d(t,"m",(function(){return x}));var n=a("b775");function r(e){return Object(n["a"])({url:"/business/contract/queryContractList",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/business/client/queryClientCompanyInfos",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/business/contract/deleteContract",method:"post",params:e})}function s(e){return Object(n["a"])({url:"/business/contract/saveOrUpdate",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/business/contract/saveOrUpdateRelation",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/business/contract/queryContractInfo",method:"post",params:e})}function d(e){return Object(n["a"])({url:"/business/contract/queryContractSelectList",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/commons/basedata/queryCompanyList",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/business/client/queryAllClientCompanySelectList",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/business/client/queryClientCompanyListNoScope",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/business/contract/saveContractPrice",method:"post",data:e})}function h(e){return Object(n["a"])({url:"/business/contract/addContractAndVirtualRelation",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/business/contract/queryContractFileList",method:"post",params:e})}function g(e){return Object(n["a"])({url:"/business/contract/queryContractPrice",method:"post",params:e})}function y(e){return Object(n["a"])({url:"/business/contract/queryTMContractPrice",method:"post",params:e})}function C(e){return Object(n["a"])({url:"/business/contract/checkContractInfo",method:"post",data:e})}function I(e){return Object(n["a"])({url:"/business/contract/queryStagingList",method:"post",data:e})}function w(e){return Object(n["a"])({url:"/business/contract/saveOrupdateStaging",method:"post",data:e})}function v(e){return Object(n["a"])({url:"/business/contract/queryContractPriceDimension",method:"post",params:e})}function O(e){return Object(n["a"])({url:"/business/contract/queryContractSelectListByLike",method:"post",params:e})}function D(e){return Object(n["a"])({url:"/business/contract/queryContractPriceResult",method:"post",params:e})}function j(e){return Object(n["a"])({url:"/salary/salaryLineSet/queryForStation",method:"post",data:e})}function L(e){return Object(n["a"])({url:"/salary/salaryLineSet/queryForLevel",method:"post",data:e})}function T(e){return Object(n["a"])({url:"/salary/salaryLineSet/querForPirce",method:"post",data:e})}function P(e){return Object(n["a"])({url:"/salary/salaryLineSet/querForDetail",method:"post",data:e})}function F(e){return Object(n["a"])({url:"/business/contract/queryContractSelectByOrgIdANDClientCompanyId",method:"post",params:e})}function k(e){return Object(n["a"])({url:"/business/contract/getContractPrice",method:"post",params:e})}function x(e){return Object(n["a"])({url:"/business/contract/queryContractPriceVersionList/".concat(e),method:"post"})}},4788:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.trainFormData,(function(t,n){return a("div",{key:t.ref,staticClass:"pageFormItem"},[a("div",{staticClass:"title"},[e._v(" "+e._s(t.title)+" "),0===n?a("el-button",{staticStyle:{"margin-left":"45px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addTrainExe(n)}}},[e._v("添加")]):a("el-button",{staticStyle:{"margin-left":"45px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.delTrainExe(n)}}},[e._v("删除")])],1),a("zm-form",{ref:t.ref,refInFor:!0,attrs:{formData:t.formData,formConfig:e.formConfig,rules:e.rules,labelWidth:"140px"}})],1)})),0)},r=[],o=(a("a434"),a("c91b")),i=a("ed08"),s=(a("61f7"),function(e){return[{span:12,list:[{type:"date",prop:"trainStartendDate",label:"起始时间",placeholder:"请选择",datePickerType:"daterange"}]},{span:12,list:[{type:"text",prop:"trainOrgName",label:"培训机构",placeholder:"请输入"}]},{span:12,list:[{type:"text",prop:"trainContent",label:"培训内容",placeholder:"请输入"}]},{span:12,list:[{type:"text",prop:"trainCer",label:"证书",placeholder:"请输入"}]}]}),c={},l=a("6994"),d={name:"EducationInfo",components:{zmForm:o["a"]},props:{trainFormData:{type:Array,default:function(){return[]}}},data:function(){return{formConfig:s(this),rules:c}},mounted:function(){},methods:{addTrainExe:function(e,t){var a=Object(l["a"])(this.trainFormData,"历"),n=(new Date).valueOf(),r={title:"培训经历"+a,ref:"form"+n,formData:{}},o=Object(i["a"])(this.trainFormData);o.push(r),this.$emit("update:trainFormData",o)},delTrainExe:function(e){var t=this;this.$confirm("内容未保存, 是否直接删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=Object(i["a"])(t.trainFormData);a.splice(e,1),t.$emit("update:trainFormData",a),t.$message.success("删除成功")}))}}},u=d,p=(a("8288"),a("2877")),m=Object(p["a"])(u,n,r,!1,null,"b167bd0e",null);t["a"]=m.exports},6994:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("53ca");a("ac1f"),a("1276");function r(e){for(var t={"零":0,"一":1,"二":2,"三":3,"四":4,"五":5,"六":6,"七":7,"八":8,"九":9},a={"十":{value:10,secUnit:!1},"百":{value:100,secUnit:!1},"千":{value:1e3,secUnit:!1},"万":{value:1e4,secUnit:!0},"亿":{value:1e8,secUnit:!0}},r=0,o=0,i=0,s=!1,c=e.split(""),l=0;l<c.length;l++){var d=t[c[l]];if(void 0!==Object(n["a"])(d))i=d,l===c.length-1&&(o+=i);else{var u=a[c[l]].value;s=a[c[l]].secUnit,s?(o=(o+i)*u,r+=o,o=0):o+=i*u,i=0}}return r+o}function o(e){var t=["零","一","二","三","四","五","六","七","八","九"],a=["","十","百","千"],n="",r="",o=0,i=!0;while(e>0){var s=e%10;0===s?i||(i=!0,r=t[s]+r):(i=!1,n=t[s],n+=a[o],r=n+r),o++,e=Math.floor(e/10)}return r}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(0!==e.length){var a=e[e.length-1].title,n=a.split(t)&&a.split(t)[1],i=r(n),s=o(i+1);return s}}},70391:function(e,t,a){var n=a("23e7"),r=a("d039"),o=a("057f").f,i=r((function(){return!Object.getOwnPropertyNames(1)}));n({target:"Object",stat:!0,forced:i},{getOwnPropertyNames:o})},8288:function(e,t,a){"use strict";a("f33f")},8726:function(e,t,a){"use strict";a("a5c8")},9587:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-basic-info"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"basic-info-left"},[e._v("工作主题")]),a("span",{staticClass:"basic-info-right"},[e._v(" "+e._s(e.basicProcessInfo.taskName||"系统自动生成")+" ")])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"basic-info-left",staticStyle:{"padding-right":"22px"}},[e._v("流程名称")]),a("span",{staticClass:"basic-info-right",staticStyle:{"margin-left":"0"}},[e._v(e._s(e.basicProcessInfo.flowName))])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"basic-info-left"},[e._v("发起人")]),a("span",{staticClass:"basic-info-right"},[e._v(e._s(e.basicProcessInfo.launchPeople))])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"basic-info-left",staticStyle:{"padding-right":"22px"}},[e._v("当前环节")]),a("span",{staticClass:"basic-info-right",staticStyle:{"margin-left":"0"}},[e._v(e._s(e.basicProcessInfo.nodeName))])])],1)],1)},r=[],o={name:"BasicInfo",props:{basicProcessInfo:{type:Object,default:function(){return{}}}},data:function(){return{}},mounted:function(){},methods:{}},i=o,s=(a("8726"),a("2877")),c=Object(s["a"])(i,n,r,!1,null,"9d1ce9b8",null);t["a"]=c.exports},a5c8:function(e,t,a){},ae5a:function(e,t,a){},c818:function(e,t,a){e.exports=a.p+"static/img/infoChangeProcess.8d70216f.png"},e55b:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return l}));a("7db0"),a("99af"),a("fb6a"),a("159b");var n=a("ed08"),r=a("4360"),o=r["a"].state.baseData.orgTreeData,i=r["a"].state.baseData.jobTreeDate;function s(e,t){var a=[],n=function t(n,r){for(var o=0;o<n.length;o++){var i=n[o];if(i.value===r){a.push(i.extra1),a.push(r),t(e,i.parentId);break}i.children&&t(i.children,r)}};return n(e,t),a}function c(e){if(e){var t="",a=i.find((function(t){return t.value===e[0]})),n=a.children.find((function(t){return t.value===e[1]}));return t=n.extra2,t}}function l(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=u(e,o),r=p(Object(n["a"])(o));if(a){if(a.parentId){var i=d(a.parentId,r).reverse().concat([a.orgId]);return t?i:i.slice(1,i.length+1)}return[a.orgId]}}function d(e,t){var a=[];function n(e,t){t.forEach((function(r){e===r.orgId&&e===r.orgId&&(a.push(r.orgId),n(r.parentId,t))}))}return n(e,t),a}function u(e,t){var a=null;function n(t){t.forEach((function(t){if(e===t.orgId)return a=t;t.children&&t.children.length>0&&n(t.children)}))}return n(t),a}function p(e){var t=[];Object(n["a"])(e);function a(e){e.forEach((function(e){t.push(e),e.children&&e.children.length>0&&(a(e.children),delete e.children)}))}return a(e),t}},f33f:function(e,t,a){},f6b0:function(e,t,a){"use strict";a.d(t,"l",(function(){return r})),a.d(t,"k",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"m",(function(){return c})),a.d(t,"n",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"o",(function(){return u})),a.d(t,"p",(function(){return p})),a.d(t,"d",(function(){return m})),a.d(t,"w",(function(){return b})),a.d(t,"e",(function(){return h})),a.d(t,"t",(function(){return f})),a.d(t,"c",(function(){return g})),a.d(t,"h",(function(){return y})),a.d(t,"f",(function(){return C})),a.d(t,"s",(function(){return I})),a.d(t,"r",(function(){return w})),a.d(t,"v",(function(){return v})),a.d(t,"x",(function(){return O})),a.d(t,"j",(function(){return D})),a.d(t,"u",(function(){return j})),a.d(t,"q",(function(){return L}));var n=a("b775");function r(e){return Object(n["a"])({url:"/business/client/queryClientCompanyList",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/business/client/queryClientCompanyInfo",method:"post",params:e})}function i(e){return Object(n["a"])({url:"/business/client/saveOrUpdateClientCompany",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/business/client/removeClientCompany",method:"post",params:e})}function c(e){return Object(n["a"])({url:"/business/contract/queryContractListByClientId",method:"post",params:e})}function l(e){return Object(n["a"])({url:"/business/contract/queryContractCompanyListByClientId",method:"post",params:e})}function d(e){return Object(n["a"])({url:"/business/client/checkReClientCompanyInfo",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/business/client/queryClientCompanyWorkplaceListByClientCompanyId",method:"post",params:e})}function p(e){return Object(n["a"])({url:"/business/scope/queryClientOrgList",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/business/scope/createClientOrg",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/business/scope/updateClientOrg",method:"post",data:e})}function h(e){return Object(n["a"])({url:"/business/scope/createContractOrg",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/business/scope/queryContractOrgListById",method:"post",params:e})}function g(e){return Object(n["a"])({url:"/business/scope/closeClientOrg",method:"post",params:e})}function y(e){return Object(n["a"])({url:"/business/scope/deleteContractOrg",method:"post",params:e})}function C(e){return Object(n["a"])({url:"/business/scope/deleteClientOrg",method:"post",params:e})}function I(e){return Object(n["a"])({url:"/business/scope/queryContractOrgList",method:"post",data:e})}function w(e){return Object(n["a"])({url:"/business/clientlevel/queryClientTwoLevelList",method:"post",data:e})}function v(e){return Object(n["a"])({url:"/business/clientlevel/save",method:"post",data:e})}function O(e){return Object(n["a"])({url:"/business/clientlevel/update",method:"post",data:e})}function D(e){return Object(n["a"])({url:"/business/clientlevel/detail",method:"post",data:e})}function j(e){return Object(n["a"])({url:"/business/clientlevel/remove",method:"post",data:e})}function L(e){return Object(n["a"])({url:"/business/clientlevel/queryClientTwoLevelBySelect",method:"post",data:e})}},f889:function(e,t,a){"use strict";a.d(t,"k",(function(){return r})),a.d(t,"s",(function(){return o})),a.d(t,"t",(function(){return i})),a.d(t,"i",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"h",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"p",(function(){return b})),a.d(t,"m",(function(){return h})),a.d(t,"n",(function(){return f})),a.d(t,"o",(function(){return g})),a.d(t,"j",(function(){return y})),a.d(t,"q",(function(){return C})),a.d(t,"b",(function(){return I})),a.d(t,"u",(function(){return w})),a.d(t,"l",(function(){return v})),a.d(t,"r",(function(){return O})),a.d(t,"d",(function(){return D}));a("99af");var n=a("b775");function r(e){return Object(n["a"])({url:"/salary/salaryLineSet/querySalaryLineList",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/salary/salaryLineSet/saveCommitData",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/salary/salaryLineSet/queryForDetail?salaryLineMainId=".concat(e.salaryLineMainId),method:"post"})}function s(e){return Object(n["a"])({url:"/salary/salaryLineSet/queryForVersion?lineMainId=".concat(e.lineMainId),method:"post"})}function c(e){return Object(n["a"])({url:"/salary/salaryLineSet/queryByLineMainIdAndVersion?lineMainId=".concat(e.lineMainId,"&version=").concat(e.version),method:"post"})}function l(e){return Object(n["a"])({url:"/business/client/queryClientCompayByName?clinetName=".concat(e.clinetName),method:"post"})}function d(e){return Object(n["a"])({url:"/business/contract/queryContractByClientCompanyId?clientCompanyId=".concat(e.clientCompanyId),method:"post"})}function u(e){return Object(n["a"])({url:"/salary/salaryLineSet/addOrUpdateSalaryLineInfo",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/salary/salaryLineSet/queryForEdit?lineMainId=".concat(e.lineMainId),method:"post"})}function m(e){return Object(n["a"])({url:"/salary/salaryLineSet/deleteById?lineMainId=".concat(e.lineMainId),method:"post"})}function b(e){return Object(n["a"])({url:"/salary/salaryLineSet/queryUvCvByContract",method:"post",data:e})}function h(e){return Object(n["a"])({url:"/salary/salaryLineSet/queryByLineMainIdAndVersion?lineMainId=".concat(e.lineMainId,"&version=").concat(e.version),method:"post"})}function f(e){return Object(n["a"])({url:"/salary/salaryLineSet/queryByStation?lineMainId=".concat(e.lineMainId,"&station=").concat(e.station,"&version=").concat(e.version),method:"post"})}function g(e){return Object(n["a"])({url:"/salary/salaryLineSet/queryUvCv",method:"post",data:e})}function y(e){return Object(n["a"])({url:"/salary/queryForObject",method:"post",data:e})}function C(e){return Object(n["a"])({url:"/salary/salaryInfoAdd",method:"post",data:e})}function I(e){return Object(n["a"])({url:"/salary/deleteById?salaryId=".concat(e.salaryId),method:"post"})}function w(e){return Object(n["a"])({url:"/salary/exprotExcel",method:"post",data:e})}function v(e){return Object(n["a"])({url:"/salary/queryDetail?salaryId=".concat(e.salaryId),method:"post"})}function O(e){return Object(n["a"])({url:"/salary/updateSalaryInfo",method:"post",data:e})}function D(e){return Object(n["a"])({headers:{"Content-Type":"multipart/form-data"},url:"/salary/importExcel",method:"post",data:e})}},f8af:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"j",(function(){return o})),a.d(t,"k",(function(){return i})),a.d(t,"l",(function(){return s})),a.d(t,"i",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"h",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"d",(function(){return b})),a.d(t,"b",(function(){return h}));var n=a("b775");function r(e){return Object(n["a"])({url:"/employ/workplace/save",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/employ/workplace/queryEmployWorkplaceList",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/employ/workplace/remove",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/employ/workplace/update",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/employ/workplace/detail",method:"post",data:e})}function l(e,t){return Object(n["a"])({url:"/employ/workplace/queryEmployWorkplaceBySelect",method:"post",data:e,params:t})}function d(e){return Object(n["a"])({url:"/employ/two/queryFormalEmployChangeList",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/employ/two/exportFormalEmployChangeList",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/employ/two/queryUnFormalEmployChangeList",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/employ/two/exportUnFormalEmployChangeList",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/employ/archives/exportTwoEmploy",method:"post",data:e})}function h(e){return Object(n["a"])({url:"/employ/archives/exportEmployInfoTwoContract",method:"post",data:e})}}}]);