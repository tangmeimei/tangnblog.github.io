(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-581ca1e2"],{"0d13":function(e,t,a){"use strict";a("bdbe")},"22b8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryRegionListData}},[a("el-form-item",{attrs:{label:"省份名称",prop:"regionName"}},[a("el-autocomplete",{staticStyle:{width:"200px",height:"30px"},attrs:{clearable:"","fetch-suggestions":e.querySearchAsync,placeholder:"请输入省份名称"},nativeOn:{keyup:function(e){e.target.value=e.target.value.replace(/^\s+|\s+$/gm,"")}},model:{value:e.queryRegionListData.regionName,callback:function(t){e.$set(e.queryRegionListData,"regionName",t)},expression:"queryRegionListData.regionName"}})],1),a("div",{staticClass:"right-btn"},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"database.province.add",expression:"'database.province.add'"}],staticClass:"but-91",on:{click:e.toNewProvince}},[e._v("新增")]),a("el-button",{staticClass:"but-91",on:{click:e.emptyBtn}},[e._v("重置")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"database.province.list",expression:"'database.province.list'"}],staticClass:"but-91",on:{click:e.queryList}},[e._v("查询")])],1)],1),a("div",{staticClass:"table-min"},[a("el-table",{staticStyle:{width:"100%","border-radius":"6px"},attrs:{height:"542px",data:e.listData,size:"medium","header-cell-style":{background:"#fff",color:"#333"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"省份名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.regionName))])]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"has",rawName:"v-has",value:"database.province.edit",expression:"'database.province.edit'"}],staticClass:"customBtn",staticStyle:{"margin-right":"6px"},attrs:{size:"medium"},on:{click:function(a){return e.toEditPage(t.row)}}},[e._v("编辑")]),a("span",{directives:[{name:"has",rawName:"v-has",value:"database.province.delete",expression:"'database.province.delete'"}],staticClass:"customBtn",attrs:{size:"medium"},on:{click:function(a){return e.delBtn(t.row.regionId)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{staticStyle:{"margin-top":"160px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,width:"30%",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.handlecolse}},[a("el-form",{ref:"updateRegionForm",attrs:{rules:e.rulesDialog,model:e.updateRegionForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"省份名称",prop:"regionName"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"50",clearable:"",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.updateRegionForm.regionName,callback:function(t){e.$set(e.updateRegionForm,"regionName",t)},expression:"updateRegionForm.regionName"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.preserveBtn("updateRegionForm")}}},[e._v("确 定")])],1)],1)],1),a("div",{staticClass:"pagination-min"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[15,30,50],layout:"total,sizes, prev, pager, next, jumper",total:e.paginationData.rowCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],1)],1)},n=[],r=a("1da1"),s=(a("96cf"),a("d81d"),a("a417")),o={data:function(){var e=function(e,t,a){""===t&&a(new Error("内容不能为空！")),a()};return{rulesDialog:{regionName:[{required:!0,validator:e,trigger:"blur"}]},listData:[],dialogFormVisible:!1,formLabelWidth:"120px",queryRegionListData:{parentId:"",regionCode:"",regionId:"",regionLevel:"1",regionList:[],regionName:"",regionNameEn:"",regionOrder:"",regionShortnameEn:""},updateRegionForm:{string:"",regionCode:"",regionId:"",regionLevel:"1",regionName:"",regionNameEn:"",regionOrder:"",regionShortnameEn:""},dialogTitle:"创建省",paginationData:{},currentPage:1,pageSize:15,pageIndex:1}},created:function(){this.baseList(this.pageIndex)},methods:{indexMethod:function(e){return this.pageSize*this.paginationData.pageIndex+e-this.pageSize+1},handlecolse:function(){this.$refs.updateRegionForm.resetFields()},baseList:function(e){var t=this;Object(s["C"])({input:this.queryRegionListData,nextToken:"",pageEnd:0,pageIndex:e,pageSize:this.pageSize,pageStart:0}).then((function(e){t.paginationData=e,t.listData=e.result}))},preserveBtn:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(s["W"])(t.updateRegionForm).then((function(e){t.dialogFormVisible=!1,t.baseList(),"创建省"==t.dialogTitle?t.$message({message:"新增成功！",type:"success"}):t.$message({message:"编辑成功！",type:"success"})}))}))},toDetails:function(e){this.$router.push({path:"groupDetails",query:{clientGroupId:e}})},emptyBtn:function(){this.queryRegionListData.regionName="",this.baseList(this.pageIndex)},toNewProvince:function(){this.updateRegionForm.regionName="",this.dialogFormVisible=!0,this.dialogTitle="创建省"},toEditPage:function(e){var t=JSON.parse(JSON.stringify(e));this.updateRegionForm=t,this.dialogFormVisible=!0,this.dialogTitle="编辑省"},delBtn:function(e){var t=this;this.$confirm("此操作将永久删除该数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["P"])({regionId:e}).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.baseList()}))}))},queryList:function(){this.baseList()},handleSizeChange:function(){this.baseList()},handleCurrentChange:function(e){this.baseList(e)},querySearchAsync:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var n,r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(console.log(e),""!=e){i.next=5;break}t([]),i.next=12;break;case 5:return a.queryRegionListData.regionName=e,n={input:a.queryRegionListData,nextToken:"",pageEnd:0,pageIndex:a.pageIndex,pageSize:a.pageSize,pageStart:0},i.next=9,Object(s["C"])(n);case 9:r=i.sent,o=r.result.map((function(e){return{value:e.regionName}})),t(o);case 12:case"end":return i.stop()}}),i)})))()}}},l=o,c=(a("0d13"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"28903b0e",null);t["default"]=u.exports},bdbe:function(e,t,a){}}]);